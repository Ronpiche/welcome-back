{
  "files": {
    "src/app.service.ts": {
      "language": "typescript",
      "mutants": [
        {
          "id": "0",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/app.service.ts(6,16): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "249",
            "250"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 8
            },
            "start": {
              "column": 23,
              "line": 6
            }
          }
        },
        {
          "id": "1",
          "mutatorName": "StringLiteral",
          "replacement": "``",
          "statusReason": "Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: \"Welcome back version: 0.0.1\"\nReceived: \"\"\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/app.service.spec.ts:19:17)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [
            "250"
          ],
          "coveredBy": [
            "249",
            "250"
          ],
          "location": {
            "end": {
              "column": 46,
              "line": 7
            },
            "start": {
              "column": 12,
              "line": 7
            }
          }
        }
      ],
      "source": "import { Injectable } from \"@nestjs/common\";\nimport { version } from \"../package.json\";\n\n@Injectable()\nexport class AppService {\n  getHealth(): string {\n    return `Welcome back version: ${version}`;\n  }\n}"
    },
    "src/decorators/isPublic.ts": {
      "language": "typescript",
      "mutants": [
        {
          "id": "2",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "statusReason": "Static mutant (and \"ignoreStatic\" was enabled)",
          "status": "Ignored",
          "static": true,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 52,
              "line": 4
            },
            "start": {
              "column": 42,
              "line": 4
            }
          }
        },
        {
          "id": "3",
          "mutatorName": "ArrowFunction",
          "replacement": "() => undefined",
          "statusReason": "Static mutant (and \"ignoreStatic\" was enabled)",
          "status": "Ignored",
          "static": true,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 105,
              "line": 6
            },
            "start": {
              "column": 25,
              "line": 6
            }
          }
        }
      ],
      "source": "import { SetMetadata } from \"@nestjs/common\";\nimport type { CustomDecorator } from \"@nestjs/common\";\n\nexport const IS_PUBLIC_METADATA_SYMBOL = \"isPublic\";\n\nexport const IsPublic = (args: boolean): CustomDecorator => SetMetadata(IS_PUBLIC_METADATA_SYMBOL, args);"
    },
    "src/decorators/role.ts": {
      "language": "typescript",
      "mutants": [
        {
          "id": "4",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "statusReason": "Static mutant (and \"ignoreStatic\" was enabled)",
          "status": "Ignored",
          "static": true,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 32,
              "line": 4
            },
            "start": {
              "column": 25,
              "line": 4
            }
          }
        },
        {
          "id": "5",
          "mutatorName": "ArrowFunction",
          "replacement": "() => undefined",
          "statusReason": "Static mutant (and \"ignoreStatic\" was enabled)",
          "status": "Ignored",
          "static": true,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 87,
              "line": 11
            },
            "start": {
              "column": 22,
              "line": 11
            }
          }
        }
      ],
      "source": "import { SetMetadata } from \"@nestjs/common\";\nimport type { CustomDecorator } from \"@nestjs/common\";\n\nexport const ROLE_KEY = \"roles\";\n\nexport enum Role {\n  USER = \"user\",\n  ADMIN = \"admin\",\n}\n\nexport const Roles = (...args: Role[]): CustomDecorator => SetMetadata(ROLE_KEY, args);"
    },
    "src/guards/jwt.guard.ts": {
      "language": "typescript",
      "mutants": [
        {
          "id": "15",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/guards/jwt.guard.ts(27,60): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "148",
            "150",
            "151",
            "152",
            "153"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 35
            },
            "start": {
              "column": 79,
              "line": 27
            }
          }
        },
        {
          "id": "16",
          "mutatorName": "BooleanLiteral",
          "replacement": "authorization",
          "statusReason": "Error: expect(received).toBeInstanceOf(expected)\n\nExpected constructor: UnauthorizedException\nReceived constructor: TypeError\n\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/guards/jwt.guard.spec.ts:71:21)",
          "status": "Killed",
          "testsCompleted": 5,
          "static": false,
          "killedBy": [
            "148"
          ],
          "coveredBy": [
            "148",
            "150",
            "151",
            "152",
            "153"
          ],
          "location": {
            "end": {
              "column": 23,
              "line": 29
            },
            "start": {
              "column": 9,
              "line": 29
            }
          }
        },
        {
          "id": "17",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "statusReason": "UnauthorizedException: Unauthorized\n    at JwtGuard.verifyToken (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/src/guards/jwt.guard.ts:129:17)\n    at JwtGuard.canActivate (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/src/guards/jwt.guard.ts:115:41)\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/guards/jwt.guard.spec.ts:83:39)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 5,
          "static": false,
          "killedBy": [
            "150"
          ],
          "coveredBy": [
            "148",
            "150",
            "151",
            "152",
            "153"
          ],
          "location": {
            "end": {
              "column": 23,
              "line": 29
            },
            "start": {
              "column": 9,
              "line": 29
            }
          }
        },
        {
          "id": "18",
          "mutatorName": "ConditionalExpression",
          "replacement": "false",
          "statusReason": "Error: expect(received).toBeInstanceOf(expected)\n\nExpected constructor: UnauthorizedException\nReceived constructor: TypeError\n\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/guards/jwt.guard.spec.ts:71:21)",
          "status": "Killed",
          "testsCompleted": 5,
          "static": false,
          "killedBy": [
            "148"
          ],
          "coveredBy": [
            "148",
            "150",
            "151",
            "152",
            "153"
          ],
          "location": {
            "end": {
              "column": 23,
              "line": 29
            },
            "start": {
              "column": 9,
              "line": 29
            }
          }
        },
        {
          "id": "19",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "Error: expect(received).toBeInstanceOf(expected)\n\nExpected constructor: UnauthorizedException\nReceived constructor: TypeError\n\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/guards/jwt.guard.spec.ts:71:21)",
          "status": "Killed",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [
            "148"
          ],
          "coveredBy": [
            "148"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 31
            },
            "start": {
              "column": 25,
              "line": 29
            }
          }
        },
        {
          "id": "20",
          "mutatorName": "LogicalOperator",
          "replacement": "authorization.split(\" \") && []",
          "statusReason": "src/guards/jwt.guard.ts(32,12): error TS2493: Tuple type '[]' of length '0' has no element at index '0'.\nsrc/guards/jwt.guard.ts(32,18): error TS2493: Tuple type '[]' of length '0' has no element at index '1'.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "150",
            "151",
            "152",
            "153"
          ],
          "location": {
            "end": {
              "column": 57,
              "line": 32
            },
            "start": {
              "column": 27,
              "line": 32
            }
          }
        },
        {
          "id": "21",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "statusReason": "UnauthorizedException: Unauthorized\n    at JwtGuard.verifyToken (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/src/guards/jwt.guard.ts:129:17)\n    at JwtGuard.canActivate (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/src/guards/jwt.guard.ts:115:41)\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/guards/jwt.guard.spec.ts:83:39)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 4,
          "static": false,
          "killedBy": [
            "150"
          ],
          "coveredBy": [
            "150",
            "151",
            "152",
            "153"
          ],
          "location": {
            "end": {
              "column": 50,
              "line": 32
            },
            "start": {
              "column": 47,
              "line": 32
            }
          }
        },
        {
          "id": "22",
          "mutatorName": "ArrayDeclaration",
          "replacement": "[\"Stryker was here\"]",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 57,
              "line": 32
            },
            "start": {
              "column": 55,
              "line": 32
            }
          }
        },
        {
          "id": "23",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "status": "Survived",
          "testsCompleted": 4,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "150",
            "151",
            "152",
            "153"
          ],
          "location": {
            "end": {
              "column": 29,
              "line": 34
            },
            "start": {
              "column": 12,
              "line": 34
            }
          }
        },
        {
          "id": "24",
          "mutatorName": "ConditionalExpression",
          "replacement": "false",
          "statusReason": "UnauthorizedException: Unauthorized\n    at JwtGuard.verifyToken (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/src/guards/jwt.guard.ts:129:17)\n    at JwtGuard.canActivate (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/src/guards/jwt.guard.ts:115:41)\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/guards/jwt.guard.spec.ts:83:39)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 4,
          "static": false,
          "killedBy": [
            "150"
          ],
          "coveredBy": [
            "150",
            "151",
            "152",
            "153"
          ],
          "location": {
            "end": {
              "column": 29,
              "line": 34
            },
            "start": {
              "column": 12,
              "line": 34
            }
          }
        },
        {
          "id": "25",
          "mutatorName": "EqualityOperator",
          "replacement": "type !== \"Bearer\"",
          "statusReason": "UnauthorizedException: Unauthorized\n    at JwtGuard.verifyToken (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/src/guards/jwt.guard.ts:129:17)\n    at JwtGuard.canActivate (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/src/guards/jwt.guard.ts:115:41)\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/guards/jwt.guard.spec.ts:83:39)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 4,
          "static": false,
          "killedBy": [
            "150"
          ],
          "coveredBy": [
            "150",
            "151",
            "152",
            "153"
          ],
          "location": {
            "end": {
              "column": 29,
              "line": 34
            },
            "start": {
              "column": 12,
              "line": 34
            }
          }
        },
        {
          "id": "26",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "statusReason": "UnauthorizedException: Unauthorized\n    at JwtGuard.verifyToken (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/src/guards/jwt.guard.ts:129:17)\n    at JwtGuard.canActivate (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/src/guards/jwt.guard.ts:115:41)\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/guards/jwt.guard.spec.ts:83:39)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 4,
          "static": false,
          "killedBy": [
            "150"
          ],
          "coveredBy": [
            "150",
            "151",
            "152",
            "153"
          ],
          "location": {
            "end": {
              "column": 29,
              "line": 34
            },
            "start": {
              "column": 21,
              "line": 34
            }
          }
        },
        {
          "id": "27",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/guards/jwt.guard.ts(37,56): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "148",
            "149",
            "150",
            "151",
            "152",
            "153",
            "154"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 56
            },
            "start": {
              "column": 73,
              "line": 37
            }
          }
        },
        {
          "id": "28",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "statusReason": "Error: expect(received).not.toBeInstanceOf(expected)\n\nExpected constructor: not NoErrorThrownError\n\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/guards/jwt.guard.spec.ts:70:25)",
          "status": "Killed",
          "testsCompleted": 7,
          "static": false,
          "killedBy": [
            "148"
          ],
          "coveredBy": [
            "148",
            "149",
            "150",
            "151",
            "152",
            "153",
            "154"
          ],
          "location": {
            "end": {
              "column": 17,
              "line": 40
            },
            "start": {
              "column": 9,
              "line": 40
            }
          }
        },
        {
          "id": "29",
          "mutatorName": "ConditionalExpression",
          "replacement": "false",
          "statusReason": "UnauthorizedException: Unauthorized\n    at JwtGuard.verifyToken (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/src/guards/jwt.guard.ts:129:17)\n    at JwtGuard.canActivate (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/src/guards/jwt.guard.ts:115:41)\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/guards/jwt.guard.spec.ts:76:39)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 7,
          "static": false,
          "killedBy": [
            "149"
          ],
          "coveredBy": [
            "148",
            "149",
            "150",
            "151",
            "152",
            "153",
            "154"
          ],
          "location": {
            "end": {
              "column": 17,
              "line": 40
            },
            "start": {
              "column": 9,
              "line": 40
            }
          }
        },
        {
          "id": "30",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "UnauthorizedException: Unauthorized\n    at JwtGuard.verifyToken (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/src/guards/jwt.guard.ts:129:17)\n    at JwtGuard.canActivate (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/src/guards/jwt.guard.ts:115:41)\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/guards/jwt.guard.spec.ts:76:39)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [
            "149"
          ],
          "coveredBy": [
            "149"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 42
            },
            "start": {
              "column": 19,
              "line": 40
            }
          }
        },
        {
          "id": "31",
          "mutatorName": "BooleanLiteral",
          "replacement": "false",
          "statusReason": "Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/guards/jwt.guard.spec.ts:77:27)",
          "status": "Killed",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [
            "149"
          ],
          "coveredBy": [
            "149"
          ],
          "location": {
            "end": {
              "column": 18,
              "line": 41
            },
            "start": {
              "column": 14,
              "line": 41
            }
          }
        },
        {
          "id": "32",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "statusReason": "Error: expect(received).not.toBeInstanceOf(expected)\n\nExpected constructor: not NoErrorThrownError\n\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/guards/jwt.guard.spec.ts:70:25)",
          "status": "Killed",
          "testsCompleted": 6,
          "static": false,
          "killedBy": [
            "148"
          ],
          "coveredBy": [
            "148",
            "150",
            "151",
            "152",
            "153",
            "154"
          ],
          "location": {
            "end": {
              "column": 58,
              "line": 43
            },
            "start": {
              "column": 9,
              "line": 43
            }
          }
        },
        {
          "id": "33",
          "mutatorName": "ConditionalExpression",
          "replacement": "false",
          "statusReason": "UnauthorizedException: Unauthorized\n    at JwtGuard.verifyToken (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/src/guards/jwt.guard.ts:129:17)\n    at JwtGuard.canActivate (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/src/guards/jwt.guard.ts:115:41)\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/guards/jwt.guard.spec.ts:110:39)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 6,
          "static": false,
          "killedBy": [
            "154"
          ],
          "coveredBy": [
            "148",
            "150",
            "151",
            "152",
            "153",
            "154"
          ],
          "location": {
            "end": {
              "column": 58,
              "line": 43
            },
            "start": {
              "column": 9,
              "line": 43
            }
          }
        },
        {
          "id": "34",
          "mutatorName": "EqualityOperator",
          "replacement": "this.configService.get(\"BYPASS_GUARD\") !== \"true\"",
          "statusReason": "Error: expect(received).not.toBeInstanceOf(expected)\n\nExpected constructor: not NoErrorThrownError\n\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/guards/jwt.guard.spec.ts:70:25)",
          "status": "Killed",
          "testsCompleted": 6,
          "static": false,
          "killedBy": [
            "148"
          ],
          "coveredBy": [
            "148",
            "150",
            "151",
            "152",
            "153",
            "154"
          ],
          "location": {
            "end": {
              "column": 58,
              "line": 43
            },
            "start": {
              "column": 9,
              "line": 43
            }
          }
        },
        {
          "id": "35",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "statusReason": "UnauthorizedException: Unauthorized\n    at JwtGuard.verifyToken (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/src/guards/jwt.guard.ts:129:17)\n    at JwtGuard.canActivate (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/src/guards/jwt.guard.ts:115:41)\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/guards/jwt.guard.spec.ts:110:39)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 6,
          "static": false,
          "killedBy": [
            "154"
          ],
          "coveredBy": [
            "148",
            "150",
            "151",
            "152",
            "153",
            "154"
          ],
          "location": {
            "end": {
              "column": 46,
              "line": 43
            },
            "start": {
              "column": 32,
              "line": 43
            }
          }
        },
        {
          "id": "36",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "statusReason": "UnauthorizedException: Unauthorized\n    at JwtGuard.verifyToken (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/src/guards/jwt.guard.ts:129:17)\n    at JwtGuard.canActivate (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/src/guards/jwt.guard.ts:115:41)\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/guards/jwt.guard.spec.ts:110:39)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 6,
          "static": false,
          "killedBy": [
            "154"
          ],
          "coveredBy": [
            "148",
            "150",
            "151",
            "152",
            "153",
            "154"
          ],
          "location": {
            "end": {
              "column": 58,
              "line": 43
            },
            "start": {
              "column": 52,
              "line": 43
            }
          }
        },
        {
          "id": "37",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "UnauthorizedException: Unauthorized\n    at JwtGuard.verifyToken (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/src/guards/jwt.guard.ts:129:17)\n    at JwtGuard.canActivate (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/src/guards/jwt.guard.ts:115:41)\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/guards/jwt.guard.spec.ts:110:39)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [
            "154"
          ],
          "coveredBy": [
            "154"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 51
            },
            "start": {
              "column": 60,
              "line": 43
            }
          }
        },
        {
          "id": "38",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "src/guards/jwt.guard.ts(44,7): error TS2739: Type '{}' is missing the following properties from type '{ id: string; email: string; role: Role; }': id, email, role\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "154"
          ],
          "location": {
            "end": {
              "column": 8,
              "line": 48
            },
            "start": {
              "column": 22,
              "line": 44
            }
          }
        },
        {
          "id": "39",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "Survived",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "154"
          ],
          "location": {
            "end": {
              "column": 21,
              "line": 45
            },
            "start": {
              "column": 13,
              "line": 45
            }
          }
        },
        {
          "id": "40",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "Survived",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "154"
          ],
          "location": {
            "end": {
              "column": 34,
              "line": 46
            },
            "start": {
              "column": 16,
              "line": 46
            }
          }
        },
        {
          "id": "41",
          "mutatorName": "BooleanLiteral",
          "replacement": "false",
          "statusReason": "Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/guards/jwt.guard.spec.ts:111:27)",
          "status": "Killed",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [
            "154"
          ],
          "coveredBy": [
            "154"
          ],
          "location": {
            "end": {
              "column": 18,
              "line": 50
            },
            "start": {
              "column": 14,
              "line": 50
            }
          }
        },
        {
          "id": "42",
          "mutatorName": "BooleanLiteral",
          "replacement": "false",
          "statusReason": "Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/guards/jwt.guard.spec.ts:84:27)",
          "status": "Killed",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [
            "150"
          ],
          "coveredBy": [
            "150",
            "151"
          ],
          "location": {
            "end": {
              "column": 16,
              "line": 55
            },
            "start": {
              "column": 12,
              "line": 55
            }
          }
        },
        {
          "id": "43",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/guards/jwt.guard.ts(58,45): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "148",
            "150",
            "151",
            "152",
            "153"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 75
            },
            "start": {
              "column": 66,
              "line": 58
            }
          }
        },
        {
          "id": "44",
          "mutatorName": "BooleanLiteral",
          "replacement": "token",
          "statusReason": "UnauthorizedException: Unauthorized\n    at JwtGuard.verifyToken (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/src/guards/jwt.guard.ts:129:17)\n    at JwtGuard.canActivate (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/src/guards/jwt.guard.ts:115:41)\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/guards/jwt.guard.spec.ts:83:39)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 5,
          "static": false,
          "killedBy": [
            "150"
          ],
          "coveredBy": [
            "148",
            "150",
            "151",
            "152",
            "153"
          ],
          "location": {
            "end": {
              "column": 15,
              "line": 59
            },
            "start": {
              "column": 9,
              "line": 59
            }
          }
        },
        {
          "id": "45",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "statusReason": "UnauthorizedException: Unauthorized\n    at JwtGuard.verifyToken (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/src/guards/jwt.guard.ts:129:17)\n    at JwtGuard.canActivate (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/src/guards/jwt.guard.ts:115:41)\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/guards/jwt.guard.spec.ts:83:39)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 5,
          "static": false,
          "killedBy": [
            "150"
          ],
          "coveredBy": [
            "148",
            "150",
            "151",
            "152",
            "153"
          ],
          "location": {
            "end": {
              "column": 15,
              "line": 59
            },
            "start": {
              "column": 9,
              "line": 59
            }
          }
        },
        {
          "id": "46",
          "mutatorName": "ConditionalExpression",
          "replacement": "false",
          "status": "Survived",
          "testsCompleted": 5,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "148",
            "150",
            "151",
            "152",
            "153"
          ],
          "location": {
            "end": {
              "column": 15,
              "line": 59
            },
            "start": {
              "column": 9,
              "line": 59
            }
          }
        },
        {
          "id": "47",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "Survived",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "148",
            "152"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 61
            },
            "start": {
              "column": 17,
              "line": 59
            }
          }
        },
        {
          "id": "48",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/guards/jwt.guard.ts(58,45): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "150",
            "151",
            "153"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 72
            },
            "start": {
              "column": 9,
              "line": 62
            }
          }
        },
        {
          "id": "49",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "statusReason": "UnauthorizedException: Unauthorized\n    at JwtGuard.verifyToken (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/src/guards/jwt.guard.ts:162:17)\n    at JwtGuard.canActivate (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/src/guards/jwt.guard.ts:115:41)\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/guards/jwt.guard.spec.ts:83:39)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 3,
          "static": false,
          "killedBy": [
            "150"
          ],
          "coveredBy": [
            "150",
            "151",
            "153"
          ],
          "location": {
            "end": {
              "column": 45,
              "line": 63
            },
            "start": {
              "column": 42,
              "line": 63
            }
          }
        },
        {
          "id": "50",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "statusReason": "UnauthorizedException: Unauthorized\n    at JwtGuard.verifyToken (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/src/guards/jwt.guard.ts:162:17)\n    at async JwtGuard.canActivate (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/src/guards/jwt.guard.ts:115:30)\n    at async Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/guards/jwt.guard.spec.ts:90:27)",
          "status": "Killed",
          "testsCompleted": 3,
          "static": false,
          "killedBy": [
            "151"
          ],
          "coveredBy": [
            "150",
            "151",
            "153"
          ],
          "location": {
            "end": {
              "column": 52,
              "line": 65
            },
            "start": {
              "column": 11,
              "line": 65
            }
          }
        },
        {
          "id": "51",
          "mutatorName": "ConditionalExpression",
          "replacement": "false",
          "statusReason": "UnauthorizedException: Unauthorized\n    at JwtGuard.verifyToken (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/src/guards/jwt.guard.ts:162:17)\n    at JwtGuard.canActivate (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/src/guards/jwt.guard.ts:115:41)\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/guards/jwt.guard.spec.ts:83:39)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 3,
          "static": false,
          "killedBy": [
            "150"
          ],
          "coveredBy": [
            "150",
            "151",
            "153"
          ],
          "location": {
            "end": {
              "column": 52,
              "line": 65
            },
            "start": {
              "column": 11,
              "line": 65
            }
          }
        },
        {
          "id": "52",
          "mutatorName": "EqualityOperator",
          "replacement": "payload.iss !== this.gipService.issuerUrl",
          "statusReason": "UnauthorizedException: Unauthorized\n    at JwtGuard.verifyToken (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/src/guards/jwt.guard.ts:162:17)\n    at JwtGuard.canActivate (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/src/guards/jwt.guard.ts:115:41)\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/guards/jwt.guard.spec.ts:83:39)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 3,
          "static": false,
          "killedBy": [
            "150"
          ],
          "coveredBy": [
            "150",
            "151",
            "153"
          ],
          "location": {
            "end": {
              "column": 52,
              "line": 65
            },
            "start": {
              "column": 11,
              "line": 65
            }
          }
        },
        {
          "id": "53",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "UnauthorizedException: Unauthorized\n    at JwtGuard.verifyToken (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/src/guards/jwt.guard.ts:162:17)\n    at JwtGuard.canActivate (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/src/guards/jwt.guard.ts:115:41)\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/guards/jwt.guard.spec.ts:83:39)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [
            "150"
          ],
          "coveredBy": [
            "150"
          ],
          "location": {
            "end": {
              "column": 8,
              "line": 67
            },
            "start": {
              "column": 54,
              "line": 65
            }
          }
        },
        {
          "id": "54",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "status": "Survived",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "151",
            "153"
          ],
          "location": {
            "end": {
              "column": 56,
              "line": 68
            },
            "start": {
              "column": 11,
              "line": 68
            }
          }
        },
        {
          "id": "55",
          "mutatorName": "ConditionalExpression",
          "replacement": "false",
          "statusReason": "UnauthorizedException: Unauthorized\n    at JwtGuard.verifyToken (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/src/guards/jwt.guard.ts:162:17)\n    at JwtGuard.canActivate (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/src/guards/jwt.guard.ts:115:41)\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/guards/jwt.guard.spec.ts:90:39)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [
            "151"
          ],
          "coveredBy": [
            "151",
            "153"
          ],
          "location": {
            "end": {
              "column": 56,
              "line": 68
            },
            "start": {
              "column": 11,
              "line": 68
            }
          }
        },
        {
          "id": "56",
          "mutatorName": "EqualityOperator",
          "replacement": "payload.iss !== this.cognitoService.issuerUrl",
          "statusReason": "UnauthorizedException: Unauthorized\n    at JwtGuard.verifyToken (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/src/guards/jwt.guard.ts:162:17)\n    at JwtGuard.canActivate (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/src/guards/jwt.guard.ts:115:41)\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/guards/jwt.guard.spec.ts:90:39)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [
            "151"
          ],
          "coveredBy": [
            "151",
            "153"
          ],
          "location": {
            "end": {
              "column": 56,
              "line": 68
            },
            "start": {
              "column": 11,
              "line": 68
            }
          }
        },
        {
          "id": "57",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "UnauthorizedException: Unauthorized\n    at JwtGuard.verifyToken (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/src/guards/jwt.guard.ts:162:17)\n    at JwtGuard.canActivate (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/src/guards/jwt.guard.ts:115:41)\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/guards/jwt.guard.spec.ts:90:39)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [
            "151"
          ],
          "coveredBy": [
            "151"
          ],
          "location": {
            "end": {
              "column": 8,
              "line": 70
            },
            "start": {
              "column": 58,
              "line": 68
            }
          }
        },
        {
          "id": "58",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "Error: expect(received).not.toBeInstanceOf(expected)\n\nExpected constructor: not NoErrorThrownError\n\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/guards/jwt.guard.spec.ts:104:25)",
          "status": "Killed",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [
            "153"
          ],
          "coveredBy": [
            "153"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 74
            },
            "start": {
              "column": 13,
              "line": 72
            }
          }
        },
        {
          "id": "59",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/guards/jwt.guard.ts(77,48): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "150"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 87
            },
            "start": {
              "column": 69,
              "line": 77
            }
          }
        },
        {
          "id": "60",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "src/guards/jwt.guard.ts(80,5): error TS2741: Property 'user' is missing in type '{}' but required in type 'UserRequest'.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "150"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 86
            },
            "start": {
              "column": 12,
              "line": 80
            }
          }
        },
        {
          "id": "61",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "src/guards/jwt.guard.ts(81,7): error TS2739: Type '{}' is missing the following properties from type '{ id: string; email: string; role: Role; }': id, email, role\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "150"
          ],
          "location": {
            "end": {
              "column": 8,
              "line": 85
            },
            "start": {
              "column": 13,
              "line": 81
            }
          }
        },
        {
          "id": "62",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/guards/jwt.guard.ts(89,52): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "151"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 99
            },
            "start": {
              "column": 73,
              "line": 89
            }
          }
        },
        {
          "id": "63",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "src/guards/jwt.guard.ts(92,5): error TS2741: Property 'user' is missing in type '{}' but required in type 'UserRequest'.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "151"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 98
            },
            "start": {
              "column": 12,
              "line": 92
            }
          }
        },
        {
          "id": "64",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "src/guards/jwt.guard.ts(93,7): error TS2739: Type '{}' is missing the following properties from type '{ id: string; email: string; role: Role; }': id, email, role\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "151"
          ],
          "location": {
            "end": {
              "column": 8,
              "line": 97
            },
            "start": {
              "column": 13,
              "line": 93
            }
          }
        },
        {
          "id": "65",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "statusReason": "UnauthorizedException: Unauthorized\n    at JwtGuard.verifyToken (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/src/guards/jwt.guard.ts:162:17)\n    at async JwtGuard.canActivate (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/src/guards/jwt.guard.ts:115:30)\n    at async Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/guards/jwt.guard.spec.ts:90:27)",
          "status": "Killed",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [
            "151"
          ],
          "coveredBy": [
            "151"
          ],
          "location": {
            "end": {
              "column": 77,
              "line": 95
            },
            "start": {
              "column": 16,
              "line": 95
            }
          }
        },
        {
          "id": "66",
          "mutatorName": "ConditionalExpression",
          "replacement": "false",
          "status": "Survived",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "151"
          ],
          "location": {
            "end": {
              "column": 77,
              "line": 95
            },
            "start": {
              "column": 16,
              "line": 95
            }
          }
        },
        {
          "id": "67",
          "mutatorName": "LogicalOperator",
          "replacement": "\"username\" in payload || typeof payload.username === \"string\"",
          "statusReason": "src/guards/jwt.guard.ts(95,56): error TS2339: Property 'username' does not exist on type 'never'.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "151"
          ],
          "location": {
            "end": {
              "column": 77,
              "line": 95
            },
            "start": {
              "column": 16,
              "line": 95
            }
          }
        },
        {
          "id": "68",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "Survived",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "151"
          ],
          "location": {
            "end": {
              "column": 26,
              "line": 95
            },
            "start": {
              "column": 16,
              "line": 95
            }
          }
        },
        {
          "id": "69",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 77,
              "line": 95
            },
            "start": {
              "column": 41,
              "line": 95
            }
          }
        },
        {
          "id": "70",
          "mutatorName": "EqualityOperator",
          "replacement": "typeof payload.username !== \"string\"",
          "statusReason": "src/guards/jwt.guard.ts(95,97): error TS2339: Property 'replace' does not exist on type 'never'.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 77,
              "line": 95
            },
            "start": {
              "column": 41,
              "line": 95
            }
          }
        },
        {
          "id": "71",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "statusReason": "src/guards/jwt.guard.ts(95,41): error TS2367: This comparison appears to be unintentional because the types '\"string\" | \"number\" | \"bigint\" | \"boolean\" | \"symbol\" | \"undefined\" | \"object\" | \"function\"' and '\"\"' have no overlap.\nsrc/guards/jwt.guard.ts(95,91): error TS2339: Property 'replace' does not exist on type 'never'.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 77,
              "line": 95
            },
            "start": {
              "column": 69,
              "line": 95
            }
          }
        },
        {
          "id": "72",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 115,
              "line": 95
            },
            "start": {
              "column": 105,
              "line": 95
            }
          }
        },
        {
          "id": "73",
          "mutatorName": "StringLiteral",
          "replacement": "\"Stryker was here!\"",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 119,
              "line": 95
            },
            "start": {
              "column": 117,
              "line": 95
            }
          }
        }
      ],
      "source": "import { Injectable, CanActivate, ExecutionContext, UnauthorizedException } from \"@nestjs/common\";\nimport { Reflector } from \"@nestjs/core\";\nimport { Request } from \"express\";\nimport { ConfigService } from \"@nestjs/config\";\nimport { GipService } from \"@src/services/gip/gip.service\";\nimport { CognitoService } from \"@src/services/cognito/cognito.service\";\nimport { Role } from \"@src/decorators/role\";\nimport { IS_PUBLIC_METADATA_SYMBOL } from \"@src/decorators/isPublic\";\n\nexport type UserRequest = {\n  user: {\n    id: string;\n    email: string;\n    role: Role;\n  };\n};\n\n@Injectable()\nexport class JwtGuard implements CanActivate {\n  public constructor(\n    private readonly reflector: Reflector,\n    private readonly gipService: GipService,\n    private readonly cognitoService: CognitoService,\n    private readonly configService: ConfigService,\n  ) { }\n\n  private static extractTokenFromHeader(request: Request): string | undefined {\n    const { authorization } = request.headers;\n    if (!authorization) {\n      return;\n    }\n    const [type, token] = authorization.split(\" \") ?? [];\n\n    return type === \"Bearer\" ? token : undefined;\n  }\n\n  public async canActivate(context: ExecutionContext): Promise<boolean> {\n    const isPublic = this.reflector.get<boolean>(IS_PUBLIC_METADATA_SYMBOL, context.getHandler());\n    const request = context.switchToHttp().getRequest<Request & UserRequest>();\n    if (isPublic) {\n      return true;\n    }\n    if (this.configService.get(\"BYPASS_GUARD\") === \"true\") {\n      request.user = {\n        id: \"bypass\",\n        email: \"bypass@localhost\",\n        role: Role.ADMIN,\n      };\n\n      return true;\n    }\n    const token = JwtGuard.extractTokenFromHeader(request);\n    Object.assign(request, await this.verifyToken(token));\n\n    return true;\n  }\n\n  private async verifyToken(token: string): Promise<UserRequest> {\n    if (!token) {\n      throw new UnauthorizedException();\n    }\n    try {\n      const [, payloadStr] = token.split(\".\");\n      const payload = JSON.parse(globalThis.atob(payloadStr)) as Record<string, unknown>;\n      if (payload.iss === this.gipService.issuerUrl) {\n        return await this.verifyGipToken(token);\n      }\n      if (payload.iss === this.cognitoService.issuerUrl) {\n        return await this.verifyCognitoToken(token);\n      }\n      throw new Error();\n    } catch {\n      throw new UnauthorizedException();\n    }\n  }\n\n  private async verifyGipToken(token: string): Promise<UserRequest> {\n    const payload = await this.gipService.verifyIdToken(token);\n\n    return {\n      user: {\n        id: payload.sub,\n        email: payload.email,\n        role: Role.USER,\n      },\n    };\n  }\n\n  private async verifyCognitoToken(token: string): Promise<UserRequest> {\n    const payload = await this.cognitoService.verifyIdToken(token);\n\n    return {\n      user: {\n        id: payload.sub,\n        email: \"username\" in payload && typeof payload.username === \"string\" ? payload.username.replace(\"azuread_\", \"\") : undefined,\n        role: Role.ADMIN,\n      },\n    };\n  }\n}"
    },
    "src/guards/role.guard.ts": {
      "language": "typescript",
      "mutants": [
        {
          "id": "74",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/guards/role.guard.ts(14,68): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "240",
            "241"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 16
            },
            "start": {
              "column": 76,
              "line": 14
            }
          }
        },
        {
          "id": "75",
          "mutatorName": "MethodExpression",
          "replacement": "requiredRoles.every(role => role === userRole)",
          "status": "Survived",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "240",
            "241"
          ],
          "location": {
            "end": {
              "column": 57,
              "line": 15
            },
            "start": {
              "column": 12,
              "line": 15
            }
          }
        },
        {
          "id": "76",
          "mutatorName": "ArrowFunction",
          "replacement": "() => undefined",
          "statusReason": "Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/guards/role.guard.spec.ts:60:27)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [
            "241"
          ],
          "coveredBy": [
            "240",
            "241"
          ],
          "location": {
            "end": {
              "column": 56,
              "line": 15
            },
            "start": {
              "column": 31,
              "line": 15
            }
          }
        },
        {
          "id": "77",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "statusReason": "Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: false\nReceived: true\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/guards/role.guard.spec.ts:53:27)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [
            "240"
          ],
          "coveredBy": [
            "240",
            "241"
          ],
          "location": {
            "end": {
              "column": 56,
              "line": 15
            },
            "start": {
              "column": 39,
              "line": 15
            }
          }
        },
        {
          "id": "78",
          "mutatorName": "ConditionalExpression",
          "replacement": "false",
          "statusReason": "Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/guards/role.guard.spec.ts:60:27)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [
            "241"
          ],
          "coveredBy": [
            "240",
            "241"
          ],
          "location": {
            "end": {
              "column": 56,
              "line": 15
            },
            "start": {
              "column": 39,
              "line": 15
            }
          }
        },
        {
          "id": "79",
          "mutatorName": "EqualityOperator",
          "replacement": "role !== userRole",
          "statusReason": "Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: false\nReceived: true\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/guards/role.guard.spec.ts:53:27)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [
            "240"
          ],
          "coveredBy": [
            "240",
            "241"
          ],
          "location": {
            "end": {
              "column": 56,
              "line": 15
            },
            "start": {
              "column": 39,
              "line": 15
            }
          }
        },
        {
          "id": "80",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/guards/role.guard.ts(18,50): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "239",
            "240",
            "241",
            "242"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 29
            },
            "start": {
              "column": 58,
              "line": 18
            }
          }
        },
        {
          "id": "81",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "statusReason": "Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: false\nReceived: true\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/guards/role.guard.spec.ts:53:27)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 4,
          "static": false,
          "killedBy": [
            "240"
          ],
          "coveredBy": [
            "239",
            "240",
            "241",
            "242"
          ],
          "location": {
            "end": {
              "column": 58,
              "line": 19
            },
            "start": {
              "column": 9,
              "line": 19
            }
          }
        },
        {
          "id": "82",
          "mutatorName": "ConditionalExpression",
          "replacement": "false",
          "status": "Survived",
          "testsCompleted": 4,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "239",
            "240",
            "241",
            "242"
          ],
          "location": {
            "end": {
              "column": 58,
              "line": 19
            },
            "start": {
              "column": 9,
              "line": 19
            }
          }
        },
        {
          "id": "83",
          "mutatorName": "EqualityOperator",
          "replacement": "this.configService.get(\"BYPASS_GUARD\") !== \"true\"",
          "statusReason": "Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: false\nReceived: true\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/guards/role.guard.spec.ts:53:27)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 4,
          "static": false,
          "killedBy": [
            "240"
          ],
          "coveredBy": [
            "239",
            "240",
            "241",
            "242"
          ],
          "location": {
            "end": {
              "column": 58,
              "line": 19
            },
            "start": {
              "column": 9,
              "line": 19
            }
          }
        },
        {
          "id": "84",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "Survived",
          "testsCompleted": 4,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "239",
            "240",
            "241",
            "242"
          ],
          "location": {
            "end": {
              "column": 46,
              "line": 19
            },
            "start": {
              "column": 32,
              "line": 19
            }
          }
        },
        {
          "id": "85",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "Survived",
          "testsCompleted": 4,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "239",
            "240",
            "241",
            "242"
          ],
          "location": {
            "end": {
              "column": 58,
              "line": 19
            },
            "start": {
              "column": 52,
              "line": 19
            }
          }
        },
        {
          "id": "86",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "Survived",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "242"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 21
            },
            "start": {
              "column": 60,
              "line": 19
            }
          }
        },
        {
          "id": "87",
          "mutatorName": "BooleanLiteral",
          "replacement": "false",
          "statusReason": "Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/guards/role.guard.spec.ts:66:27)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [
            "242"
          ],
          "coveredBy": [
            "242"
          ],
          "location": {
            "end": {
              "column": 18,
              "line": 20
            },
            "start": {
              "column": 14,
              "line": 20
            }
          }
        },
        {
          "id": "88",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "statusReason": "Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: false\nReceived: true\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/guards/role.guard.spec.ts:53:27)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 3,
          "static": false,
          "killedBy": [
            "240"
          ],
          "coveredBy": [
            "239",
            "240",
            "241"
          ],
          "location": {
            "end": {
              "column": 36,
              "line": 23
            },
            "start": {
              "column": 9,
              "line": 23
            }
          }
        },
        {
          "id": "89",
          "mutatorName": "ConditionalExpression",
          "replacement": "false",
          "statusReason": "TypeError: Cannot read properties of undefined (reading 'some')\n    at Function.haveRoles (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/src/guards/role.guard.ts:61:124)\n    at RoleGuard.canActivate (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/src/guards/role.guard.ts:89:24)\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/guards/role.guard.spec.ts:46:33)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 3,
          "static": false,
          "killedBy": [
            "239"
          ],
          "coveredBy": [
            "239",
            "240",
            "241"
          ],
          "location": {
            "end": {
              "column": 36,
              "line": 23
            },
            "start": {
              "column": 9,
              "line": 23
            }
          }
        },
        {
          "id": "90",
          "mutatorName": "EqualityOperator",
          "replacement": "requiredRoles !== undefined",
          "statusReason": "TypeError: Cannot read properties of undefined (reading 'some')\n    at Function.haveRoles (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/src/guards/role.guard.ts:61:124)\n    at RoleGuard.canActivate (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/src/guards/role.guard.ts:89:24)\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/guards/role.guard.spec.ts:46:33)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 3,
          "static": false,
          "killedBy": [
            "239"
          ],
          "coveredBy": [
            "239",
            "240",
            "241"
          ],
          "location": {
            "end": {
              "column": 36,
              "line": 23
            },
            "start": {
              "column": 9,
              "line": 23
            }
          }
        },
        {
          "id": "91",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "TypeError: Cannot read properties of undefined (reading 'some')\n    at Function.haveRoles (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/src/guards/role.guard.ts:61:124)\n    at RoleGuard.canActivate (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/src/guards/role.guard.ts:89:24)\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/guards/role.guard.spec.ts:46:33)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [
            "239"
          ],
          "coveredBy": [
            "239"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 25
            },
            "start": {
              "column": 38,
              "line": 23
            }
          }
        },
        {
          "id": "92",
          "mutatorName": "BooleanLiteral",
          "replacement": "false",
          "statusReason": "Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/guards/role.guard.spec.ts:47:27)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [
            "239"
          ],
          "coveredBy": [
            "239"
          ],
          "location": {
            "end": {
              "column": 18,
              "line": 24
            },
            "start": {
              "column": 14,
              "line": 24
            }
          }
        }
      ],
      "source": "import { Injectable, CanActivate, ExecutionContext } from \"@nestjs/common\";\nimport { Reflector } from \"@nestjs/core\";\nimport { UserRequest } from \"@src/guards/jwt.guard\";\nimport { ROLE_KEY, Role } from \"@src/decorators/role\";\nimport { ConfigService } from \"@nestjs/config\";\n\n@Injectable()\nexport class RoleGuard implements CanActivate {\n  public constructor(\n    private readonly reflector: Reflector,\n    private readonly configService: ConfigService,\n  ) { }\n\n  private static haveRoles(requiredRoles: Role[], userRole: Role): boolean {\n    return requiredRoles.some(role => role === userRole);\n  }\n\n  public canActivate(context: ExecutionContext): boolean {\n    if (this.configService.get(\"BYPASS_GUARD\") === \"true\") {\n      return true;\n    }\n    const requiredRoles = this.reflector.get<Role[]>(ROLE_KEY, context.getHandler());\n    if (requiredRoles === undefined) {\n      return true;\n    }\n    const { user } = context.switchToHttp().getRequest<UserRequest>();\n\n    return RoleGuard.haveRoles(requiredRoles, user.role);\n  }\n}"
    },
    "src/helpers/date.helpers.ts": {
      "language": "typescript",
      "mutants": [
        {
          "id": "93",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/helpers/date.helpers.ts(1,40): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "7"
          ],
          "location": {
            "end": {
              "column": 2,
              "line": 3
            },
            "start": {
              "column": 47,
              "line": 1
            }
          }
        },
        {
          "id": "94",
          "mutatorName": "MethodExpression",
          "replacement": "aDate.toISOString()",
          "status": "Survived",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "7"
          ],
          "location": {
            "end": {
              "column": 46,
              "line": 2
            },
            "start": {
              "column": 10,
              "line": 2
            }
          }
        }
      ],
      "source": "function toISO8601Format(aDate: Date): string {\n  return aDate.toISOString().substring(0, 10);\n}\n\nexport { toISO8601Format };"
    },
    "src/main.ts": {
      "language": "typescript",
      "mutants": [
        {
          "id": "95",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 2,
              "line": 32
            },
            "start": {
              "column": 55,
              "line": 15
            }
          }
        },
        {
          "id": "96",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 29,
              "line": 17
            },
            "start": {
              "column": 15,
              "line": 17
            }
          }
        },
        {
          "id": "97",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 38,
              "line": 18
            },
            "start": {
              "column": 21,
              "line": 18
            }
          }
        },
        {
          "id": "98",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 24,
              "line": 19
            },
            "start": {
              "column": 17,
              "line": 19
            }
          }
        },
        {
          "id": "99",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 22,
              "line": 20
            },
            "start": {
              "column": 13,
              "line": 20
            }
          }
        },
        {
          "id": "100",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "src/main.ts(21,20): error TS2345: Argument of type '{}' is not assignable to parameter of type 'SecuritySchemeObject'.\n  Property 'type' is missing in type '{}' but required in type 'SecuritySchemeObject'.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 6,
              "line": 28
            },
            "start": {
              "column": 20,
              "line": 21
            }
          }
        },
        {
          "id": "101",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 57,
              "line": 22
            },
            "start": {
              "column": 20,
              "line": 22
            }
          }
        },
        {
          "id": "102",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 28,
              "line": 23
            },
            "start": {
              "column": 13,
              "line": 23
            }
          }
        },
        {
          "id": "103",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 29,
              "line": 24
            },
            "start": {
              "column": 21,
              "line": 24
            }
          }
        },
        {
          "id": "104",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 23,
              "line": 25
            },
            "start": {
              "column": 15,
              "line": 25
            }
          }
        },
        {
          "id": "105",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "statusReason": "src/main.ts(26,7): error TS2322: Type '\"\"' is not assignable to type 'SecuritySchemeType'.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 19,
              "line": 26
            },
            "start": {
              "column": 13,
              "line": 26
            }
          }
        },
        {
          "id": "106",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 19,
              "line": 27
            },
            "start": {
              "column": 11,
              "line": 27
            }
          }
        },
        {
          "id": "107",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 32,
              "line": 31
            },
            "start": {
              "column": 23,
              "line": 31
            }
          }
        },
        {
          "id": "108",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 2,
              "line": 64
            },
            "start": {
              "column": 45,
              "line": 34
            }
          }
        },
        {
          "id": "109",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "statusReason": "src/main.ts(62,20): error TS2345: Argument of type 'boolean' is not assignable to parameter of type 'string | number'.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 70,
              "line": 38
            },
            "start": {
              "column": 16,
              "line": 38
            }
          }
        },
        {
          "id": "110",
          "mutatorName": "ConditionalExpression",
          "replacement": "false",
          "statusReason": "src/main.ts(62,20): error TS2345: Argument of type 'boolean' is not assignable to parameter of type 'string | number'.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 70,
              "line": 38
            },
            "start": {
              "column": 16,
              "line": 38
            }
          }
        },
        {
          "id": "111",
          "mutatorName": "LogicalOperator",
          "replacement": "Number(configService.get(\"PORT\")) && DEFAULT_HTTP_PORT",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 70,
              "line": 38
            },
            "start": {
              "column": 16,
              "line": 38
            }
          }
        },
        {
          "id": "112",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 47,
              "line": 38
            },
            "start": {
              "column": 41,
              "line": 38
            }
          }
        },
        {
          "id": "113",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 24,
              "line": 40
            },
            "start": {
              "column": 11,
              "line": 40
            }
          }
        },
        {
          "id": "114",
          "mutatorName": "BooleanLiteral",
          "replacement": "false",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 30,
              "line": 40
            },
            "start": {
              "column": 26,
              "line": 40
            }
          }
        },
        {
          "id": "115",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 28,
              "line": 41
            },
            "start": {
              "column": 23,
              "line": 41
            }
          }
        },
        {
          "id": "116",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "src/main.ts(43,19): error TS2345: Argument of type '{}' is not assignable to parameter of type 'SessionOptions'.\n  Property 'secret' is missing in type '{}' but required in type 'SessionOptions'.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 4,
              "line": 49
            },
            "start": {
              "column": 19,
              "line": 43
            }
          }
        },
        {
          "id": "117",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 66,
              "line": 44
            },
            "start": {
              "column": 13,
              "line": 44
            }
          }
        },
        {
          "id": "118",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "statusReason": "src/main.ts(44,34): error TS2322: Type '\"\"' is not assignable to type 'boolean | \"lax\" | \"strict\" | \"none\"'.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 50,
              "line": 44
            },
            "start": {
              "column": 44,
              "line": 44
            }
          }
        },
        {
          "id": "119",
          "mutatorName": "BooleanLiteral",
          "replacement": "false",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 64,
              "line": 44
            },
            "start": {
              "column": 60,
              "line": 44
            }
          }
        },
        {
          "id": "120",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 47,
              "line": 45
            },
            "start": {
              "column": 31,
              "line": 45
            }
          }
        },
        {
          "id": "121",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 54,
              "line": 46
            },
            "start": {
              "column": 28,
              "line": 46
            }
          }
        },
        {
          "id": "122",
          "mutatorName": "BooleanLiteral",
          "replacement": "true",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 18,
              "line": 47
            },
            "start": {
              "column": 13,
              "line": 47
            }
          }
        },
        {
          "id": "123",
          "mutatorName": "BooleanLiteral",
          "replacement": "true",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 29,
              "line": 48
            },
            "start": {
              "column": 24,
              "line": 48
            }
          }
        },
        {
          "id": "124",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 85,
              "line": 50
            },
            "start": {
              "column": 18,
              "line": 50
            }
          }
        },
        {
          "id": "125",
          "mutatorName": "ArrayDeclaration",
          "replacement": "[]",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 64,
              "line": 50
            },
            "start": {
              "column": 28,
              "line": 50
            }
          }
        },
        {
          "id": "126",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 62,
              "line": 50
            },
            "start": {
              "column": 47,
              "line": 50
            }
          }
        },
        {
          "id": "127",
          "mutatorName": "BooleanLiteral",
          "replacement": "false",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 83,
              "line": 50
            },
            "start": {
              "column": 79,
              "line": 50
            }
          }
        },
        {
          "id": "128",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 4,
              "line": 60
            },
            "start": {
              "column": 41,
              "line": 55
            }
          }
        },
        {
          "id": "129",
          "mutatorName": "BooleanLiteral",
          "replacement": "false",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 20,
              "line": 56
            },
            "start": {
              "column": 16,
              "line": 56
            }
          }
        },
        {
          "id": "130",
          "mutatorName": "BooleanLiteral",
          "replacement": "true",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 32,
              "line": 57
            },
            "start": {
              "column": 27,
              "line": 57
            }
          }
        },
        {
          "id": "131",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 52,
              "line": 58
            },
            "start": {
              "column": 22,
              "line": 58
            }
          }
        },
        {
          "id": "132",
          "mutatorName": "BooleanLiteral",
          "replacement": "true",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 37,
              "line": 58
            },
            "start": {
              "column": 32,
              "line": 58
            }
          }
        },
        {
          "id": "133",
          "mutatorName": "BooleanLiteral",
          "replacement": "false",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 50,
              "line": 58
            },
            "start": {
              "column": 46,
              "line": 58
            }
          }
        },
        {
          "id": "134",
          "mutatorName": "BooleanLiteral",
          "replacement": "false",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 20,
              "line": 59
            },
            "start": {
              "column": 16,
              "line": 59
            }
          }
        },
        {
          "id": "135",
          "mutatorName": "StringLiteral",
          "replacement": "``",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 51,
              "line": 63
            },
            "start": {
              "column": 14,
              "line": 63
            }
          }
        },
        {
          "id": "136",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 2,
              "line": 70
            },
            "start": {
              "column": 14,
              "line": 66
            }
          }
        },
        {
          "id": "137",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 4,
              "line": 69
            },
            "start": {
              "column": 39,
              "line": 67
            }
          }
        }
      ],
      "source": "import { NestFactory } from \"@nestjs/core\";\nimport { Logger, ValidationPipe } from \"@nestjs/common\";\nimport type { INestApplication } from \"@nestjs/common\";\nimport { ConfigService } from \"@nestjs/config\";\nimport type { NestExpressApplication } from \"@nestjs/platform-express\";\nimport { SwaggerModule, DocumentBuilder } from \"@nestjs/swagger\";\nimport cookieParser from \"cookie-parser\";\nimport session from \"express-session\";\nimport memoryStore from \"memorystore\";\nimport { AppModule } from \"src/app.module\";\n\nconst DAY_IN_MS = 86400000;\nconst DEFAULT_HTTP_PORT = 3337;\n\nconst swaggerSetup = (app: INestApplication): void => {\n  const config = new DocumentBuilder()\n    .setTitle(\"Welcome Back\")\n    .setDescription(\"API description\")\n    .setVersion(\"0.0.1\")\n    .addTag(\"Welcome\")\n    .addBearerAuth({\n      description: \"Token in format: Bearer &lt;JWT&gt;\",\n      name: \"Authorization\",\n      bearerFormat: \"Bearer\",\n      scheme: \"Bearer\",\n      type: \"http\",\n      in: \"Header\",\n    })\n    .build();\n  const document = SwaggerModule.createDocument(app, config);\n  SwaggerModule.setup(\"swagger\", app, document);\n};\n\nconst bootstrap = async(): Promise<void> => {\n  const app = await NestFactory.create<NestExpressApplication>(AppModule);\n  const MemoryStore = memoryStore(session);\n  const configService = app.get<ConfigService>(ConfigService);\n  const port = Number(configService.get(\"PORT\")) || DEFAULT_HTTP_PORT;\n\n  app.set(\"trust proxy\", true);\n  app.setGlobalPrefix(\"api\");\n  app.use(cookieParser());\n  app.use(session({\n    cookie: { maxAge: DAY_IN_MS, sameSite: \"none\", secure: true },\n    secret: configService.get(\"SESSION_SECRET\"),\n    store: new MemoryStore({ checkPeriod: DAY_IN_MS }),\n    resave: false,\n    saveUninitialized: false,\n  }));\n  app.enableCors({ origin: [configService.get(\"HUB_FRONT_URL\")], credentials: true });\n\n  swaggerSetup(app);\n\n  // validation Pipes\n  app.useGlobalPipes(new ValidationPipe({\n    transform: true,\n    disableErrorMessages: false,\n    validationError: { target: false, value: true },\n    whitelist: true,\n  }));\n\n  await app.listen(port);\n  Logger.log(`Application running on port ${port}`);\n};\n\n((): void => {\n  bootstrap().catch((err: unknown) => {\n    Logger.error(err);\n  });\n})();"
    },
    "src/modules/agencies/agencies.service.ts": {
      "language": "typescript",
      "mutants": [
        {
          "id": "138",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/agencies/agencies.service.ts(13,58): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "219"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 15
            },
            "start": {
              "column": 74,
              "line": 13
            }
          }
        },
        {
          "id": "139",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "Survived",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "220"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 23
            },
            "start": {
              "column": 80,
              "line": 17
            }
          }
        },
        {
          "id": "140",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "Survived",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "220"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 22
            },
            "start": {
              "column": 61,
              "line": 18
            }
          }
        },
        {
          "id": "141",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/agencies/agencies.service.ts(25,27): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "221"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 27
            },
            "start": {
              "column": 45,
              "line": 25
            }
          }
        },
        {
          "id": "142",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/agencies/agencies.service.ts(29,70): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "222"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 31
            },
            "start": {
              "column": 86,
              "line": 29
            }
          }
        },
        {
          "id": "143",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "Survived",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "223"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 35
            },
            "start": {
              "column": 50,
              "line": 33
            }
          }
        }
      ],
      "source": "import { Injectable } from \"@nestjs/common\";\nimport { CreateAgencyDto } from \"@modules/agencies/dto/create-agency.dto\";\nimport { UpdateAgencyDto } from \"@modules/agencies/dto/update-agency.dto\";\nimport { instanceToPlain } from \"class-transformer\";\nimport { FirestoreService } from \"@src/services/firestore/firestore.service\";\nimport { Agency } from \"@modules/agencies/entities/agency.entity\";\nimport { FIRESTORE_COLLECTIONS } from \"@src/configs/types/Firestore.types\";\n\n@Injectable()\nexport class AgenciesService {\n  public constructor(private readonly firestoreService: FirestoreService) {}\n\n  public async create(createAgencyDto: CreateAgencyDto): Promise<Agency> {\n    return this.firestoreService.saveDocument(FIRESTORE_COLLECTIONS.WELCOME_AGENCIES, instanceToPlain(createAgencyDto));\n  }\n\n  public async createMany(createAgenciesDto: CreateAgencyDto[]): Promise<void> {\n    await Promise.all(createAgenciesDto.map(async agency => {\n      const newAgency = instanceToPlain(agency);\n\n      return this.firestoreService.saveDocument(FIRESTORE_COLLECTIONS.WELCOME_MEMBERS, newAgency);\n    }));\n  }\n\n  public async findAll(): Promise<Agency[]> {\n    return this.firestoreService.getAllDocuments(FIRESTORE_COLLECTIONS.WELCOME_AGENCIES);\n  }\n\n  public async update(id: string, updateAgencyDto: UpdateAgencyDto): Promise<Agency> {\n    return this.firestoreService.updateDocument(FIRESTORE_COLLECTIONS.WELCOME_AGENCIES, id, instanceToPlain(updateAgencyDto));\n  }\n\n  public async remove(id: string): Promise<void> {\n    await this.firestoreService.deleteDocument(FIRESTORE_COLLECTIONS.WELCOME_AGENCIES, id);\n  }\n}"
    },
    "src/modules/auth/auth.service.ts": {
      "language": "typescript",
      "mutants": [
        {
          "id": "144",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "Survived",
          "testsCompleted": 5,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "190",
            "191",
            "192",
            "193",
            "194"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 19
            },
            "start": {
              "column": 69,
              "line": 17
            }
          }
        },
        {
          "id": "145",
          "mutatorName": "StringLiteral",
          "replacement": "``",
          "status": "Survived",
          "testsCompleted": 5,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "190",
            "191",
            "192",
            "193",
            "194"
          ],
          "location": {
            "end": {
              "column": 82,
              "line": 18
            },
            "start": {
              "column": 24,
              "line": 18
            }
          }
        },
        {
          "id": "146",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "Survived",
          "testsCompleted": 5,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "190",
            "191",
            "192",
            "193",
            "194"
          ],
          "location": {
            "end": {
              "column": 65,
              "line": 18
            },
            "start": {
              "column": 50,
              "line": 18
            }
          }
        },
        {
          "id": "147",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/auth/auth.service.ts(21,39): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "190"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 33
            },
            "start": {
              "column": 65,
              "line": 21
            }
          }
        },
        {
          "id": "148",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "Survived",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "190"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 30
            },
            "start": {
              "column": 54,
              "line": 26
            }
          }
        },
        {
          "id": "149",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "Survived",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "190"
          ],
          "location": {
            "end": {
              "column": 28,
              "line": 27
            },
            "start": {
              "column": 14,
              "line": 27
            }
          }
        },
        {
          "id": "150",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "src/modules/auth/auth.service.ts(32,5): error TS2739: Type '{}' is missing the following properties from type 'AuthorizationUrl': authorizationUrl, nonce, state\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "190"
          ],
          "location": {
            "end": {
              "column": 46,
              "line": 32
            },
            "start": {
              "column": 12,
              "line": 32
            }
          }
        },
        {
          "id": "151",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/auth/auth.service.ts(35,76): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "191",
            "192"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 48
            },
            "start": {
              "column": 94,
              "line": 35
            }
          }
        },
        {
          "id": "152",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/auth/auth.service.ts(35,76): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "191",
            "192"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 43
            },
            "start": {
              "column": 9,
              "line": 37
            }
          }
        },
        {
          "id": "153",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "Survived",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "191",
            "192"
          ],
          "location": {
            "end": {
              "column": 24,
              "line": 40
            },
            "start": {
              "column": 9,
              "line": 40
            }
          }
        },
        {
          "id": "154",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "Survived",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "191",
            "192"
          ],
          "location": {
            "end": {
              "column": 48,
              "line": 41
            },
            "start": {
              "column": 9,
              "line": 41
            }
          }
        },
        {
          "id": "155",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "Survived",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "191",
            "192"
          ],
          "location": {
            "end": {
              "column": 32,
              "line": 41
            },
            "start": {
              "column": 26,
              "line": 41
            }
          }
        },
        {
          "id": "156",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "Error: expect(received).not.toBeInstanceOf(expected)\n\nExpected constructor: not NoErrorThrownError\n\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/modules/auth/auth.service.spec.ts:79:25)",
          "status": "Killed",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [
            "192"
          ],
          "coveredBy": [
            "192"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 47
            },
            "start": {
              "column": 19,
              "line": 43
            }
          }
        },
        {
          "id": "157",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "status": "Survived",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "192"
          ],
          "location": {
            "end": {
              "column": 31,
              "line": 44
            },
            "start": {
              "column": 11,
              "line": 44
            }
          }
        },
        {
          "id": "158",
          "mutatorName": "ConditionalExpression",
          "replacement": "false",
          "statusReason": "Error: expect(received).not.toBeInstanceOf(expected)\n\nExpected constructor: not NoErrorThrownError\n\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/modules/auth/auth.service.spec.ts:79:25)",
          "status": "Killed",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [
            "192"
          ],
          "coveredBy": [
            "192"
          ],
          "location": {
            "end": {
              "column": 31,
              "line": 44
            },
            "start": {
              "column": 11,
              "line": 44
            }
          }
        },
        {
          "id": "159",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "Error: expect(received).not.toBeInstanceOf(expected)\n\nExpected constructor: not NoErrorThrownError\n\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/modules/auth/auth.service.spec.ts:79:25)",
          "status": "Killed",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [
            "192"
          ],
          "coveredBy": [
            "192"
          ],
          "location": {
            "end": {
              "column": 8,
              "line": 46
            },
            "start": {
              "column": 33,
              "line": 44
            }
          }
        },
        {
          "id": "160",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/auth/auth.service.ts(50,40): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "193",
            "194"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 59
            },
            "start": {
              "column": 58,
              "line": 50
            }
          }
        },
        {
          "id": "161",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/auth/auth.service.ts(50,40): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "193",
            "194"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 54
            },
            "start": {
              "column": 9,
              "line": 52
            }
          }
        },
        {
          "id": "162",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "Error: expect(received).not.toBeInstanceOf(expected)\n\nExpected constructor: not NoErrorThrownError\n\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/modules/auth/auth.service.spec.ts:93:25)",
          "status": "Killed",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [
            "194"
          ],
          "coveredBy": [
            "194"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 58
            },
            "start": {
              "column": 19,
              "line": 54
            }
          }
        },
        {
          "id": "163",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "status": "Survived",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "194"
          ],
          "location": {
            "end": {
              "column": 31,
              "line": 55
            },
            "start": {
              "column": 11,
              "line": 55
            }
          }
        },
        {
          "id": "164",
          "mutatorName": "ConditionalExpression",
          "replacement": "false",
          "statusReason": "Error: expect(received).not.toBeInstanceOf(expected)\n\nExpected constructor: not NoErrorThrownError\n\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/modules/auth/auth.service.spec.ts:93:25)",
          "status": "Killed",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [
            "194"
          ],
          "coveredBy": [
            "194"
          ],
          "location": {
            "end": {
              "column": 31,
              "line": 55
            },
            "start": {
              "column": 11,
              "line": 55
            }
          }
        },
        {
          "id": "165",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "Error: expect(received).not.toBeInstanceOf(expected)\n\nExpected constructor: not NoErrorThrownError\n\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/modules/auth/auth.service.spec.ts:93:25)",
          "status": "Killed",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [
            "194"
          ],
          "coveredBy": [
            "194"
          ],
          "location": {
            "end": {
              "column": 8,
              "line": 57
            },
            "start": {
              "column": 33,
              "line": 55
            }
          }
        },
        {
          "id": "166",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/auth/auth.service.ts(61,30): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "190",
            "191",
            "192",
            "193",
            "194"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 78
            },
            "start": {
              "column": 50,
              "line": 61
            }
          }
        },
        {
          "id": "167",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "status": "Survived",
          "testsCompleted": 5,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "190",
            "191",
            "192",
            "193",
            "194"
          ],
          "location": {
            "end": {
              "column": 29,
              "line": 62
            },
            "start": {
              "column": 9,
              "line": 62
            }
          }
        },
        {
          "id": "168",
          "mutatorName": "ConditionalExpression",
          "replacement": "false",
          "statusReason": "TypeError: Cannot read properties of null (reading 'authorizationUrl')\n    at AuthService.getAuthorizationUrl (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/src/modules/auth/auth.service.ts:76:39)\n    at async Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/modules/auth/auth.service.spec.ts:65:35)",
          "status": "Killed",
          "testsCompleted": 5,
          "static": false,
          "killedBy": [
            "190"
          ],
          "coveredBy": [
            "190",
            "191",
            "192",
            "193",
            "194"
          ],
          "location": {
            "end": {
              "column": 29,
              "line": 62
            },
            "start": {
              "column": 9,
              "line": 62
            }
          }
        },
        {
          "id": "169",
          "mutatorName": "EqualityOperator",
          "replacement": "this.client !== null",
          "statusReason": "TypeError: Cannot read properties of null (reading 'authorizationUrl')\n    at AuthService.getAuthorizationUrl (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/src/modules/auth/auth.service.ts:76:39)\n    at async Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/modules/auth/auth.service.spec.ts:65:35)",
          "status": "Killed",
          "testsCompleted": 5,
          "static": false,
          "killedBy": [
            "190"
          ],
          "coveredBy": [
            "190",
            "191",
            "192",
            "193",
            "194"
          ],
          "location": {
            "end": {
              "column": 29,
              "line": 62
            },
            "start": {
              "column": 9,
              "line": 62
            }
          }
        },
        {
          "id": "170",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "TypeError: Cannot read properties of null (reading 'authorizationUrl')\n    at AuthService.getAuthorizationUrl (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/src/modules/auth/auth.service.ts:76:39)\n    at async Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/modules/auth/auth.service.spec.ts:65:35)",
          "status": "Killed",
          "testsCompleted": 5,
          "static": false,
          "killedBy": [
            "190"
          ],
          "coveredBy": [
            "190",
            "191",
            "192",
            "193",
            "194"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 76
            },
            "start": {
              "column": 31,
              "line": 62
            }
          }
        },
        {
          "id": "171",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "TypeError: Cannot read properties of null (reading 'authorizationUrl')\n    at AuthService.getAuthorizationUrl (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/src/modules/auth/auth.service.ts:76:39)\n    at async Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/modules/auth/auth.service.spec.ts:65:35)",
          "status": "Killed",
          "testsCompleted": 5,
          "static": false,
          "killedBy": [
            "190"
          ],
          "coveredBy": [
            "190",
            "191",
            "192",
            "193",
            "194"
          ],
          "location": {
            "end": {
              "column": 8,
              "line": 71
            },
            "start": {
              "column": 11,
              "line": 63
            }
          }
        },
        {
          "id": "172",
          "mutatorName": "StringLiteral",
          "replacement": "``",
          "status": "Survived",
          "testsCompleted": 5,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "190",
            "191",
            "192",
            "193",
            "194"
          ],
          "location": {
            "end": {
              "column": 215,
              "line": 64
            },
            "start": {
              "column": 53,
              "line": 64
            }
          }
        },
        {
          "id": "173",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "Survived",
          "testsCompleted": 5,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "190",
            "191",
            "192",
            "193",
            "194"
          ],
          "location": {
            "end": {
              "column": 115,
              "line": 64
            },
            "start": {
              "column": 99,
              "line": 64
            }
          }
        },
        {
          "id": "174",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "Survived",
          "testsCompleted": 5,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "190",
            "191",
            "192",
            "193",
            "194"
          ],
          "location": {
            "end": {
              "column": 179,
              "line": 64
            },
            "start": {
              "column": 157,
              "line": 64
            }
          }
        },
        {
          "id": "175",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "src/modules/auth/auth.service.ts(65,48): error TS2345: Argument of type '{}' is not assignable to parameter of type 'ClientMetadata'.\n  Property 'client_id' is missing in type '{}' but required in type 'ClientMetadata'.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "190",
            "191",
            "192",
            "193",
            "194"
          ],
          "location": {
            "end": {
              "column": 10,
              "line": 70
            },
            "start": {
              "column": 48,
              "line": 65
            }
          }
        },
        {
          "id": "176",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "Survived",
          "testsCompleted": 5,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "190",
            "191",
            "192",
            "193",
            "194"
          ],
          "location": {
            "end": {
              "column": 64,
              "line": 66
            },
            "start": {
              "column": 45,
              "line": 66
            }
          }
        },
        {
          "id": "177",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "Survived",
          "testsCompleted": 5,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "190",
            "191",
            "192",
            "193",
            "194"
          ],
          "location": {
            "end": {
              "column": 72,
              "line": 67
            },
            "start": {
              "column": 49,
              "line": 67
            }
          }
        },
        {
          "id": "178",
          "mutatorName": "ArrayDeclaration",
          "replacement": "[]",
          "status": "Survived",
          "testsCompleted": 5,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "190",
            "191",
            "192",
            "193",
            "194"
          ],
          "location": {
            "end": {
              "column": 44,
              "line": 68
            },
            "start": {
              "column": 26,
              "line": 68
            }
          }
        },
        {
          "id": "179",
          "mutatorName": "ArrayDeclaration",
          "replacement": "[]",
          "status": "Survived",
          "testsCompleted": 5,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "190",
            "191",
            "192",
            "193",
            "194"
          ],
          "location": {
            "end": {
              "column": 35,
              "line": 69
            },
            "start": {
              "column": 27,
              "line": 69
            }
          }
        },
        {
          "id": "180",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "Survived",
          "testsCompleted": 5,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "190",
            "191",
            "192",
            "193",
            "194"
          ],
          "location": {
            "end": {
              "column": 34,
              "line": 69
            },
            "start": {
              "column": 28,
              "line": 69
            }
          }
        },
        {
          "id": "181",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 8,
              "line": 75
            },
            "start": {
              "column": 21,
              "line": 71
            }
          }
        },
        {
          "id": "182",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 33,
              "line": 72
            },
            "start": {
              "column": 13,
              "line": 72
            }
          }
        },
        {
          "id": "183",
          "mutatorName": "ConditionalExpression",
          "replacement": "false",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 33,
              "line": 72
            },
            "start": {
              "column": 13,
              "line": 72
            }
          }
        },
        {
          "id": "184",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 10,
              "line": 74
            },
            "start": {
              "column": 35,
              "line": 72
            }
          }
        }
      ],
      "source": "import { BadRequestException, Injectable, InternalServerErrorException } from \"@nestjs/common\";\nimport { ConfigService } from \"@nestjs/config\";\nimport { BaseClient, Issuer, TokenSet, generators } from \"openid-client\";\n\ntype AuthorizationUrl = {\n  authorizationUrl: string;\n  nonce: string;\n  state: string;\n};\n\n@Injectable()\nexport class AuthService {\n  private client: BaseClient = null;\n\n  private readonly redirectUrl: string;\n\n  public constructor(private readonly configService: ConfigService) {\n    this.redirectUrl = `${this.configService.get(\"HUB_FRONT_URL\")}/auth/callback`;\n  }\n\n  public async getAuthorizationUrl(): Promise<AuthorizationUrl> {\n    const client = await this.getClient();\n    const nonce = generators.nonce();\n    const state = generators.state();\n\n    const authorizationUrl = client.authorizationUrl({\n      scope: \"openid email\",\n      nonce,\n      state,\n    });\n\n    return { authorizationUrl, nonce, state };\n  }\n\n  public async handleCallback(code: string, nonce: string, state: string): Promise<TokenSet> {\n    const client = await this.getClient();\n    try {\n      return await client.callback(\n        this.redirectUrl,\n        { code, state },\n        { response_type: \"code\", nonce, state },\n      );\n    } catch (err) {\n      if (err instanceof Error) {\n        throw new BadRequestException(err.message);\n      }\n    }\n  }\n\n  public async refresh(token: string): Promise<TokenSet> {\n    const client = await this.getClient();\n    try {\n      return await client.refresh(token);\n    } catch (err) {\n      if (err instanceof Error) {\n        throw new BadRequestException(err.message);\n      }\n    }\n  }\n\n  private async getClient(): Promise<BaseClient> {\n    if (this.client === null) {\n      try {\n        const cognitoIssuer = await Issuer.discover(`https://cognito-idp.${this.configService.get(\"COGNITO_REGION\")}.amazonaws.com/${this.configService.get(\"COGNITO_USER_POOL_ID\")}/.well-known/openid-configuration`);\n        this.client = new cognitoIssuer.Client({\n          client_id: this.configService.get(\"COGNITO_CLIENT_ID\"),\n          client_secret: this.configService.get(\"COGNITO_CLIENT_SECRET\"),\n          redirect_uris: [this.redirectUrl],\n          response_types: [\"code\"],\n        });\n      } catch (err) {\n        if (err instanceof Error) {\n          throw new InternalServerErrorException(err.message);\n        }\n      }\n    }\n    return this.client;\n  }\n}"
    },
    "src/modules/authorization/authorization.service.ts": {
      "language": "typescript",
      "mutants": [
        {
          "id": "185",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/authorization/authorization.service.ts(18,42): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 4,
              "line": 27
            },
            "start": {
              "column": 58,
              "line": 18
            }
          }
        },
        {
          "id": "186",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/authorization/authorization.service.ts(18,42): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 6,
              "line": 23
            },
            "start": {
              "column": 9,
              "line": 19
            }
          }
        },
        {
          "id": "187",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 6,
              "line": 26
            },
            "start": {
              "column": 21,
              "line": 23
            }
          }
        },
        {
          "id": "188",
          "mutatorName": "StringLiteral",
          "replacement": "``",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 63,
              "line": 25
            },
            "start": {
              "column": 23,
              "line": 25
            }
          }
        },
        {
          "id": "189",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/authorization/authorization.service.ts(29,38): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 4,
              "line": 38
            },
            "start": {
              "column": 52,
              "line": 29
            }
          }
        },
        {
          "id": "190",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/authorization/authorization.service.ts(29,38): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 6,
              "line": 34
            },
            "start": {
              "column": 9,
              "line": 30
            }
          }
        },
        {
          "id": "191",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 6,
              "line": 37
            },
            "start": {
              "column": 21,
              "line": 34
            }
          }
        },
        {
          "id": "192",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 4,
              "line": 50
            },
            "start": {
              "column": 50,
              "line": 40
            }
          }
        },
        {
          "id": "193",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 6,
              "line": 46
            },
            "start": {
              "column": 9,
              "line": 41
            }
          }
        },
        {
          "id": "194",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 72,
              "line": 43
            },
            "start": {
              "column": 26,
              "line": 43
            }
          }
        },
        {
          "id": "195",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 6,
              "line": 49
            },
            "start": {
              "column": 21,
              "line": 46
            }
          }
        },
        {
          "id": "196",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 4,
              "line": 62
            },
            "start": {
              "column": 50,
              "line": 52
            }
          }
        },
        {
          "id": "197",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 6,
              "line": 58
            },
            "start": {
              "column": 9,
              "line": 53
            }
          }
        },
        {
          "id": "198",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 58,
              "line": 55
            },
            "start": {
              "column": 28,
              "line": 55
            }
          }
        },
        {
          "id": "199",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 6,
              "line": 61
            },
            "start": {
              "column": 21,
              "line": 58
            }
          }
        },
        {
          "id": "200",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 4,
              "line": 78
            },
            "start": {
              "column": 47,
              "line": 64
            }
          }
        },
        {
          "id": "201",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 6,
              "line": 74
            },
            "start": {
              "column": 9,
              "line": 65
            }
          }
        },
        {
          "id": "202",
          "mutatorName": "BooleanLiteral",
          "replacement": "role",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 16,
              "line": 68
            },
            "start": {
              "column": 11,
              "line": 68
            }
          }
        },
        {
          "id": "203",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 16,
              "line": 68
            },
            "start": {
              "column": 11,
              "line": 68
            }
          }
        },
        {
          "id": "204",
          "mutatorName": "ConditionalExpression",
          "replacement": "false",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 16,
              "line": 68
            },
            "start": {
              "column": 11,
              "line": 68
            }
          }
        },
        {
          "id": "205",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 8,
              "line": 70
            },
            "start": {
              "column": 18,
              "line": 68
            }
          }
        },
        {
          "id": "206",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 49,
              "line": 69
            },
            "start": {
              "column": 33,
              "line": 69
            }
          }
        },
        {
          "id": "207",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 6,
              "line": 77
            },
            "start": {
              "column": 21,
              "line": 74
            }
          }
        },
        {
          "id": "208",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 4,
              "line": 90
            },
            "start": {
              "column": 67,
              "line": 80
            }
          }
        },
        {
          "id": "209",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 6,
              "line": 86
            },
            "start": {
              "column": 9,
              "line": 81
            }
          }
        },
        {
          "id": "210",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 52,
              "line": 82
            },
            "start": {
              "column": 27,
              "line": 82
            }
          }
        },
        {
          "id": "211",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 65,
              "line": 83
            },
            "start": {
              "column": 26,
              "line": 83
            }
          }
        },
        {
          "id": "212",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 6,
              "line": 89
            },
            "start": {
              "column": 21,
              "line": 86
            }
          }
        },
        {
          "id": "213",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/authorization/authorization.service.ts(92,24): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 4,
              "line": 103
            },
            "start": {
              "column": 40,
              "line": 92
            }
          }
        },
        {
          "id": "214",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/authorization/authorization.service.ts(92,24): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 6,
              "line": 99
            },
            "start": {
              "column": 9,
              "line": 93
            }
          }
        },
        {
          "id": "215",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 6,
              "line": 102
            },
            "start": {
              "column": 21,
              "line": 99
            }
          }
        },
        {
          "id": "216",
          "mutatorName": "StringLiteral",
          "replacement": "``",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 63,
              "line": 101
            },
            "start": {
              "column": 23,
              "line": 101
            }
          }
        },
        {
          "id": "217",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/authorization/authorization.service.ts(105,34): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 4,
              "line": 114
            },
            "start": {
              "column": 48,
              "line": 105
            }
          }
        },
        {
          "id": "218",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/authorization/authorization.service.ts(105,34): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 6,
              "line": 110
            },
            "start": {
              "column": 9,
              "line": 106
            }
          }
        },
        {
          "id": "219",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 6,
              "line": 113
            },
            "start": {
              "column": 21,
              "line": 110
            }
          }
        },
        {
          "id": "220",
          "mutatorName": "StringLiteral",
          "replacement": "``",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 57,
              "line": 112
            },
            "start": {
              "column": 23,
              "line": 112
            }
          }
        },
        {
          "id": "221",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 4,
              "line": 126
            },
            "start": {
              "column": 62,
              "line": 116
            }
          }
        },
        {
          "id": "222",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 6,
              "line": 122
            },
            "start": {
              "column": 9,
              "line": 117
            }
          }
        },
        {
          "id": "223",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 55,
              "line": 119
            },
            "start": {
              "column": 28,
              "line": 119
            }
          }
        },
        {
          "id": "224",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 6,
              "line": 125
            },
            "start": {
              "column": 21,
              "line": 122
            }
          }
        }
      ],
      "source": "import { HttpException, HttpStatus, Injectable, Logger } from \"@nestjs/common\";\nimport { FirestoreService } from \"@src/services/firestore/firestore.service\";\nimport { FilterType, UserRoles } from \"./types/authorization.types\";\nimport { FIRESTORE_COLLECTIONS } from \"@src/configs/types/Firestore.types\";\nimport { RoleDto, UserDto } from \"./dto/authorization.dto\";\nimport { FieldValue } from \"@google-cloud/firestore\";\nimport { CreateUpdateRoleDto } from \"./dto/create-role.dto\";\nimport { User } from \"./entities/User.entity\";\nimport { Role } from \"./entities/Role.entity\";\n\n@Injectable()\nexport class AuthorizationService {\n  constructor(\n    private readonly firestoreService: FirestoreService,\n    private readonly logger: Logger,\n  ) {}\n\n  async getAllRoles(filter: FilterType): Promise<Role[]> {\n    try {\n      const roles = await this.firestoreService.getAllDocuments(FIRESTORE_COLLECTIONS.ROLES, filter);\n\n      return roles as Role[];\n    } catch (error) {\n      this.logger.error(error);\n      throw new Error(`Error fetching roles: ${error.message}`);\n    }\n  }\n\n  async getRoleById(roleId: string): Promise<Role> {\n    try {\n      const role = await this.firestoreService.getDocument(FIRESTORE_COLLECTIONS.ROLES, roleId);\n\n      return role as Role;\n    } catch (error) {\n      this.logger.error(error);\n      throw error;\n    }\n  }\n\n  async createRole(payload: CreateUpdateRoleDto) {\n    try {\n      const now = FieldValue.serverTimestamp();\n      const dataToSave = { ...payload, createdAt: now, updatedAt: now };\n\n      return await this.firestoreService.saveDocument(FIRESTORE_COLLECTIONS.ROLES, dataToSave);\n    } catch (error) {\n      this.logger.error(error);\n      throw error;\n    }\n  }\n\n  async updateRole(id: string, roleDto: RoleDto) {\n    try {\n      const now = FieldValue.serverTimestamp();\n      const dataToUpdate = { ...roleDto, updatedAt: now };\n\n      return await this.firestoreService.updateDocument(FIRESTORE_COLLECTIONS.ROLES, id, dataToUpdate);\n    } catch (error) {\n      this.logger.error(error);\n      throw error;\n    }\n  }\n\n  async deleteRole(id: string): Promise<void> {\n    try {\n      const role = await this.firestoreService.getDocument(FIRESTORE_COLLECTIONS.ROLES, id);\n\n      if (!role) {\n        throw new HttpException(\"Role not found\", HttpStatus.NOT_FOUND);\n      }\n\n      await this.updateUsersWithRole(role as RoleDto);\n      await this.firestoreService.deleteDocument(FIRESTORE_COLLECTIONS.ROLES, id);\n    } catch (error) {\n      this.logger.error(error);\n      throw error;\n    }\n  }\n\n  private async updateUsersWithRole(role: RoleDto): Promise<void> {\n    try {\n      const updateQuery = { [role.app]: role.name };\n      const updateData = { [role.app]: UserRoles.Collaborateur };\n\n      await this.firestoreService.updateManyDocuments(FIRESTORE_COLLECTIONS.AUTHORIZED_USERS, updateQuery, updateData);\n    } catch (error) {\n      this.logger.error(error);\n      throw error;\n    }\n  }\n\n  async getAllUsers(): Promise<User[]> {\n    try {\n      const authUsers = await this.firestoreService.getAllDocuments(FIRESTORE_COLLECTIONS.AUTHORIZED_USERS);\n\n      const users = authUsers;\n\n      return users as User[];\n    } catch (error) {\n      this.logger.error(error);\n      throw new Error(`Error fetching users: ${error.message}`);\n    }\n  }\n\n  async getUserById(id: string): Promise<User> {\n    try {\n      const authUser = await this.firestoreService.getDocument(FIRESTORE_COLLECTIONS.AUTHORIZED_USERS, id);\n\n      return authUser as User;\n    } catch (error) {\n      this.logger.error(error);\n      throw new Error(`User not found: ${error.message}`);\n    }\n  }\n\n  async updateUser(id: string, data: UserDto): Promise<void> {\n    try {\n      const now = FieldValue.serverTimestamp();\n      const dataToUpdate = { ...data, updatedAt: now };\n\n      await this.firestoreService.updateDocument(FIRESTORE_COLLECTIONS.AUTHORIZED_USERS, id, dataToUpdate);\n    } catch (error) {\n      this.logger.error(error);\n      throw error;\n    }\n  }\n}"
    },
    "src/modules/cloud-storage/cloud-storage.service.ts": {
      "language": "typescript",
      "mutants": [
        {
          "id": "230",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "TypeError: Cannot read properties of undefined (reading 'bucket')\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/modules/cloud-storage/cloud-storage.service.spec.ts:47:19)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 4,
          "static": false,
          "killedBy": [
            "200"
          ],
          "coveredBy": [
            "200",
            "201",
            "202",
            "203"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 14
            },
            "start": {
              "column": 69,
              "line": 11
            }
          }
        },
        {
          "id": "231",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "statusReason": "Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\nExpected: \"name-bucket\"\nReceived: null\n\nNumber of calls: 1\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/modules/cloud-storage/cloud-storage.service.spec.ts:52:34)",
          "status": "Killed",
          "testsCompleted": 4,
          "static": false,
          "killedBy": [
            "200"
          ],
          "coveredBy": [
            "200",
            "201",
            "202",
            "203"
          ],
          "location": {
            "end": {
              "column": 70,
              "line": 13
            },
            "start": {
              "column": 42,
              "line": 13
            }
          }
        },
        {
          "id": "232",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/cloud-storage/cloud-storage.service.ts(16,46): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "200",
            "201"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 27
            },
            "start": {
              "column": 62,
              "line": 16
            }
          }
        },
        {
          "id": "233",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/cloud-storage/cloud-storage.service.ts(16,46): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "200",
            "201"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 22
            },
            "start": {
              "column": 9,
              "line": 17
            }
          }
        },
        {
          "id": "234",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "Survived",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "201"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 26
            },
            "start": {
              "column": 21,
              "line": 22
            }
          }
        },
        {
          "id": "235",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "status": "Survived",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "201"
          ],
          "location": {
            "end": {
              "column": 33,
              "line": 23
            },
            "start": {
              "column": 11,
              "line": 23
            }
          }
        },
        {
          "id": "236",
          "mutatorName": "ConditionalExpression",
          "replacement": "false",
          "status": "Survived",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "201"
          ],
          "location": {
            "end": {
              "column": 33,
              "line": 23
            },
            "start": {
              "column": 11,
              "line": 23
            }
          }
        },
        {
          "id": "237",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "Survived",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "201"
          ],
          "location": {
            "end": {
              "column": 8,
              "line": 25
            },
            "start": {
              "column": 35,
              "line": 23
            }
          }
        },
        {
          "id": "238",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/cloud-storage/cloud-storage.service.ts(29,42): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "202",
            "203"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 34
            },
            "start": {
              "column": 49,
              "line": 29
            }
          }
        },
        {
          "id": "239",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "statusReason": "Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: \"image/jpg\"\nReceived: \"image/e\"\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/modules/cloud-storage/cloud-storage.service.spec.ts:77:22)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [
            "202"
          ],
          "coveredBy": [
            "202",
            "203"
          ],
          "location": {
            "end": {
              "column": 55,
              "line": 30
            },
            "start": {
              "column": 52,
              "line": 30
            }
          }
        },
        {
          "id": "240",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "statusReason": "Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: \"image/jpg\"\nReceived: \"image/jpg+xml\"\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/modules/cloud-storage/cloud-storage.service.spec.ts:77:22)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [
            "202"
          ],
          "coveredBy": [
            "202",
            "203"
          ],
          "location": {
            "end": {
              "column": 31,
              "line": 33
            },
            "start": {
              "column": 12,
              "line": 33
            }
          }
        },
        {
          "id": "241",
          "mutatorName": "ConditionalExpression",
          "replacement": "false",
          "statusReason": "Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: \"image/svg+xml\"\nReceived: \"image/svg\"\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/modules/cloud-storage/cloud-storage.service.spec.ts:82:22)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [
            "203"
          ],
          "coveredBy": [
            "202",
            "203"
          ],
          "location": {
            "end": {
              "column": 31,
              "line": 33
            },
            "start": {
              "column": 12,
              "line": 33
            }
          }
        },
        {
          "id": "242",
          "mutatorName": "EqualityOperator",
          "replacement": "extension !== \"svg\"",
          "statusReason": "Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: \"image/jpg\"\nReceived: \"image/jpg+xml\"\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/modules/cloud-storage/cloud-storage.service.spec.ts:77:22)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [
            "202"
          ],
          "coveredBy": [
            "202",
            "203"
          ],
          "location": {
            "end": {
              "column": 31,
              "line": 33
            },
            "start": {
              "column": 12,
              "line": 33
            }
          }
        },
        {
          "id": "243",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "statusReason": "Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: \"image/svg+xml\"\nReceived: \"image/svg\"\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/modules/cloud-storage/cloud-storage.service.spec.ts:82:22)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [
            "203"
          ],
          "coveredBy": [
            "202",
            "203"
          ],
          "location": {
            "end": {
              "column": 31,
              "line": 33
            },
            "start": {
              "column": 26,
              "line": 33
            }
          }
        },
        {
          "id": "244",
          "mutatorName": "StringLiteral",
          "replacement": "``",
          "statusReason": "Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: \"image/svg+xml\"\nReceived: \"\"\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/modules/cloud-storage/cloud-storage.service.spec.ts:82:22)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [
            "203"
          ],
          "coveredBy": [
            "203"
          ],
          "location": {
            "end": {
              "column": 58,
              "line": 33
            },
            "start": {
              "column": 34,
              "line": 33
            }
          }
        },
        {
          "id": "245",
          "mutatorName": "StringLiteral",
          "replacement": "``",
          "statusReason": "Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: \"image/jpg\"\nReceived: \"\"\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/modules/cloud-storage/cloud-storage.service.spec.ts:77:22)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [
            "202"
          ],
          "coveredBy": [
            "202"
          ],
          "location": {
            "end": {
              "column": 81,
              "line": 33
            },
            "start": {
              "column": 61,
              "line": 33
            }
          }
        }
      ],
      "source": "import { Storage } from \"@google-cloud/storage\";\nimport { BadRequestException, Injectable } from \"@nestjs/common\";\nimport { ConfigService } from \"@nestjs/config\";\n\n@Injectable()\nexport class CloudStorageService {\n  private readonly storage: Storage;\n\n  private readonly bucket: string;\n\n  public constructor(private readonly configService: ConfigService) {\n    this.storage = new Storage();\n    this.bucket = this.configService.get(\"NAME_BUCKET_STATIC_CONTENT\");\n  }\n\n  public async getContent(filename: string): Promise<Buffer> {\n    try {\n      const file = this.storage.bucket(this.bucket).file(filename);\n      const [fileContent] = await file.download();\n\n      return fileContent;\n    } catch (error) {\n      if (error instanceof Error) {\n        throw new BadRequestException(error.message);\n      }\n    }\n  }\n\n  public getExtension(filename: string): string {\n    const filenameSplit: string[] = filename.split(\".\");\n    const extension = filenameSplit[1];\n\n    return extension === \"svg\" ? `image/${extension}+xml` : `image/${extension}`;\n  }\n}"
    },
    "src/modules/content/content.service.ts": {
      "language": "typescript",
      "mutants": [
        {
          "id": "246",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/content/content.service.ts(13,53): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "162",
            "163",
            "164",
            "165",
            "166",
            "167",
            "168"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 25
            },
            "start": {
              "column": 76,
              "line": 13
            }
          }
        },
        {
          "id": "247",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "statusReason": "BadRequestException: This content is empty\n    at ContentService.create (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/src/modules/content/content.service.ts:69:17)\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/modules/content/content.service.spec.ts:24:46)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 7,
          "static": false,
          "killedBy": [
            "162"
          ],
          "coveredBy": [
            "162",
            "163",
            "164",
            "165",
            "166",
            "167",
            "168"
          ],
          "location": {
            "end": {
              "column": 70,
              "line": 15
            },
            "start": {
              "column": 9,
              "line": 15
            }
          }
        },
        {
          "id": "248",
          "mutatorName": "ConditionalExpression",
          "replacement": "false",
          "statusReason": "Error: expect(received).toBeInstanceOf(expected)\n\nExpected constructor: BadRequestException\nReceived constructor: JestAssertionError\n\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/modules/content/content.service.spec.ts:39:21)",
          "status": "Killed",
          "testsCompleted": 7,
          "static": false,
          "killedBy": [
            "163"
          ],
          "coveredBy": [
            "162",
            "163",
            "164",
            "165",
            "166",
            "167",
            "168"
          ],
          "location": {
            "end": {
              "column": 70,
              "line": 15
            },
            "start": {
              "column": 9,
              "line": 15
            }
          }
        },
        {
          "id": "249",
          "mutatorName": "LogicalOperator",
          "replacement": "!contentToCreate && Object.keys(contentToCreate).length === 0",
          "statusReason": "Error: expect(received).toBeInstanceOf(expected)\n\nExpected constructor: BadRequestException\nReceived constructor: JestAssertionError\n\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/modules/content/content.service.spec.ts:39:21)",
          "status": "Killed",
          "testsCompleted": 7,
          "static": false,
          "killedBy": [
            "163"
          ],
          "coveredBy": [
            "162",
            "163",
            "164",
            "165",
            "166",
            "167",
            "168"
          ],
          "location": {
            "end": {
              "column": 70,
              "line": 15
            },
            "start": {
              "column": 9,
              "line": 15
            }
          }
        },
        {
          "id": "250",
          "mutatorName": "BooleanLiteral",
          "replacement": "contentToCreate",
          "statusReason": "BadRequestException: This content is empty\n    at ContentService.create (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/src/modules/content/content.service.ts:69:17)\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/modules/content/content.service.spec.ts:24:46)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 7,
          "static": false,
          "killedBy": [
            "162"
          ],
          "coveredBy": [
            "162",
            "163",
            "164",
            "165",
            "166",
            "167",
            "168"
          ],
          "location": {
            "end": {
              "column": 25,
              "line": 15
            },
            "start": {
              "column": 9,
              "line": 15
            }
          }
        },
        {
          "id": "251",
          "mutatorName": "ConditionalExpression",
          "replacement": "false",
          "statusReason": "Error: expect(received).toBeInstanceOf(expected)\n\nExpected constructor: BadRequestException\nReceived constructor: JestAssertionError\n\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/modules/content/content.service.spec.ts:39:21)",
          "status": "Killed",
          "testsCompleted": 7,
          "static": false,
          "killedBy": [
            "163"
          ],
          "coveredBy": [
            "162",
            "163"
          ],
          "location": {
            "end": {
              "column": 70,
              "line": 15
            },
            "start": {
              "column": 29,
              "line": 15
            }
          }
        },
        {
          "id": "252",
          "mutatorName": "EqualityOperator",
          "replacement": "Object.keys(contentToCreate).length !== 0",
          "statusReason": "BadRequestException: This content is empty\n    at ContentService.create (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/src/modules/content/content.service.ts:69:17)\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/modules/content/content.service.spec.ts:24:46)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 7,
          "static": false,
          "killedBy": [
            "162"
          ],
          "coveredBy": [
            "162",
            "163"
          ],
          "location": {
            "end": {
              "column": 70,
              "line": 15
            },
            "start": {
              "column": 29,
              "line": 15
            }
          }
        },
        {
          "id": "253",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "Error: expect(received).toBeInstanceOf(expected)\n\nExpected constructor: BadRequestException\nReceived constructor: JestAssertionError\n\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/modules/content/content.service.spec.ts:39:21)",
          "status": "Killed",
          "testsCompleted": 6,
          "static": false,
          "killedBy": [
            "163"
          ],
          "coveredBy": [
            "163",
            "164",
            "165",
            "166",
            "167",
            "168"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 17
            },
            "start": {
              "column": 72,
              "line": 15
            }
          }
        },
        {
          "id": "254",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "statusReason": "Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: \"This content is empty\"\nReceived: \"Bad Request\"\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/modules/content/content.service.spec.ts:40:29)",
          "status": "Killed",
          "testsCompleted": 6,
          "static": false,
          "killedBy": [
            "163"
          ],
          "coveredBy": [
            "163",
            "164",
            "165",
            "166",
            "167",
            "168"
          ],
          "location": {
            "end": {
              "column": 60,
              "line": 16
            },
            "start": {
              "column": 37,
              "line": 16
            }
          }
        },
        {
          "id": "255",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "src/modules/content/content.service.ts(19,11): error TS2739: Type '{}' is missing the following properties from type 'ContentEntity': id, data\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "162"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 22
            },
            "start": {
              "column": 36,
              "line": 19
            }
          }
        },
        {
          "id": "256",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/content/content.service.ts(27,30): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "169"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 34
            },
            "start": {
              "column": 53,
              "line": 27
            }
          }
        },
        {
          "id": "257",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "src/modules/content/content.service.ts(28,11): error TS2739: Type '{}' is missing the following properties from type 'ContentEntity': id, data\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "169"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 31
            },
            "start": {
              "column": 36,
              "line": 28
            }
          }
        },
        {
          "id": "258",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/content/content.service.ts(36,68): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "170"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 44
            },
            "start": {
              "column": 91,
              "line": 36
            }
          }
        },
        {
          "id": "259",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "src/modules/content/content.service.ts(38,11): error TS2739: Type '{}' is missing the following properties from type 'ContentEntity': id, data\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "170"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 41
            },
            "start": {
              "column": 36,
              "line": 38
            }
          }
        }
      ],
      "source": "import { BadRequestException, Injectable } from \"@nestjs/common\";\nimport { FIRESTORE_COLLECTIONS } from \"@src/configs/types/Firestore.types\";\nimport { FirestoreService } from \"@src/services/firestore/firestore.service\";\nimport { ContentEntity } from \"./entities/content.entity\";\nimport { CreateContentDto } from \"./dto/create-content.dto\";\nimport { instanceToPlain } from \"class-transformer\";\nimport { v4 as uuidv4 } from \"uuid\";\n\n@Injectable()\nexport class ContentService {\n  constructor(private readonly firestore: FirestoreService) {}\n\n  async create(createContentDto: CreateContentDto): Promise<ContentEntity> {\n    const contentToCreate: Record<string, any> = instanceToPlain(createContentDto);\n    if (!contentToCreate || Object.keys(contentToCreate).length === 0) {\n      throw new BadRequestException(\"This content is empty\");\n    }\n    contentToCreate._id = uuidv4();\n    const content: ContentEntity = {\n      id: contentToCreate._id,\n      data: await this.firestore.saveDocument(FIRESTORE_COLLECTIONS.WELCOME_CONTENT, contentToCreate),\n    };\n\n    return content;\n  }\n\n  async findOne(id: string): Promise<ContentEntity> {\n    const content: ContentEntity = {\n      id,\n      data: await this.firestore.getDocument(FIRESTORE_COLLECTIONS.WELCOME_CONTENT, id),\n    };\n\n    return content;\n  }\n\n  async update(id: string, updateContentDto: Record<string, any>): Promise<ContentEntity> {\n    const contentToUpdate: Record<string, any> = instanceToPlain(updateContentDto);\n    const content: ContentEntity = {\n      id,\n      data: await this.firestore.updateDocument(FIRESTORE_COLLECTIONS.WELCOME_CONTENT, id, contentToUpdate),\n    };\n\n    return content;\n  }\n}"
    },
    "src/modules/feedback/feedback.service.ts": {
      "language": "typescript",
      "mutants": [
        {
          "id": "260",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/feedback/feedback.service.ts(13,62): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "115",
            "116"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 15
            },
            "start": {
              "column": 80,
              "line": 13
            }
          }
        },
        {
          "id": "261",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/feedback/feedback.service.ts(17,27): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "117",
            "118"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 19
            },
            "start": {
              "column": 47,
              "line": 17
            }
          }
        },
        {
          "id": "262",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/feedback/feedback.service.ts(21,37): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "119",
            "120",
            "121",
            "122",
            "123",
            "124",
            "125"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 23
            },
            "start": {
              "column": 55,
              "line": 21
            }
          }
        },
        {
          "id": "263",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/feedback/feedback.service.ts(25,74): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "124",
            "125"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 29
            },
            "start": {
              "column": 92,
              "line": 25
            }
          }
        },
        {
          "id": "264",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "Error: expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\nExpected number of calls: 1\nReceived number of calls: 0\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/modules/feedback/feedback.service.spec.ts:98:19)",
          "status": "Killed",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [
            "122"
          ],
          "coveredBy": [
            "122",
            "123"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 35
            },
            "start": {
              "column": 50,
              "line": 31
            }
          }
        }
      ],
      "source": "import { Injectable } from \"@nestjs/common\";\nimport { CreateFeedbackDto } from \"@modules/feedback/dto/create-feedback.dto\";\nimport { UpdateFeedbackDto } from \"@modules/feedback/dto/update-feedback.dto\";\nimport { FirestoreService } from \"@src/services/firestore/firestore.service\";\nimport { FIRESTORE_COLLECTIONS } from \"@src/configs/types/Firestore.types\";\nimport { Feedback } from \"@modules/feedback/entities/feedback.entity\";\nimport { instanceToPlain } from \"class-transformer\";\n\n@Injectable()\nexport class FeedbackService {\n  public constructor(private readonly firestoreService: FirestoreService) {}\n\n  public async create(createFeedbackDto: CreateFeedbackDto): Promise<Feedback> {\n    return this.firestoreService.saveDocument(FIRESTORE_COLLECTIONS.FEEDBACKS, instanceToPlain(createFeedbackDto));\n  }\n\n  public async findAll(): Promise<Feedback[]> {\n    return this.firestoreService.getAllDocuments<Feedback>(FIRESTORE_COLLECTIONS.FEEDBACKS);\n  }\n\n  public async findOne(id: string): Promise<Feedback> {\n    return this.firestoreService.getDocument<Feedback>(FIRESTORE_COLLECTIONS.FEEDBACKS, id);\n  }\n\n  public async update(id: string, updateFeedbackDto: UpdateFeedbackDto): Promise<Feedback> {\n    await this.findOne(id);\n\n    return this.firestoreService.updateDocument(FIRESTORE_COLLECTIONS.FEEDBACKS, id, instanceToPlain(updateFeedbackDto));\n  }\n\n  public async remove(id: string): Promise<void> {\n    await this.findOne(id);\n    const doc = this.firestoreService.getDoc(FIRESTORE_COLLECTIONS.FEEDBACKS, id);\n    await this.firestoreService.deleteRecursive(doc);\n  }\n}"
    },
    "src/modules/feedback-answer/feedback-answer.service.ts": {
      "language": "typescript",
      "mutants": [
        {
          "id": "265",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/feedback-answer/feedback-answer.service.ts(15,6): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "92",
            "93"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 24
            },
            "start": {
              "column": 30,
              "line": 15
            }
          }
        },
        {
          "id": "266",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "Survived",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "92",
            "93"
          ],
          "location": {
            "end": {
              "column": 31,
              "line": 21
            },
            "start": {
              "column": 7,
              "line": 21
            }
          }
        },
        {
          "id": "267",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/feedback-answer/feedback-answer.service.ts(26,57): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "94",
            "95"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 31
            },
            "start": {
              "column": 83,
              "line": 26
            }
          }
        },
        {
          "id": "268",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/feedback-answer/feedback-answer.service.ts(33,73): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "96",
            "97",
            "98",
            "99",
            "100",
            "101",
            "102"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 38
            },
            "start": {
              "column": 97,
              "line": 33
            }
          }
        },
        {
          "id": "269",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/feedback-answer/feedback-answer.service.ts(40,91): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "101",
            "102"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 46
            },
            "start": {
              "column": 115,
              "line": 40
            }
          }
        },
        {
          "id": "270",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "Survived",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "101",
            "102"
          ],
          "location": {
            "end": {
              "column": 109,
              "line": 45
            },
            "start": {
              "column": 98,
              "line": 45
            }
          }
        },
        {
          "id": "271",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "Error: expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\nExpected number of calls: 1\nReceived number of calls: 0\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/modules/feedback-answer/feedback-answer.service.spec.ts:99:19)",
          "status": "Killed",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [
            "99"
          ],
          "coveredBy": [
            "99",
            "100"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 53
            },
            "start": {
              "column": 86,
              "line": 48
            }
          }
        }
      ],
      "source": "import { Injectable } from \"@nestjs/common\";\nimport { FirestoreService } from \"@src/services/firestore/firestore.service\";\nimport { FIRESTORE_COLLECTIONS } from \"@src/configs/types/Firestore.types\";\nimport { FeedbackAnswer } from \"@modules/feedback-answer/entities/feedback-answer.entity\";\n\n@Injectable()\nexport class FeedbackAnswerService {\n  public constructor(private readonly firestoreService: FirestoreService) {}\n\n  public async create(\n    id: string,\n    questionId: string,\n    userId: string,\n    answers: string[],\n  ): Promise<FeedbackAnswer> {\n    const feedbackDoc = this.firestoreService.getDoc(FIRESTORE_COLLECTIONS.FEEDBACKS, id);\n    const parentDoc = this.firestoreService.getDoc(FIRESTORE_COLLECTIONS.FEEDBACKS_QUESTIONS, questionId, feedbackDoc);\n\n    return this.firestoreService.saveDocument(\n      FIRESTORE_COLLECTIONS.FEEDBACKS_ANSWERS,\n      { _id: userId, answers },\n      parentDoc,\n    );\n  }\n\n  public async findAll(id: string, questionId: string): Promise<FeedbackAnswer[]> {\n    const feedbackDoc = this.firestoreService.getDoc(FIRESTORE_COLLECTIONS.FEEDBACKS, id);\n    const parentDoc = this.firestoreService.getDoc(FIRESTORE_COLLECTIONS.FEEDBACKS_QUESTIONS, questionId, feedbackDoc);\n\n    return this.firestoreService.getAllDocuments<FeedbackAnswer>(FIRESTORE_COLLECTIONS.FEEDBACKS_ANSWERS, undefined, parentDoc);\n  }\n\n  public async findOne(id: string, questionId: string, userId: string): Promise<FeedbackAnswer> {\n    const feedbackDoc = this.firestoreService.getDoc(FIRESTORE_COLLECTIONS.FEEDBACKS, id);\n    const parentDoc = this.firestoreService.getDoc(FIRESTORE_COLLECTIONS.FEEDBACKS_QUESTIONS, questionId, feedbackDoc);\n\n    return this.firestoreService.getDocument<FeedbackAnswer>(FIRESTORE_COLLECTIONS.FEEDBACKS_ANSWERS, userId, parentDoc);\n  }\n\n  public async update(id: string, questionId: string, userId: string, answers: string[]): Promise<FeedbackAnswer> {\n    const feedbackDoc = this.firestoreService.getDoc(FIRESTORE_COLLECTIONS.FEEDBACKS, id);\n    const parentDoc = this.firestoreService.getDoc(FIRESTORE_COLLECTIONS.FEEDBACKS_QUESTIONS, questionId, feedbackDoc);\n    await this.findOne(id, questionId, userId);\n\n    return this.firestoreService.updateDocument(FIRESTORE_COLLECTIONS.FEEDBACKS_ANSWERS, userId, { answers }, parentDoc);\n  }\n\n  public async remove(id: string, questionId: string, userId: string): Promise<void> {\n    await this.findOne(id, questionId, userId);\n    const feedbackDoc = this.firestoreService.getDoc(FIRESTORE_COLLECTIONS.FEEDBACKS, id);\n    const parentDoc = this.firestoreService.getDoc(FIRESTORE_COLLECTIONS.FEEDBACKS_QUESTIONS, questionId, feedbackDoc);\n    await this.firestoreService.deleteDocument(FIRESTORE_COLLECTIONS.FEEDBACKS_ANSWERS, userId, parentDoc);\n  }\n}"
    },
    "src/modules/feedback-question/feedback-question.service.ts": {
      "language": "typescript",
      "mutants": [
        {
          "id": "272",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/feedback-question/feedback-question.service.ts(13,82): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "81",
            "82"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 17
            },
            "start": {
              "column": 108,
              "line": 13
            }
          }
        },
        {
          "id": "273",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/feedback-question/feedback-question.service.ts(19,37): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "83",
            "84"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 23
            },
            "start": {
              "column": 65,
              "line": 19
            }
          }
        },
        {
          "id": "274",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/feedback-question/feedback-question.service.ts(25,57): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "85",
            "86",
            "87",
            "88",
            "89",
            "90",
            "91"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 29
            },
            "start": {
              "column": 83,
              "line": 25
            }
          }
        },
        {
          "id": "275",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/feedback-question/feedback-question.service.ts(31,102): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "90",
            "91"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 36
            },
            "start": {
              "column": 128,
              "line": 31
            }
          }
        },
        {
          "id": "276",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "Error: expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\nExpected number of calls: 1\nReceived number of calls: 0\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/modules/feedback-question/feedback-question.service.spec.ts:109:19)",
          "status": "Killed",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [
            "88"
          ],
          "coveredBy": [
            "88",
            "89"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 43
            },
            "start": {
              "column": 70,
              "line": 38
            }
          }
        }
      ],
      "source": "import { Injectable } from \"@nestjs/common\";\nimport { CreateFeedbackQuestionDto } from \"@modules/feedback-question/dto/create-feedback-question.dto\";\nimport { UpdateFeedbackQuestionDto } from \"@modules/feedback-question/dto/update-feedback-question.dto\";\nimport { FirestoreService } from \"@src/services/firestore/firestore.service\";\nimport { FIRESTORE_COLLECTIONS } from \"@src/configs/types/Firestore.types\";\nimport { FeedbackQuestion } from \"@modules/feedback-question/entities/feedback-question.entity\";\nimport { instanceToPlain } from \"class-transformer\";\n\n@Injectable()\nexport class FeedbackQuestionService {\n  public constructor(private readonly firestoreService: FirestoreService) {}\n\n  public async create(id: string, createFeedbackDto: CreateFeedbackQuestionDto): Promise<FeedbackQuestion> {\n    const parentDoc = this.firestoreService.getDoc(FIRESTORE_COLLECTIONS.FEEDBACKS, id);\n\n    return this.firestoreService.saveDocument(FIRESTORE_COLLECTIONS.FEEDBACKS_QUESTIONS, instanceToPlain(createFeedbackDto), parentDoc);\n  }\n\n  public async findAll(id: string): Promise<FeedbackQuestion[]> {\n    const parentDoc = this.firestoreService.getDoc(FIRESTORE_COLLECTIONS.FEEDBACKS, id);\n\n    return this.firestoreService.getAllDocuments<FeedbackQuestion>(FIRESTORE_COLLECTIONS.FEEDBACKS_QUESTIONS, undefined, parentDoc);\n  }\n\n  public async findOne(id: string, questionId: string): Promise<FeedbackQuestion> {\n    const parentDoc = this.firestoreService.getDoc(FIRESTORE_COLLECTIONS.FEEDBACKS, id);\n\n    return this.firestoreService.getDocument<FeedbackQuestion>(FIRESTORE_COLLECTIONS.FEEDBACKS_QUESTIONS, questionId, parentDoc);\n  }\n\n  public async update(id: string, questionId: string, updateFeedbackDto: UpdateFeedbackQuestionDto): Promise<FeedbackQuestion> {\n    await this.findOne(id, questionId);\n    const parentDoc = this.firestoreService.getDoc(FIRESTORE_COLLECTIONS.FEEDBACKS, id);\n\n    return this.firestoreService.updateDocument(FIRESTORE_COLLECTIONS.FEEDBACKS_QUESTIONS, questionId, instanceToPlain(updateFeedbackDto), parentDoc);\n  }\n\n  public async remove(id: string, questionId: string): Promise<void> {\n    await this.findOne(id, questionId);\n    const parentDoc = this.firestoreService.getDoc(FIRESTORE_COLLECTIONS.FEEDBACKS, id);\n    const doc = this.firestoreService.getDoc(FIRESTORE_COLLECTIONS.FEEDBACKS_QUESTIONS, questionId, parentDoc);\n    await this.firestoreService.deleteRecursive(doc);\n  }\n}"
    },
    "src/modules/members/members.service.ts": {
      "language": "typescript",
      "mutants": [
        {
          "id": "277",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/members/members.service.ts(13,58): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "224"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 17
            },
            "start": {
              "column": 74,
              "line": 13
            }
          }
        },
        {
          "id": "278",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "Survived",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "225"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 25
            },
            "start": {
              "column": 78,
              "line": 19
            }
          }
        },
        {
          "id": "279",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "Survived",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "225"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 24
            },
            "start": {
              "column": 59,
              "line": 20
            }
          }
        },
        {
          "id": "280",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/members/members.service.ts(27,27): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "226"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 29
            },
            "start": {
              "column": 45,
              "line": 27
            }
          }
        },
        {
          "id": "281",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/members/members.service.ts(31,70): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "227"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 35
            },
            "start": {
              "column": 86,
              "line": 31
            }
          }
        },
        {
          "id": "282",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "Survived",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "228"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 39
            },
            "start": {
              "column": 50,
              "line": 37
            }
          }
        }
      ],
      "source": "import { Injectable } from \"@nestjs/common\";\nimport { CreateMemberDto } from \"@modules/members/dto/create-member.dto\";\nimport { UpdateMemberDto } from \"@modules/members/dto/update-member.dto\";\nimport { FirestoreService } from \"@src/services/firestore/firestore.service\";\nimport { instanceToPlain } from \"class-transformer\";\nimport { FIRESTORE_COLLECTIONS } from \"@src/configs/types/Firestore.types\";\nimport { Member } from \"@modules/members/entities/member.entity\";\n\n@Injectable()\nexport class MembersService {\n  public constructor(private readonly firestoreService: FirestoreService) { }\n\n  public async create(createMemberDto: CreateMemberDto): Promise<Member> {\n    const member = instanceToPlain(createMemberDto);\n\n    return this.firestoreService.saveDocument(FIRESTORE_COLLECTIONS.WELCOME_MEMBERS, member);\n  }\n\n  public async createMany(createMemberDto: CreateMemberDto[]): Promise<void> {\n    await Promise.all(createMemberDto.map(async member => {\n      const newMember = instanceToPlain(member);\n\n      return this.firestoreService.saveDocument(FIRESTORE_COLLECTIONS.WELCOME_MEMBERS, newMember);\n    }));\n  }\n\n  public async findAll(): Promise<Member[]> {\n    return this.firestoreService.getAllDocuments(FIRESTORE_COLLECTIONS.WELCOME_MEMBERS);\n  }\n\n  public async update(id: string, updateMemberDto: UpdateMemberDto): Promise<Member> {\n    const updatedMember = instanceToPlain(updateMemberDto);\n\n    return this.firestoreService.updateDocument(FIRESTORE_COLLECTIONS.WELCOME_MEMBERS, id, updatedMember);\n  }\n\n  public async remove(id: string): Promise<void> {\n    await this.firestoreService.deleteDocument(FIRESTORE_COLLECTIONS.WELCOME_MEMBERS, id);\n  }\n}"
    },
    "src/modules/quiz/quiz.service.ts": {
      "language": "typescript",
      "mutants": [
        {
          "id": "288",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/quiz/quiz.service.ts(13,54): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "53",
            "54",
            "55"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 15
            },
            "start": {
              "column": 68,
              "line": 13
            }
          }
        },
        {
          "id": "289",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/quiz/quiz.service.ts(17,27): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "56",
            "57"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 19
            },
            "start": {
              "column": 43,
              "line": 17
            }
          }
        },
        {
          "id": "290",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/quiz/quiz.service.ts(21,37): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "58",
            "59",
            "60",
            "61",
            "62",
            "63",
            "64",
            "65",
            "66",
            "67",
            "68",
            "69",
            "70"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 23
            },
            "start": {
              "column": 51,
              "line": 21
            }
          }
        },
        {
          "id": "291",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/quiz/quiz.service.ts(25,66): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "63",
            "64",
            "65"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 29
            },
            "start": {
              "column": 80,
              "line": 25
            }
          }
        },
        {
          "id": "292",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "Error: expect(received).not.toBeInstanceOf(expected)\n\nExpected constructor: not NoErrorThrownError\n\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/modules/quiz/quiz.service.spec.ts:147:25)",
          "status": "Killed",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [
            "62"
          ],
          "coveredBy": [
            "61",
            "62"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 34
            },
            "start": {
              "column": 50,
              "line": 31
            }
          }
        },
        {
          "id": "293",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/quiz/quiz.service.ts(43,98): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "66",
            "67",
            "68",
            "69",
            "70"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 52
            },
            "start": {
              "column": 116,
              "line": 43
            }
          }
        },
        {
          "id": "294",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/quiz/quiz.service.ts(46,5): error TS2322: Type 'void[]' is not assignable to type 'number[]'.\n  Type 'void' is not assignable to type 'number'.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "66",
            "67",
            "68"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 51
            },
            "start": {
              "column": 73,
              "line": 46
            }
          }
        },
        {
          "id": "295",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "statusReason": "Error: expect(received).toStrictEqual(expected) // deep equality\n\n- Expected  - 0\n+ Received  + 3\n\n  Array [\n+   0,\n+   1,\n    2,\n+   3,\n    4,\n  ]\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/modules/quiz/quiz.service.spec.ts:179:32)",
          "status": "Killed",
          "testsCompleted": 3,
          "static": false,
          "killedBy": [
            "66"
          ],
          "coveredBy": [
            "66",
            "67",
            "68"
          ],
          "location": {
            "end": {
              "column": 56,
              "line": 47
            },
            "start": {
              "column": 11,
              "line": 47
            }
          }
        },
        {
          "id": "296",
          "mutatorName": "ConditionalExpression",
          "replacement": "false",
          "statusReason": "Error: expect(received).toStrictEqual(expected) // deep equality\n\n- Expected  - 4\n+ Received  + 1\n\n- Array [\n-   2,\n-   4,\n- ]\n+ Array []\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/modules/quiz/quiz.service.spec.ts:179:32)",
          "status": "Killed",
          "testsCompleted": 3,
          "static": false,
          "killedBy": [
            "66"
          ],
          "coveredBy": [
            "66",
            "67",
            "68"
          ],
          "location": {
            "end": {
              "column": 56,
              "line": 47
            },
            "start": {
              "column": 11,
              "line": 47
            }
          }
        },
        {
          "id": "297",
          "mutatorName": "LogicalOperator",
          "replacement": "answer.isCorrect || answerIndexes.includes(i)",
          "statusReason": "Error: expect(received).toStrictEqual(expected) // deep equality\n\n- Expected  - 0\n+ Received  + 2\n\n  Array [\n+   0,\n    2,\n+   4,\n  ]\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/modules/quiz/quiz.service.spec.ts:184:32)",
          "status": "Killed",
          "testsCompleted": 3,
          "static": false,
          "killedBy": [
            "67"
          ],
          "coveredBy": [
            "66",
            "67",
            "68"
          ],
          "location": {
            "end": {
              "column": 56,
              "line": 47
            },
            "start": {
              "column": 11,
              "line": 47
            }
          }
        },
        {
          "id": "298",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "Error: expect(received).toStrictEqual(expected) // deep equality\n\n- Expected  - 4\n+ Received  + 1\n\n- Array [\n-   2,\n-   4,\n- ]\n+ Array []\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/modules/quiz/quiz.service.spec.ts:179:32)",
          "status": "Killed",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [
            "66"
          ],
          "coveredBy": [
            "66",
            "67"
          ],
          "location": {
            "end": {
              "column": 8,
              "line": 49
            },
            "start": {
              "column": 58,
              "line": 47
            }
          }
        },
        {
          "id": "299",
          "mutatorName": "ArrayDeclaration",
          "replacement": "[]",
          "statusReason": "Error: expect(received).toStrictEqual(expected) // deep equality\n\n- Expected  - 4\n+ Received  + 1\n\n- Array [\n-   2,\n-   4,\n- ]\n+ Array []\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/modules/quiz/quiz.service.spec.ts:179:32)",
          "status": "Killed",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [
            "66"
          ],
          "coveredBy": [
            "66",
            "67"
          ],
          "location": {
            "end": {
              "column": 19,
              "line": 48
            },
            "start": {
              "column": 16,
              "line": 48
            }
          }
        },
        {
          "id": "300",
          "mutatorName": "ArrayDeclaration",
          "replacement": "[\"Stryker was here\"]",
          "statusReason": "src/modules/quiz/quiz.service.ts(46,58): error TS2345: Argument of type '(this: undefined, answer: Answer, i: number) => string[] | number[]' is not assignable to parameter of type '(this: undefined, value: Answer, index: number, array: Answer[]) => string | readonly string[]'.\n  Type 'string[] | number[]' is not assignable to type 'string | readonly string[]'.\n    Type 'number[]' is not assignable to type 'string | readonly string[]'.\n      Type 'number[]' is not assignable to type 'readonly string[]'.\n        Type 'number' is not assignable to type 'string'.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "66",
            "67",
            "68"
          ],
          "location": {
            "end": {
              "column": 16,
              "line": 50
            },
            "start": {
              "column": 14,
              "line": 50
            }
          }
        }
      ],
      "source": "import { Injectable } from \"@nestjs/common\";\nimport { CreateQuizDto } from \"@modules/quiz/dto/create-quiz.dto\";\nimport { UpdateQuizDto } from \"@modules/quiz/dto/update-quiz.dto\";\nimport { FirestoreService } from \"@src/services/firestore/firestore.service\";\nimport { FIRESTORE_COLLECTIONS } from \"@src/configs/types/Firestore.types\";\nimport { Quiz } from \"@modules/quiz/entities/quiz.entity\";\nimport { instanceToPlain } from \"class-transformer\";\n\n@Injectable()\nexport class QuizService {\n  public constructor(private readonly firestoreService: FirestoreService) {}\n\n  public async create(createQuizDto: CreateQuizDto): Promise<Quiz> {\n    return this.firestoreService.saveDocument(FIRESTORE_COLLECTIONS.QUIZZES, instanceToPlain(createQuizDto));\n  }\n\n  public async findAll(): Promise<Quiz[]> {\n    return this.firestoreService.getAllDocuments<Quiz>(FIRESTORE_COLLECTIONS.QUIZZES);\n  }\n\n  public async findOne(id: string): Promise<Quiz> {\n    return this.firestoreService.getDocument<Quiz>(FIRESTORE_COLLECTIONS.QUIZZES, id);\n  }\n\n  public async update(id: string, updateQuizDto: UpdateQuizDto): Promise<Quiz> {\n    await this.findOne(id);\n\n    return this.firestoreService.updateDocument(FIRESTORE_COLLECTIONS.QUIZZES, id, instanceToPlain(updateQuizDto));\n  }\n\n  public async remove(id: string): Promise<void> {\n    await this.findOne(id);\n    await this.firestoreService.deleteDocument(FIRESTORE_COLLECTIONS.QUIZZES, id);\n  }\n\n  /**\n   * check correctness of answers.\n   * @param quizId - The quiz ID\n   * @param questionIndex - The index of the question\n   * @param answerIndexes - The array of indexes of selected answers\n   * @returns Array of correct answers\n   */\n  public async checkCorrectness(quizId: string, questionIndex: number, answerIndexes: number[]): Promise<number[]> {\n    const quiz = await this.findOne(quizId);\n\n    return quiz.questions[questionIndex].answers.flatMap((answer, i) => {\n      if (answer.isCorrect && answerIndexes.includes(i)) {\n        return [i];\n      }\n      return [];\n    });\n  }\n}"
    },
    "src/modules/shared/cache/cache.service.ts": {
      "language": "typescript",
      "mutants": [
        {
          "id": "301",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 4,
              "line": 10
            },
            "start": {
              "column": 17,
              "line": 8
            }
          }
        },
        {
          "id": "302",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/shared/cache/cache.service.ts(12,21): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 4,
              "line": 14
            },
            "start": {
              "column": 29,
              "line": 12
            }
          }
        },
        {
          "id": "303",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/shared/cache/cache.service.ts(16,48): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 4,
              "line": 18
            },
            "start": {
              "column": 56,
              "line": 16
            }
          }
        }
      ],
      "source": "import { Injectable } from \"@nestjs/common\";\nimport NodeCache from \"node-cache\";\n\n@Injectable()\nexport class CacheService {\n  private readonly cache: NodeCache;\n\n  constructor() {\n    this.cache = new NodeCache();\n  }\n\n  get(key: string): unknown {\n    return this.cache.get(key);\n  }\n\n  set(key: string, value: unknown, ttl = 300): boolean {\n    return this.cache.set(key, value, ttl);\n  }\n}"
    },
    "src/modules/step/step.service.ts": {
      "language": "typescript",
      "mutants": [
        {
          "id": "304",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/step/step.service.ts(15,54): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "103",
            "104"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 20
            },
            "start": {
              "column": 68,
              "line": 15
            }
          }
        },
        {
          "id": "305",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/step/step.service.ts(22,27): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "105",
            "106",
            "113",
            "114"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 24
            },
            "start": {
              "column": 43,
              "line": 22
            }
          }
        },
        {
          "id": "306",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/step/step.service.ts(26,37): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "107",
            "108",
            "109",
            "110",
            "111"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 28
            },
            "start": {
              "column": 51,
              "line": 26
            }
          }
        },
        {
          "id": "307",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/step/step.service.ts(30,66): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "111",
            "112"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 34
            },
            "start": {
              "column": 80,
              "line": 30
            }
          }
        },
        {
          "id": "308",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "Error: expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\nExpected number of calls: 1\nReceived number of calls: 0\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/modules/step/step.service.spec.ts:106:19)",
          "status": "Killed",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [
            "109"
          ],
          "coveredBy": [
            "109",
            "110"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 39
            },
            "start": {
              "column": 50,
              "line": 36
            }
          }
        },
        {
          "id": "309",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/step/step.service.ts(47,63): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "113",
            "114"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 51
            },
            "start": {
              "column": 99,
              "line": 47
            }
          }
        }
      ],
      "source": "import { Injectable } from \"@nestjs/common\";\nimport { CreateStepDto } from \"@modules/step/dto/create-step.dto\";\nimport { UpdateStepDto } from \"@modules/step/dto/update-step.dto\";\nimport { FirestoreService } from \"@src/services/firestore/firestore.service\";\nimport { FIRESTORE_COLLECTIONS } from \"@src/configs/types/Firestore.types\";\nimport { Step } from \"@modules/step/entities/step.entity\";\nimport { instanceToPlain } from \"class-transformer\";\nimport { generateStepDates } from \"@modules/step/step.utils\";\nimport { HOLIDAY_COUNTRY } from \"@modules/step/step.constants\";\n\n@Injectable()\nexport class StepService {\n  public constructor(private readonly firestoreService: FirestoreService) {}\n\n  public async create(createStepDto: CreateStepDto): Promise<Step> {\n    return this.firestoreService.saveDocument(\n      FIRESTORE_COLLECTIONS.STEPS,\n      instanceToPlain(createStepDto),\n    );\n  }\n\n  public async findAll(): Promise<Step[]> {\n    return this.firestoreService.getAllDocuments<Step>(FIRESTORE_COLLECTIONS.STEPS);\n  }\n\n  public async findOne(id: string): Promise<Step> {\n    return this.firestoreService.getDocument<Step>(FIRESTORE_COLLECTIONS.STEPS, id);\n  }\n\n  public async update(id: string, updateStepDto: UpdateStepDto): Promise<Step> {\n    await this.firestoreService.updateDocument(FIRESTORE_COLLECTIONS.STEPS, id, instanceToPlain(updateStepDto));\n    \n    return this.findOne(id);\n  }\n\n  public async remove(id: string): Promise<void> {\n    await this.findOne(id);\n    await this.firestoreService.deleteDocument(FIRESTORE_COLLECTIONS.STEPS, id);\n  }\n\n  /**\n   * generate array of steps for an user.\n   * @param startDate - The date when it starts\n   * @param endDate - The date when it ends\n   * @returns An array of steps with date associated\n   */\n  public async generateSteps(startDate: Date, endDate: Date): Promise<{ step: Step; dt: Date }[]> {\n    const steps = await this.findAll();\n\n    return generateStepDates(startDate, endDate, steps, HOLIDAY_COUNTRY);\n  }\n}"
    },
    "src/modules/step/step.utils.ts": {
      "language": "typescript",
      "mutants": [
        {
          "id": "310",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/step/step.utils.ts(42,7): error TS2365: Operator '<' cannot be applied to types 'void' and 'number'.\nsrc/modules/step/step.utils.ts(50,25): error TS2365: Operator '<' cannot be applied to types 'void' and 'number'.\nsrc/modules/step/step.utils.ts(52,32): error TS2365: Operator '>' cannot be applied to types 'void' and 'number'.\nsrc/modules/step/step.utils.ts(57,70): error TS2362: The left-hand side of an arithmetic operation must be of type 'any', 'number', 'bigint' or an enum type.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "113",
            "184",
            "185",
            "186",
            "187",
            "188",
            "189"
          ],
          "location": {
            "end": {
              "column": 2,
              "line": 15
            },
            "start": {
              "column": 44,
              "line": 13
            }
          }
        },
        {
          "id": "311",
          "mutatorName": "ArithmeticOperator",
          "replacement": "(date1.getTime() - date2.getTime()) * DAY_IN_MS",
          "statusReason": "Error: expect(received).toStrictEqual(expected) // deep equality\n\n- Expected  - 1\n+ Received  + 1\n\n@@ -1,8 +1,8 @@\n  Array [\n    Object {\n-     \"dt\": 2024-01-01T23:00:00.000Z,\n+     \"dt\": 2023-11-16T23:00:00.000Z,\n      \"step\": Object {\n        \"_id\": \"1\",\n        \"cutAt\": 0,\n        \"maxDays\": 90,\n        \"minDays\": 30,\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/modules/step/step.service.spec.ts:134:29)",
          "status": "Killed",
          "testsCompleted": 7,
          "static": false,
          "killedBy": [
            "113"
          ],
          "coveredBy": [
            "113",
            "184",
            "185",
            "186",
            "187",
            "188",
            "189"
          ],
          "location": {
            "end": {
              "column": 57,
              "line": 14
            },
            "start": {
              "column": 10,
              "line": 14
            }
          }
        },
        {
          "id": "312",
          "mutatorName": "ArithmeticOperator",
          "replacement": "date1.getTime() + date2.getTime()",
          "statusReason": "Error: expect(received).toThrow()\n\nReceived function did not throw\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/modules/step/step.utils.spec.ts:12:80)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 7,
          "static": false,
          "killedBy": [
            "184"
          ],
          "coveredBy": [
            "113",
            "184",
            "185",
            "186",
            "187",
            "188",
            "189"
          ],
          "location": {
            "end": {
              "column": 44,
              "line": 14
            },
            "start": {
              "column": 11,
              "line": 14
            }
          }
        },
        {
          "id": "313",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/step/step.service.ts(50,5): error TS2322: Type '{ step: Step; dt: void; }[]' is not assignable to type '{ step: Step; dt: Date; }[]'.\n  Type '{ step: Step; dt: void; }' is not assignable to type '{ step: Step; dt: Date; }'.\n    Types of property 'dt' are incompatible.\n      Type 'void' is not assignable to type 'Date'.\ntests/unit/modules/step/step.utils.spec.ts(54,25): error TS2339: Property 'getTime' does not exist on type 'void'.\ntests/unit/modules/step/step.utils.spec.ts(55,25): error TS2339: Property 'getTime' does not exist on type 'void'.\ntests/unit/modules/step/step.utils.spec.ts(71,45): error TS2339: Property 'getTime' does not exist on type 'void'.\ntests/unit/modules/step/step.utils.spec.ts(72,45): error TS2339: Property 'getTime' does not exist on type 'void'.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "113",
            "185",
            "186",
            "187",
            "188",
            "189"
          ],
          "location": {
            "end": {
              "column": 2,
              "line": 32
            },
            "start": {
              "column": 66,
              "line": 23
            }
          }
        },
        {
          "id": "314",
          "mutatorName": "ConditionalExpression",
          "replacement": "false",
          "statusReason": "Error: expect(received).toStrictEqual(expected) // deep equality\n\n- Expected  - 2\n+ Received  + 2\n\n  Array [\n    Object {\n-     \"dt\": 2024-05-10T00:00:00.000Z,\n+     \"dt\": 2024-05-08T00:00:00.000Z,\n      \"step\": Step {\n        \"cutAt\": 0,\n      },\n    },\n    Object {\n-     \"dt\": 2024-05-10T00:00:00.000Z,\n+     \"dt\": 2024-05-09T00:00:00.000Z,\n      \"step\": Step {\n        \"cutAt\": 1,\n      },\n    },\n  ]\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/modules/step/step.utils.spec.ts:85:78)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 6,
          "static": false,
          "killedBy": [
            "189"
          ],
          "coveredBy": [
            "113",
            "185",
            "186",
            "187",
            "188",
            "189"
          ],
          "location": {
            "end": {
              "column": 36,
              "line": 27
            },
            "start": {
              "column": 5,
              "line": 26
            }
          }
        },
        {
          "id": "315",
          "mutatorName": "LogicalOperator",
          "replacement": "[0, 6].includes(businessDay.getDay()) &&\n// week-end\nholidays.isHoliday(businessDay) // holiday",
          "statusReason": "Error: expect(received).toStrictEqual(expected) // deep equality\n\n- Expected  - 2\n+ Received  + 2\n\n  Array [\n    Object {\n-     \"dt\": 2024-05-10T00:00:00.000Z,\n+     \"dt\": 2024-05-08T00:00:00.000Z,\n      \"step\": Step {\n        \"cutAt\": 0,\n      },\n    },\n    Object {\n-     \"dt\": 2024-05-10T00:00:00.000Z,\n+     \"dt\": 2024-05-09T00:00:00.000Z,\n      \"step\": Step {\n        \"cutAt\": 1,\n      },\n    },\n  ]\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/modules/step/step.utils.spec.ts:85:78)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 6,
          "static": false,
          "killedBy": [
            "189"
          ],
          "coveredBy": [
            "113",
            "185",
            "186",
            "187",
            "188",
            "189"
          ],
          "location": {
            "end": {
              "column": 36,
              "line": 27
            },
            "start": {
              "column": 5,
              "line": 26
            }
          }
        },
        {
          "id": "316",
          "mutatorName": "ArrayDeclaration",
          "replacement": "[]",
          "statusReason": "Error: expect(received).toStrictEqual(expected) // deep equality\n\n- Expected  - 2\n+ Received  + 2\n\n  Array [\n    Object {\n-     \"dt\": 2043-05-11T00:00:00.000Z,\n+     \"dt\": 2043-05-09T00:00:00.000Z,\n      \"step\": Step {\n        \"cutAt\": 0,\n      },\n    },\n    Object {\n-     \"dt\": 2043-05-11T00:00:00.000Z,\n+     \"dt\": 2043-05-10T00:00:00.000Z,\n      \"step\": Step {\n        \"cutAt\": 1,\n      },\n    },\n  ]\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/modules/step/step.utils.spec.ts:93:78)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 6,
          "static": false,
          "killedBy": [
            "189"
          ],
          "coveredBy": [
            "113",
            "185",
            "186",
            "187",
            "188",
            "189"
          ],
          "location": {
            "end": {
              "column": 11,
              "line": 26
            },
            "start": {
              "column": 5,
              "line": 26
            }
          }
        },
        {
          "id": "317",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "Hit limit reached (1002/1000)",
          "status": "Timeout",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "188",
            "189"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 30
            },
            "start": {
              "column": 5,
              "line": 28
            }
          }
        },
        {
          "id": "318",
          "mutatorName": "ArithmeticOperator",
          "replacement": "businessDay.getUTCDate() - 1",
          "statusReason": "Error: expect(received).toStrictEqual(expected) // deep equality\n\n- Expected  - 2\n+ Received  + 2\n\n  Array [\n    Object {\n-     \"dt\": 2024-05-10T00:00:00.000Z,\n+     \"dt\": 2024-05-07T00:00:00.000Z,\n      \"step\": Step {\n        \"cutAt\": 0,\n      },\n    },\n    Object {\n-     \"dt\": 2024-05-10T00:00:00.000Z,\n+     \"dt\": 2024-05-07T00:00:00.000Z,\n      \"step\": Step {\n        \"cutAt\": 1,\n      },\n    },\n  ]\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/modules/step/step.utils.spec.ts:85:78)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [
            "189"
          ],
          "coveredBy": [
            "188",
            "189"
          ],
          "location": {
            "end": {
              "column": 56,
              "line": 29
            },
            "start": {
              "column": 28,
              "line": 29
            }
          }
        },
        {
          "id": "319",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/step/step.service.ts(50,5): error TS2322: Type 'void' is not assignable to type '{ step: Step; dt: Date; }[]'.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "113",
            "184",
            "185",
            "186",
            "187",
            "188",
            "189"
          ],
          "location": {
            "end": {
              "column": 2,
              "line": 63
            },
            "start": {
              "column": 99,
              "line": 42
            }
          }
        },
        {
          "id": "320",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "statusReason": "HttpException: Invalid parameter: startDate > endDate\n    at generateStepDates (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/src/modules/step/step.utils.ts:118:15)\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/modules/step/step.utils.spec.ts:19:38)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 7,
          "static": false,
          "killedBy": [
            "185"
          ],
          "coveredBy": [
            "113",
            "184",
            "185",
            "186",
            "187",
            "188",
            "189"
          ],
          "location": {
            "end": {
              "column": 15,
              "line": 44
            },
            "start": {
              "column": 7,
              "line": 44
            }
          }
        },
        {
          "id": "321",
          "mutatorName": "ConditionalExpression",
          "replacement": "false",
          "statusReason": "Error: expect(received).toThrow()\n\nReceived function did not throw\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/modules/step/step.utils.spec.ts:12:80)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 7,
          "static": false,
          "killedBy": [
            "184"
          ],
          "coveredBy": [
            "113",
            "184",
            "185",
            "186",
            "187",
            "188",
            "189"
          ],
          "location": {
            "end": {
              "column": 15,
              "line": 44
            },
            "start": {
              "column": 7,
              "line": 44
            }
          }
        },
        {
          "id": "322",
          "mutatorName": "EqualityOperator",
          "replacement": "diff <= 0",
          "status": "Survived",
          "testsCompleted": 7,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "113",
            "184",
            "185",
            "186",
            "187",
            "188",
            "189"
          ],
          "location": {
            "end": {
              "column": 15,
              "line": 44
            },
            "start": {
              "column": 7,
              "line": 44
            }
          }
        },
        {
          "id": "323",
          "mutatorName": "EqualityOperator",
          "replacement": "diff >= 0",
          "statusReason": "Error: expect(received).toThrow()\n\nReceived function did not throw\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/modules/step/step.utils.spec.ts:12:80)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 7,
          "static": false,
          "killedBy": [
            "184"
          ],
          "coveredBy": [
            "113",
            "184",
            "185",
            "186",
            "187",
            "188",
            "189"
          ],
          "location": {
            "end": {
              "column": 15,
              "line": 44
            },
            "start": {
              "column": 7,
              "line": 44
            }
          }
        },
        {
          "id": "324",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "Error: expect(received).toThrow()\n\nReceived function did not throw\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/modules/step/step.utils.spec.ts:12:80)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [
            "184"
          ],
          "coveredBy": [
            "184"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 46
            },
            "start": {
              "column": 17,
              "line": 44
            }
          }
        },
        {
          "id": "325",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "Survived",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "184"
          ],
          "location": {
            "end": {
              "column": 69,
              "line": 45
            },
            "start": {
              "column": 29,
              "line": 45
            }
          }
        },
        {
          "id": "326",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "Survived",
          "testsCompleted": 6,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "113",
            "185",
            "186",
            "187",
            "188",
            "189"
          ],
          "location": {
            "end": {
              "column": 63,
              "line": 47
            },
            "start": {
              "column": 42,
              "line": 47
            }
          }
        },
        {
          "id": "327",
          "mutatorName": "ArrayDeclaration",
          "replacement": "[]",
          "status": "Survived",
          "testsCompleted": 6,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "113",
            "185",
            "186",
            "187",
            "188",
            "189"
          ],
          "location": {
            "end": {
              "column": 61,
              "line": 47
            },
            "start": {
              "column": 51,
              "line": 47
            }
          }
        },
        {
          "id": "328",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "statusReason": "src/modules/step/step.utils.ts(47,24): error TS2769: No overload matches this call.\n  Overload 1 of 4, '(country: string | Country, opts?: Options): Holidays', gave the following error.\n    Type '\"\"' is not assignable to type 'HolidayType'.\n  Overload 2 of 4, '(country: string | Country, state: string, opts?: Options): Holidays', gave the following error.\n    Argument of type '{ types: string[]; }' is not assignable to parameter of type 'string'.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "113",
            "185",
            "186",
            "187",
            "188",
            "189"
          ],
          "location": {
            "end": {
              "column": 60,
              "line": 47
            },
            "start": {
              "column": 52,
              "line": 47
            }
          }
        },
        {
          "id": "329",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/step/step.service.ts(50,5): error TS2322: Type 'void[]' is not assignable to type '{ step: Step; dt: Date; }[]'.\n  Type 'void' is not assignable to type '{ step: Step; dt: Date; }'.\ntests/unit/modules/step/step.utils.spec.ts(54,22): error TS2339: Property 'dt' does not exist on type 'void'.\ntests/unit/modules/step/step.utils.spec.ts(55,22): error TS2339: Property 'dt' does not exist on type 'void'.\ntests/unit/modules/step/step.utils.spec.ts(71,42): error TS2339: Property 'dt' does not exist on type 'void'.\ntests/unit/modules/step/step.utils.spec.ts(72,42): error TS2339: Property 'dt' does not exist on type 'void'.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "113",
            "185",
            "186",
            "187",
            "188",
            "189"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 62
            },
            "start": {
              "column": 28,
              "line": 49
            }
          }
        },
        {
          "id": "330",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "statusReason": "Error: expect(received).toStrictEqual(expected) // deep equality\n\n- Expected  - 2\n+ Received  + 2\n\n@@ -4,17 +4,17 @@\n      \"step\": Step {\n        \"cutAt\": 0,\n      },\n    },\n    Object {\n-     \"dt\": 2024-01-03T00:00:00.000Z,\n+     \"dt\": 2024-01-02T00:00:00.000Z,\n      \"step\": Step {\n        \"cutAt\": 0.5,\n      },\n    },\n    Object {\n-     \"dt\": 2024-01-04T00:00:00.000Z,\n+     \"dt\": 2024-01-02T00:00:00.000Z,\n      \"step\": Step {\n        \"cutAt\": 1,\n      },\n    },\n  ]\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/modules/step/step.utils.spec.ts:37:83)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 6,
          "static": false,
          "killedBy": [
            "186"
          ],
          "coveredBy": [
            "113",
            "185",
            "186",
            "187",
            "188",
            "189"
          ],
          "location": {
            "end": {
              "column": 44,
              "line": 52
            },
            "start": {
              "column": 9,
              "line": 52
            }
          }
        },
        {
          "id": "331",
          "mutatorName": "ConditionalExpression",
          "replacement": "false",
          "statusReason": "Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: 0\nReceived: 518400000\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/modules/step/step.utils.spec.ts:56:58)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 6,
          "static": false,
          "killedBy": [
            "187"
          ],
          "coveredBy": [
            "113",
            "185",
            "186",
            "187",
            "188",
            "189"
          ],
          "location": {
            "end": {
              "column": 44,
              "line": 52
            },
            "start": {
              "column": 9,
              "line": 52
            }
          }
        },
        {
          "id": "332",
          "mutatorName": "LogicalOperator",
          "replacement": "step.minDays || diff < step.minDays",
          "status": "Survived",
          "testsCompleted": 6,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "113",
            "185",
            "186",
            "187",
            "188",
            "189"
          ],
          "location": {
            "end": {
              "column": 44,
              "line": 52
            },
            "start": {
              "column": 9,
              "line": 52
            }
          }
        },
        {
          "id": "333",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "status": "Survived",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "113",
            "187"
          ],
          "location": {
            "end": {
              "column": 44,
              "line": 52
            },
            "start": {
              "column": 25,
              "line": 52
            }
          }
        },
        {
          "id": "334",
          "mutatorName": "EqualityOperator",
          "replacement": "diff <= step.minDays",
          "status": "Survived",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "113",
            "187"
          ],
          "location": {
            "end": {
              "column": 44,
              "line": 52
            },
            "start": {
              "column": 25,
              "line": 52
            }
          }
        },
        {
          "id": "335",
          "mutatorName": "EqualityOperator",
          "replacement": "diff >= step.minDays",
          "statusReason": "Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: 0\nReceived: 518400000\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/modules/step/step.utils.spec.ts:56:58)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [
            "187"
          ],
          "coveredBy": [
            "113",
            "187"
          ],
          "location": {
            "end": {
              "column": 44,
              "line": 52
            },
            "start": {
              "column": 25,
              "line": 52
            }
          }
        },
        {
          "id": "336",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: 0\nReceived: 518400000\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/modules/step/step.utils.spec.ts:56:58)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [
            "187"
          ],
          "coveredBy": [
            "187"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 54
            },
            "start": {
              "column": 46,
              "line": 52
            }
          }
        },
        {
          "id": "337",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "statusReason": "Error: expect(received).toStrictEqual(expected) // deep equality\n\n- Expected  - 3\n+ Received  + 3\n\n  Array [\n    Object {\n-     \"dt\": 2024-01-02T00:00:00.000Z,\n+     \"dt\": Date { NaN },\n      \"step\": Step {\n        \"cutAt\": 0,\n      },\n    },\n    Object {\n-     \"dt\": 2024-01-03T00:00:00.000Z,\n+     \"dt\": Date { NaN },\n      \"step\": Step {\n        \"cutAt\": 0.5,\n      },\n    },\n    Object {\n-     \"dt\": 2024-01-04T00:00:00.000Z,\n+     \"dt\": Date { NaN },\n      \"step\": Step {\n        \"cutAt\": 1,\n      },\n    },\n  ]\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/modules/step/step.utils.spec.ts:37:83)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 6,
          "static": false,
          "killedBy": [
            "186"
          ],
          "coveredBy": [
            "113",
            "185",
            "186",
            "187",
            "188",
            "189"
          ],
          "location": {
            "end": {
              "column": 51,
              "line": 54
            },
            "start": {
              "column": 16,
              "line": 54
            }
          }
        },
        {
          "id": "338",
          "mutatorName": "ConditionalExpression",
          "replacement": "false",
          "statusReason": "Error: expect(received).toBeLessThanOrEqual(expected)\n\nExpected: <= 7776000000\nReceived:    15724800000\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/modules/step/step.utils.spec.ts:73:56)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 6,
          "static": false,
          "killedBy": [
            "188"
          ],
          "coveredBy": [
            "113",
            "185",
            "186",
            "187",
            "188",
            "189"
          ],
          "location": {
            "end": {
              "column": 51,
              "line": 54
            },
            "start": {
              "column": 16,
              "line": 54
            }
          }
        },
        {
          "id": "339",
          "mutatorName": "LogicalOperator",
          "replacement": "step.maxDays || diff > step.maxDays",
          "statusReason": "Error: expect(received).toStrictEqual(expected) // deep equality\n\n- Expected  - 1\n+ Received  + 1\n\n@@ -1,8 +1,8 @@\n  Array [\n    Object {\n-     \"dt\": 2024-01-01T23:00:00.000Z,\n+     \"dt\": 2023-11-16T23:00:00.000Z,\n      \"step\": Object {\n        \"_id\": \"1\",\n        \"cutAt\": 0,\n        \"maxDays\": 90,\n        \"minDays\": 30,\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/modules/step/step.service.spec.ts:134:29)",
          "status": "Killed",
          "testsCompleted": 6,
          "static": false,
          "killedBy": [
            "113"
          ],
          "coveredBy": [
            "113",
            "185",
            "186",
            "187",
            "188",
            "189"
          ],
          "location": {
            "end": {
              "column": 51,
              "line": 54
            },
            "start": {
              "column": 16,
              "line": 54
            }
          }
        },
        {
          "id": "340",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "statusReason": "Error: expect(received).toStrictEqual(expected) // deep equality\n\n- Expected  - 1\n+ Received  + 1\n\n@@ -1,8 +1,8 @@\n  Array [\n    Object {\n-     \"dt\": 2024-01-01T23:00:00.000Z,\n+     \"dt\": 2023-11-16T23:00:00.000Z,\n      \"step\": Object {\n        \"_id\": \"1\",\n        \"cutAt\": 0,\n        \"maxDays\": 90,\n        \"minDays\": 30,\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/modules/step/step.service.spec.ts:134:29)",
          "status": "Killed",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [
            "113"
          ],
          "coveredBy": [
            "113",
            "188"
          ],
          "location": {
            "end": {
              "column": 51,
              "line": 54
            },
            "start": {
              "column": 32,
              "line": 54
            }
          }
        },
        {
          "id": "341",
          "mutatorName": "EqualityOperator",
          "replacement": "diff >= step.maxDays",
          "status": "Survived",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "113",
            "188"
          ],
          "location": {
            "end": {
              "column": 51,
              "line": 54
            },
            "start": {
              "column": 32,
              "line": 54
            }
          }
        },
        {
          "id": "342",
          "mutatorName": "EqualityOperator",
          "replacement": "diff <= step.maxDays",
          "statusReason": "Error: expect(received).toBeLessThanOrEqual(expected)\n\nExpected: <= 7776000000\nReceived:    15724800000\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/modules/step/step.utils.spec.ts:73:56)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [
            "188"
          ],
          "coveredBy": [
            "113",
            "188"
          ],
          "location": {
            "end": {
              "column": 51,
              "line": 54
            },
            "start": {
              "column": 32,
              "line": 54
            }
          }
        },
        {
          "id": "343",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "Error: expect(received).toBeLessThanOrEqual(expected)\n\nExpected: <= 7776000000\nReceived:    15724800000\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/modules/step/step.utils.spec.ts:73:56)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [
            "188"
          ],
          "coveredBy": [
            "188"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 57
            },
            "start": {
              "column": 53,
              "line": 54
            }
          }
        },
        {
          "id": "344",
          "mutatorName": "ArithmeticOperator",
          "replacement": "stepStartDate.getUTCDate() + step.maxDays",
          "status": "Survived",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "188"
          ],
          "location": {
            "end": {
              "column": 73,
              "line": 56
            },
            "start": {
              "column": 32,
              "line": 56
            }
          }
        },
        {
          "id": "345",
          "mutatorName": "ArithmeticOperator",
          "replacement": "stepStartDate.getUTCDate() - Math.floor(dayDiff(stepEndDate, stepStartDate) * step.cutAt)",
          "statusReason": "Error: expect(received).toStrictEqual(expected) // deep equality\n\n- Expected  - 2\n+ Received  + 2\n\n@@ -4,17 +4,17 @@\n      \"step\": Step {\n        \"cutAt\": 0,\n      },\n    },\n    Object {\n-     \"dt\": 2024-01-03T00:00:00.000Z,\n+     \"dt\": 2024-01-02T00:00:00.000Z,\n      \"step\": Step {\n        \"cutAt\": 0.5,\n      },\n    },\n    Object {\n-     \"dt\": 2024-01-04T00:00:00.000Z,\n+     \"dt\": 2024-01-02T00:00:00.000Z,\n      \"step\": Step {\n        \"cutAt\": 1,\n      },\n    },\n  ]\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/modules/step/step.utils.spec.ts:37:83)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 6,
          "static": false,
          "killedBy": [
            "186"
          ],
          "coveredBy": [
            "113",
            "185",
            "186",
            "187",
            "188",
            "189"
          ],
          "location": {
            "end": {
              "column": 119,
              "line": 59
            },
            "start": {
              "column": 30,
              "line": 59
            }
          }
        },
        {
          "id": "346",
          "mutatorName": "ArithmeticOperator",
          "replacement": "dayDiff(stepEndDate, stepStartDate) / step.cutAt",
          "statusReason": "Error: expect(received).toStrictEqual(expected) // deep equality\n\n- Expected  - 2\n+ Received  + 2\n\n@@ -1,14 +1,14 @@\n  Array [\n    Object {\n-     \"dt\": 2024-01-02T00:00:00.000Z,\n+     \"dt\": Date { NaN },\n      \"step\": Step {\n        \"cutAt\": 0,\n      },\n    },\n    Object {\n-     \"dt\": 2024-01-03T00:00:00.000Z,\n+     \"dt\": 2024-01-08T00:00:00.000Z,\n      \"step\": Step {\n        \"cutAt\": 0.5,\n      },\n    },\n    Object {\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/modules/step/step.utils.spec.ts:37:83)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 6,
          "static": false,
          "killedBy": [
            "186"
          ],
          "coveredBy": [
            "113",
            "185",
            "186",
            "187",
            "188",
            "189"
          ],
          "location": {
            "end": {
              "column": 118,
              "line": 59
            },
            "start": {
              "column": 70,
              "line": 59
            }
          }
        },
        {
          "id": "347",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "tests/unit/modules/step/step.utils.spec.ts(54,22): error TS2339: Property 'dt' does not exist on type '{}'.\ntests/unit/modules/step/step.utils.spec.ts(55,22): error TS2339: Property 'dt' does not exist on type '{}'.\ntests/unit/modules/step/step.utils.spec.ts(71,42): error TS2339: Property 'dt' does not exist on type '{}'.\ntests/unit/modules/step/step.utils.spec.ts(72,42): error TS2339: Property 'dt' does not exist on type '{}'.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "113",
            "185",
            "186",
            "187",
            "188",
            "189"
          ],
          "location": {
            "end": {
              "column": 74,
              "line": 61
            },
            "start": {
              "column": 12,
              "line": 61
            }
          }
        }
      ],
      "source": "import { HttpException, HttpStatus } from \"@nestjs/common\";\nimport Holidays from \"date-holidays\";\nimport type { Step } from \"./entities/step.entity\";\n\n// is the result of 24h * 60min * 60sec * 1000\nconst DAY_IN_MS = 86400000;\n\n/**\n * get the difference between 2 dates (date1 - date2) in days.\n * @param date1 - The first date\n * @return date2 - The second date\n */\nfunction dayDiff(date1: Date, date2: Date) {\n  return (date1.getTime() - date2.getTime()) / DAY_IN_MS;\n}\n\n/**\n * calculate the first business day from the date. It can be the same day if the date is also a business day.\n * @param date - Start date\n * @param holidays - Instance of Holidays\n * @returns The date of the first business day\n */\nfunction getFirstBusinessDayFrom(date: Date, holidays: Holidays) {\n  const businessDay = new Date(date);\n  while (\n    [0, 6].includes(businessDay.getDay()) || // week-end\n    holidays.isHoliday(businessDay) // holiday\n  ) {\n    businessDay.setUTCDate(businessDay.getUTCDate() + 1);\n  }\n  return businessDay;\n}\n\n/**\n * calculate the date at which step should start.\n * @param startDate - Start date\n * @param endDate - End date\n * @param steps - List of steps\n * @param country - Country code used to take account holidays\n * @returns An array of step with date associated\n */\nexport function generateStepDates(startDate: Date, endDate: Date, steps: Step[], country: string) {\n  const diff = dayDiff(endDate, startDate);\n  if (diff < 0) {\n    throw new HttpException(\"Invalid parameter: startDate > endDate\", HttpStatus.BAD_REQUEST);\n  }\n  const holidays = new Holidays(country, { types: [\"public\"] });\n\n  return steps.map(step => {\n    const stepStartDate = new Date(startDate);\n    const stepEndDate = new Date(endDate);\n    if (step.minDays && diff < step.minDays) {\n      stepEndDate.setTime(startDate.getTime());\n    } else if (step.maxDays && diff > step.maxDays) {\n      stepStartDate.setTime(endDate.getTime());\n      stepStartDate.setUTCDate(stepStartDate.getUTCDate() - step.maxDays);\n    }\n\n    stepStartDate.setUTCDate(stepStartDate.getUTCDate() + Math.floor(dayDiff(stepEndDate, stepStartDate) * step.cutAt));\n\n    return { step, dt: getFirstBusinessDayFrom(stepStartDate, holidays) };\n  });\n}"
    },
    "src/modules/step/templates/index.ts": {
      "language": "typescript",
      "mutants": [
        {
          "id": "348",
          "mutatorName": "ArrowFunction",
          "replacement": "() => undefined",
          "statusReason": "src/modules/step/templates/index.ts(13,28): error TS2554: Expected 0 arguments, but got 1.\nsrc/modules/step/templates/index.ts(29,28): error TS2554: Expected 0 arguments, but got 1.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 328,
              "line": 3
            },
            "start": {
              "column": 28,
              "line": 3
            }
          }
        },
        {
          "id": "349",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 82,
              "line": 3
            },
            "start": {
              "column": 58,
              "line": 3
            }
          }
        },
        {
          "id": "350",
          "mutatorName": "ConditionalExpression",
          "replacement": "false",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 82,
              "line": 3
            },
            "start": {
              "column": 58,
              "line": 3
            }
          }
        },
        {
          "id": "351",
          "mutatorName": "EqualityOperator",
          "replacement": "unlockedSteps.length >= 0",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 82,
              "line": 3
            },
            "start": {
              "column": 58,
              "line": 3
            }
          }
        },
        {
          "id": "352",
          "mutatorName": "EqualityOperator",
          "replacement": "unlockedSteps.length <= 0",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 82,
              "line": 3
            },
            "start": {
              "column": 58,
              "line": 3
            }
          }
        },
        {
          "id": "353",
          "mutatorName": "StringLiteral",
          "replacement": "``",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 243,
              "line": 3
            },
            "start": {
              "column": 85,
              "line": 3
            }
          }
        },
        {
          "id": "354",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 139,
              "line": 3
            },
            "start": {
              "column": 115,
              "line": 3
            }
          }
        },
        {
          "id": "355",
          "mutatorName": "ConditionalExpression",
          "replacement": "false",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 139,
              "line": 3
            },
            "start": {
              "column": 115,
              "line": 3
            }
          }
        },
        {
          "id": "356",
          "mutatorName": "EqualityOperator",
          "replacement": "unlockedSteps.length >= 1",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 139,
              "line": 3
            },
            "start": {
              "column": 115,
              "line": 3
            }
          }
        },
        {
          "id": "357",
          "mutatorName": "EqualityOperator",
          "replacement": "unlockedSteps.length <= 1",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 139,
              "line": 3
            },
            "start": {
              "column": 115,
              "line": 3
            }
          }
        },
        {
          "id": "358",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 154,
              "line": 3
            },
            "start": {
              "column": 142,
              "line": 3
            }
          }
        },
        {
          "id": "359",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 168,
              "line": 3
            },
            "start": {
              "column": 157,
              "line": 3
            }
          }
        },
        {
          "id": "360",
          "mutatorName": "ArrowFunction",
          "replacement": "() => undefined",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 202,
              "line": 3
            },
            "start": {
              "column": 192,
              "line": 3
            }
          }
        },
        {
          "id": "361",
          "mutatorName": "ArithmeticOperator",
          "replacement": "s - 1",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 202,
              "line": 3
            },
            "start": {
              "column": 197,
              "line": 3
            }
          }
        },
        {
          "id": "362",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 213,
              "line": 3
            },
            "start": {
              "column": 209,
              "line": 3
            }
          }
        },
        {
          "id": "363",
          "mutatorName": "StringLiteral",
          "replacement": "``",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 327,
              "line": 3
            },
            "start": {
              "column": 246,
              "line": 3
            }
          }
        },
        {
          "id": "364",
          "mutatorName": "ArrowFunction",
          "replacement": "() => undefined",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 9,
              "line": 17
            },
            "start": {
              "column": 22,
              "line": 5
            }
          }
        },
        {
          "id": "365",
          "mutatorName": "StringLiteral",
          "replacement": "``",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 9,
              "line": 17
            },
            "start": {
              "column": 70,
              "line": 5
            }
          }
        },
        {
          "id": "366",
          "mutatorName": "ArrowFunction",
          "replacement": "() => undefined",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 9,
              "line": 33
            },
            "start": {
              "column": 25,
              "line": 19
            }
          }
        },
        {
          "id": "367",
          "mutatorName": "StringLiteral",
          "replacement": "``",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 9,
              "line": 33
            },
            "start": {
              "column": 73,
              "line": 19
            }
          }
        }
      ],
      "source": "import type { WelcomeUser } from \"@modules/welcome/entities/user.entity\";\n\nconst stepUnlockedString = (unlockedSteps: number[]) => (unlockedSteps.length > 0 ? `Vous avez maintenant accs ${unlockedSteps.length > 1 ? \"aux tapes\" : \" l'tape\"} n${unlockedSteps.map(s => s + 1).join(\", \")} sur l'application Welcome.` : `Vous aurez prochainement accs aux differentes tapes de l'application Welcome.`);\n\nconst stepTemplate = (user: WelcomeUser, unlockedSteps: number[]) => `<html lang=\"fr\">\n  <head>\n    <meta http-equiv=\"Content-type\" content=\"text/html; charset=utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  </head>\n  <body>\n    <p>\n      Bonjour ${user.firstName},<br /><br />\n      ${stepUnlockedString(unlockedSteps)}<br /><br />\n      Cordialement.\n    </p>\n  </body>\n</html>`;\n\nconst welcomeTemplate = (user: WelcomeUser, unlockedSteps: number[]) => `<html lang=\"fr\">\n  <head>\n    <meta http-equiv=\"Content-type\" content=\"text/html; charset=utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  </head>\n  <body>\n    <p>\n      Bonjour ${user.firstName},<br /><br />\n      Flicitation pour votre recrutement !<br />\n      Afin de faciliter votre intgration, nous avons mis en place une application vous permettant de dcouvrir en profondeur notre entreprise.<br /><br />\n      ${stepUnlockedString(unlockedSteps)}<br /><br />\n      Cordialement.\n    </p>\n  </body>\n</html>`;\n\nexport { stepTemplate, welcomeTemplate };"
    },
    "src/modules/welcome/welcome.service.ts": {
      "language": "typescript",
      "mutants": [
        {
          "id": "368",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/welcome/welcome.service.ts(34,71): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "16"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 41
            },
            "start": {
              "column": 104,
              "line": 34
            }
          }
        },
        {
          "id": "369",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "status": "Survived",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "16"
          ],
          "location": {
            "end": {
              "column": 36,
              "line": 35
            },
            "start": {
              "column": 12,
              "line": 35
            }
          }
        },
        {
          "id": "370",
          "mutatorName": "ConditionalExpression",
          "replacement": "false",
          "status": "Survived",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "16"
          ],
          "location": {
            "end": {
              "column": 36,
              "line": 35
            },
            "start": {
              "column": 12,
              "line": 35
            }
          }
        },
        {
          "id": "371",
          "mutatorName": "EqualityOperator",
          "replacement": "user.steps === undefined",
          "status": "Survived",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "16"
          ],
          "location": {
            "end": {
              "column": 36,
              "line": 35
            },
            "start": {
              "column": 12,
              "line": 35
            }
          }
        },
        {
          "id": "372",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/welcome/welcome.service.ts(35,5): error TS2322: Type 'UserStep | undefined[]' is not assignable to type 'string[]'.\n  Type 'UserStep' is missing the following properties from type 'string[]': length, pop, push, concat, and 35 more.\nsrc/modules/welcome/welcome.service.ts(35,67): error TS2345: Argument of type '(acc: string[], step: UserStep) => void' is not assignable to parameter of type '(previousValue: string[], currentValue: UserStep, currentIndex: number, array: UserStep[]) => string[]'.\n  Type 'void' is not assignable to type 'string[]'.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "16"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 40
            },
            "start": {
              "column": 82,
              "line": 35
            }
          }
        },
        {
          "id": "373",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "status": "Survived",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "16"
          ],
          "location": {
            "end": {
              "column": 82,
              "line": 36
            },
            "start": {
              "column": 11,
              "line": 36
            }
          }
        },
        {
          "id": "374",
          "mutatorName": "ConditionalExpression",
          "replacement": "false",
          "status": "Survived",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "16"
          ],
          "location": {
            "end": {
              "column": 82,
              "line": 36
            },
            "start": {
              "column": 11,
              "line": 36
            }
          }
        },
        {
          "id": "375",
          "mutatorName": "LogicalOperator",
          "replacement": "step.unlockEmailSentAt === undefined || step.unlockDate.toDate() <= now",
          "statusReason": "TypeError: step.unlockDate.toDate is not a function\n    at /Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/src/modules/welcome/welcome.service.ts:83:97\n    at Array.reduce (<anonymous>)\n    at Function.getNewlyUnlockedSteps (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/src/modules/welcome/welcome.service.ts:78:212)\n    at /Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/src/modules/welcome/welcome.service.ts:217:48\n    at Array.forEach (<anonymous>)\n    at WelcomeService.run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/src/modules/welcome/welcome.service.ts:211:13)\n    at async Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/tests/unit/modules/welcome/welcome.service.spec.ts:276:19)",
          "status": "Killed",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [
            "16"
          ],
          "coveredBy": [
            "16"
          ],
          "location": {
            "end": {
              "column": 82,
              "line": 36
            },
            "start": {
              "column": 11,
              "line": 36
            }
          }
        },
        {
          "id": "376",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "statusReason": "TypeError: step.unlockDate.toDate is not a function\n    at /Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/src/modules/welcome/welcome.service.ts:83:595\n    at Array.reduce (<anonymous>)\n    at Function.getNewlyUnlockedSteps (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/src/modules/welcome/welcome.service.ts:78:212)\n    at /Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/src/modules/welcome/welcome.service.ts:217:48\n    at Array.forEach (<anonymous>)\n    at WelcomeService.run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/src/modules/welcome/welcome.service.ts:211:13)\n    at async Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/tests/unit/modules/welcome/welcome.service.spec.ts:276:19)",
          "status": "Killed",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [
            "16"
          ],
          "coveredBy": [
            "16"
          ],
          "location": {
            "end": {
              "column": 47,
              "line": 36
            },
            "start": {
              "column": 11,
              "line": 36
            }
          }
        },
        {
          "id": "377",
          "mutatorName": "EqualityOperator",
          "replacement": "step.unlockEmailSentAt !== undefined",
          "statusReason": "TypeError: step.unlockDate.toDate is not a function\n    at /Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/src/modules/welcome/welcome.service.ts:83:595\n    at Array.reduce (<anonymous>)\n    at Function.getNewlyUnlockedSteps (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/src/modules/welcome/welcome.service.ts:78:212)\n    at /Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/src/modules/welcome/welcome.service.ts:217:48\n    at Array.forEach (<anonymous>)\n    at WelcomeService.run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/src/modules/welcome/welcome.service.ts:211:13)\n    at async Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/tests/unit/modules/welcome/welcome.service.spec.ts:276:19)",
          "status": "Killed",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [
            "16"
          ],
          "coveredBy": [
            "16"
          ],
          "location": {
            "end": {
              "column": 47,
              "line": 36
            },
            "start": {
              "column": 11,
              "line": 36
            }
          }
        },
        {
          "id": "378",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 82,
              "line": 36
            },
            "start": {
              "column": 51,
              "line": 36
            }
          }
        },
        {
          "id": "379",
          "mutatorName": "EqualityOperator",
          "replacement": "step.unlockDate.toDate() < now",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 82,
              "line": 36
            },
            "start": {
              "column": 51,
              "line": 36
            }
          }
        },
        {
          "id": "380",
          "mutatorName": "EqualityOperator",
          "replacement": "step.unlockDate.toDate() > now",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 82,
              "line": 36
            },
            "start": {
              "column": 51,
              "line": 36
            }
          }
        },
        {
          "id": "381",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 8,
              "line": 38
            },
            "start": {
              "column": 84,
              "line": 36
            }
          }
        },
        {
          "id": "382",
          "mutatorName": "ArrayDeclaration",
          "replacement": "[\"Stryker was here\"]",
          "status": "Survived",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "16"
          ],
          "location": {
            "end": {
              "column": 10,
              "line": 40
            },
            "start": {
              "column": 8,
              "line": 40
            }
          }
        },
        {
          "id": "383",
          "mutatorName": "ArrayDeclaration",
          "replacement": "[\"Stryker was here\"]",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 16,
              "line": 40
            },
            "start": {
              "column": 14,
              "line": 40
            }
          }
        },
        {
          "id": "384",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "statusReason": "Error: expect(received).toHaveLength(expected)\n\nExpected length: 12\nReceived length: 0\nReceived string: \"\"\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/tests/unit/modules/welcome/welcome.service.spec.ts:148:24)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 6,
          "static": false,
          "killedBy": [
            "1"
          ],
          "coveredBy": [
            "0",
            "1",
            "2",
            "3",
            "4",
            "5"
          ],
          "location": {
            "end": {
              "column": 131,
              "line": 43
            },
            "start": {
              "column": 61,
              "line": 43
            }
          }
        },
        {
          "id": "385",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/welcome/welcome.service.ts(43,134): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "0",
            "1",
            "2",
            "3",
            "4",
            "5"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 47
            },
            "start": {
              "column": 141,
              "line": 43
            }
          }
        },
        {
          "id": "386",
          "mutatorName": "ArrowFunction",
          "replacement": "() => undefined",
          "statusReason": "Error: expect(received).toHaveLength(expected)\n\nExpected length: 12\nReceived length: 0\nReceived string: \"\"\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/tests/unit/modules/welcome/welcome.service.spec.ts:148:24)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 6,
          "static": false,
          "killedBy": [
            "1"
          ],
          "coveredBy": [
            "0",
            "1",
            "2",
            "3",
            "4",
            "5"
          ],
          "location": {
            "end": {
              "column": 50,
              "line": 45
            },
            "start": {
              "column": 12,
              "line": 45
            }
          }
        },
        {
          "id": "387",
          "mutatorName": "ArithmeticOperator",
          "replacement": "x * characters.length",
          "statusReason": "Error: expect(received).toHaveLength(expected)\n\nExpected length: 12\nReceived length: 0\nReceived string: \"\"\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/tests/unit/modules/welcome/welcome.service.spec.ts:148:24)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 6,
          "static": false,
          "killedBy": [
            "1"
          ],
          "coveredBy": [
            "0",
            "1",
            "2",
            "3",
            "4",
            "5"
          ],
          "location": {
            "end": {
              "column": 49,
              "line": 45
            },
            "start": {
              "column": 28,
              "line": 45
            }
          }
        },
        {
          "id": "388",
          "mutatorName": "StringLiteral",
          "replacement": "\"Stryker was here!\"",
          "statusReason": "Error: expect(received).toHaveLength(expected)\n\nExpected length: 12\nReceived length: 199\nReceived string: \"7Stryker was here!xStryker was here!DStryker was here!1Stryker was here!WStryker was here!kStryker was here!3Stryker was here!3Stryker was here!0Stryker was here!oStryker was here!FStryker was here!A\"\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/tests/unit/modules/welcome/welcome.service.spec.ts:148:24)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 6,
          "static": false,
          "killedBy": [
            "1"
          ],
          "coveredBy": [
            "0",
            "1",
            "2",
            "3",
            "4",
            "5"
          ],
          "location": {
            "end": {
              "column": 15,
              "line": 46
            },
            "start": {
              "column": 13,
              "line": 46
            }
          }
        },
        {
          "id": "389",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/welcome/welcome.service.ts(49,58): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "0",
            "2",
            "3",
            "4",
            "5"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 62
            },
            "start": {
              "column": 79,
              "line": 49
            }
          }
        },
        {
          "id": "390",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "Error: expect(received).not.toBeInstanceOf(expected)\n\nExpected constructor: not NoErrorThrownError\n\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/tests/unit/modules/welcome/welcome.service.spec.ts:163:25)",
          "status": "Killed",
          "testsCompleted": 5,
          "static": false,
          "killedBy": [
            "3"
          ],
          "coveredBy": [
            "0",
            "2",
            "3",
            "4",
            "5"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 54
            },
            "start": {
              "column": 9,
              "line": 52
            }
          }
        },
        {
          "id": "391",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "Error: expect(received).not.toBeInstanceOf(expected)\n\nExpected constructor: not NoErrorThrownError\n\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/tests/unit/modules/welcome/welcome.service.spec.ts:163:25)",
          "status": "Killed",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [
            "3"
          ],
          "coveredBy": [
            "3"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 57
            },
            "start": {
              "column": 21,
              "line": 54
            }
          }
        },
        {
          "id": "392",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "Survived",
          "testsCompleted": 4,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "0",
            "2",
            "4",
            "5"
          ],
          "location": {
            "end": {
              "column": 159,
              "line": 59
            },
            "start": {
              "column": 50,
              "line": 59
            }
          }
        },
        {
          "id": "393",
          "mutatorName": "StringLiteral",
          "replacement": "``",
          "status": "Survived",
          "testsCompleted": 4,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "0",
            "2",
            "4",
            "5"
          ],
          "location": {
            "end": {
              "column": 157,
              "line": 59
            },
            "start": {
              "column": 103,
              "line": 59
            }
          }
        },
        {
          "id": "394",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "Survived",
          "testsCompleted": 3,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "0",
            "2",
            "5"
          ],
          "location": {
            "end": {
              "column": 75,
              "line": 61
            },
            "start": {
              "column": 59,
              "line": 61
            }
          }
        },
        {
          "id": "395",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/welcome/welcome.service.ts(64,73): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "6",
            "7",
            "8"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 73
            },
            "start": {
              "column": 96,
              "line": 64
            }
          }
        },
        {
          "id": "396",
          "mutatorName": "ArrayDeclaration",
          "replacement": "[\"Stryker was here\"]",
          "status": "Survived",
          "testsCompleted": 3,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "6",
            "7",
            "8"
          ],
          "location": {
            "end": {
              "column": 33,
              "line": 65
            },
            "start": {
              "column": 31,
              "line": 65
            }
          }
        },
        {
          "id": "397",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "statusReason": "TypeError: Cannot read properties of undefined (reading 'toISOString')\n    at toISO8601Format (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/src/helpers/date.helpers.ts:53:87)\n    at WelcomeService.findAll (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/src/modules/welcome/welcome.service.ts:147:183)\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/tests/unit/modules/welcome/welcome.service.spec.ts:186:37)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 3,
          "static": false,
          "killedBy": [
            "6"
          ],
          "coveredBy": [
            "6",
            "7",
            "8"
          ],
          "location": {
            "end": {
              "column": 39,
              "line": 66
            },
            "start": {
              "column": 9,
              "line": 66
            }
          }
        },
        {
          "id": "398",
          "mutatorName": "ConditionalExpression",
          "replacement": "false",
          "status": "Survived",
          "testsCompleted": 3,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "6",
            "7",
            "8"
          ],
          "location": {
            "end": {
              "column": 39,
              "line": 66
            },
            "start": {
              "column": 9,
              "line": 66
            }
          }
        },
        {
          "id": "399",
          "mutatorName": "EqualityOperator",
          "replacement": "arrivalDateStart === undefined",
          "statusReason": "TypeError: Cannot read properties of undefined (reading 'toISOString')\n    at toISO8601Format (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/src/helpers/date.helpers.ts:53:87)\n    at WelcomeService.findAll (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/src/modules/welcome/welcome.service.ts:147:183)\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/tests/unit/modules/welcome/welcome.service.spec.ts:186:37)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 3,
          "static": false,
          "killedBy": [
            "6"
          ],
          "coveredBy": [
            "6",
            "7",
            "8"
          ],
          "location": {
            "end": {
              "column": 39,
              "line": 66
            },
            "start": {
              "column": 9,
              "line": 66
            }
          }
        },
        {
          "id": "400",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "Survived",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "7"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 68
            },
            "start": {
              "column": 41,
              "line": 66
            }
          }
        },
        {
          "id": "401",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "Survived",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "7"
          ],
          "location": {
            "end": {
              "column": 46,
              "line": 67
            },
            "start": {
              "column": 33,
              "line": 67
            }
          }
        },
        {
          "id": "402",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "statusReason": "src/modules/welcome/welcome.service.ts(67,48): error TS2345: Argument of type '\"\"' is not assignable to parameter of type 'WhereFilterOp'.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "7"
          ],
          "location": {
            "end": {
              "column": 52,
              "line": 67
            },
            "start": {
              "column": 48,
              "line": 67
            }
          }
        },
        {
          "id": "403",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "statusReason": "TypeError: Cannot read properties of undefined (reading 'toISOString')\n    at toISO8601Format (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/src/helpers/date.helpers.ts:53:87)\n    at WelcomeService.findAll (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/src/modules/welcome/welcome.service.ts:155:182)\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/tests/unit/modules/welcome/welcome.service.spec.ts:186:37)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 3,
          "static": false,
          "killedBy": [
            "6"
          ],
          "coveredBy": [
            "6",
            "7",
            "8"
          ],
          "location": {
            "end": {
              "column": 37,
              "line": 69
            },
            "start": {
              "column": 9,
              "line": 69
            }
          }
        },
        {
          "id": "404",
          "mutatorName": "ConditionalExpression",
          "replacement": "false",
          "status": "Survived",
          "testsCompleted": 3,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "6",
            "7",
            "8"
          ],
          "location": {
            "end": {
              "column": 37,
              "line": 69
            },
            "start": {
              "column": 9,
              "line": 69
            }
          }
        },
        {
          "id": "405",
          "mutatorName": "EqualityOperator",
          "replacement": "arrivalDateEnd === undefined",
          "statusReason": "TypeError: Cannot read properties of undefined (reading 'toISOString')\n    at toISO8601Format (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/src/helpers/date.helpers.ts:53:87)\n    at WelcomeService.findAll (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/src/modules/welcome/welcome.service.ts:155:182)\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/tests/unit/modules/welcome/welcome.service.spec.ts:186:37)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 3,
          "static": false,
          "killedBy": [
            "6"
          ],
          "coveredBy": [
            "6",
            "7",
            "8"
          ],
          "location": {
            "end": {
              "column": 37,
              "line": 69
            },
            "start": {
              "column": 9,
              "line": 69
            }
          }
        },
        {
          "id": "406",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "Survived",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "7"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 71
            },
            "start": {
              "column": 39,
              "line": 69
            }
          }
        },
        {
          "id": "407",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "Survived",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "7"
          ],
          "location": {
            "end": {
              "column": 46,
              "line": 70
            },
            "start": {
              "column": 33,
              "line": 70
            }
          }
        },
        {
          "id": "408",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "statusReason": "src/modules/welcome/welcome.service.ts(70,48): error TS2345: Argument of type '\"\"' is not assignable to parameter of type 'WhereFilterOp'.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "7"
          ],
          "location": {
            "end": {
              "column": 51,
              "line": 70
            },
            "start": {
              "column": 48,
              "line": 70
            }
          }
        },
        {
          "id": "409",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/welcome/welcome.service.ts(75,37): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "9",
            "10",
            "11",
            "12",
            "13",
            "14",
            "17"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 77
            },
            "start": {
              "column": 58,
              "line": 75
            }
          }
        },
        {
          "id": "410",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "Error: expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\nExpected number of calls: 1\nReceived number of calls: 0\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/tests/unit/modules/welcome/welcome.service.spec.ts:235:19)",
          "status": "Killed",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [
            "12"
          ],
          "coveredBy": [
            "12",
            "13"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 83
            },
            "start": {
              "column": 50,
              "line": 79
            }
          }
        },
        {
          "id": "411",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/welcome/welcome.service.ts(85,66): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "14",
            "15"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 90
            },
            "start": {
              "column": 87,
              "line": 85
            }
          }
        },
        {
          "id": "412",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "Survived",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "14",
            "15"
          ],
          "location": {
            "end": {
              "column": 103,
              "line": 86
            },
            "start": {
              "column": 72,
              "line": 86
            }
          }
        },
        {
          "id": "413",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/welcome/welcome.service.ts(98,32): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "16"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 121
            },
            "start": {
              "column": 93,
              "line": 98
            }
          }
        },
        {
          "id": "414",
          "mutatorName": "ArrayDeclaration",
          "replacement": "[\"Stryker was here\"]",
          "statusReason": "src/modules/welcome/welcome.service.ts(116,25): error TS2345: Argument of type 'Promise<void>' is not assignable to parameter of type 'string'.\nsrc/modules/welcome/welcome.service.ts(120,5): error TS2322: Type 'PromiseSettledResult<string>[]' is not assignable to type 'PromiseSettledResult<{ _id: string; }>[]'.\n  Type 'PromiseSettledResult<string>' is not assignable to type 'PromiseSettledResult<{ _id: string; }>'.\n    Type 'PromiseFulfilledResult<string>' is not assignable to type 'PromiseSettledResult<{ _id: string; }>'.\n      Type 'PromiseFulfilledResult<string>' is not assignable to type 'PromiseFulfilledResult<{ _id: string; }>'.\n        Type 'string' is not assignable to type '{ _id: string; }'.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "16"
          ],
          "location": {
            "end": {
              "column": 26,
              "line": 101
            },
            "start": {
              "column": 24,
              "line": 101
            }
          }
        },
        {
          "id": "415",
          "mutatorName": "StringLiteral",
          "replacement": "``",
          "status": "Survived",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "16"
          ],
          "location": {
            "end": {
              "column": 53,
              "line": 103
            },
            "start": {
              "column": 23,
              "line": 103
            }
          }
        },
        {
          "id": "416",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "Survived",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "16"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 118
            },
            "start": {
              "column": 27,
              "line": 106
            }
          }
        },
        {
          "id": "417",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "status": "Survived",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "16"
          ],
          "location": {
            "end": {
              "column": 50,
              "line": 110
            },
            "start": {
              "column": 20,
              "line": 110
            }
          }
        },
        {
          "id": "418",
          "mutatorName": "ConditionalExpression",
          "replacement": "false",
          "status": "Survived",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "16"
          ],
          "location": {
            "end": {
              "column": 50,
              "line": 110
            },
            "start": {
              "column": 20,
              "line": 110
            }
          }
        },
        {
          "id": "419",
          "mutatorName": "EqualityOperator",
          "replacement": "unlockedSteps[0] === undefined",
          "status": "Survived",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "16"
          ],
          "location": {
            "end": {
              "column": 50,
              "line": 110
            },
            "start": {
              "column": 20,
              "line": 110
            }
          }
        },
        {
          "id": "420",
          "mutatorName": "ArrowFunction",
          "replacement": "() => undefined",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 95,
              "line": 110
            },
            "start": {
              "column": 64,
              "line": 110
            }
          }
        },
        {
          "id": "421",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 95,
              "line": 110
            },
            "start": {
              "column": 69,
              "line": 110
            }
          }
        },
        {
          "id": "422",
          "mutatorName": "ConditionalExpression",
          "replacement": "false",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 95,
              "line": 110
            },
            "start": {
              "column": 69,
              "line": 110
            }
          }
        },
        {
          "id": "423",
          "mutatorName": "EqualityOperator",
          "replacement": "s._id !== unlockedSteps[0]",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 95,
              "line": 110
            },
            "start": {
              "column": 69,
              "line": 110
            }
          }
        },
        {
          "id": "424",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "statusReason": "Error: expect(received).toStrictEqual(expected) // deep equality\n\n- Expected  - 1\n+ Received  + 6\n\n- Array []\n+ Array [\n+   Object {\n+     \"reason\": [TypeError: Cannot read properties of undefined (reading 'unlockEmail')],\n+     \"status\": \"rejected\",\n+   },\n+ ]\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/tests/unit/modules/welcome/welcome.service.spec.ts:278:19)",
          "status": "Killed",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [
            "16"
          ],
          "coveredBy": [
            "16"
          ],
          "location": {
            "end": {
              "column": 42,
              "line": 115
            },
            "start": {
              "column": 11,
              "line": 115
            }
          }
        },
        {
          "id": "425",
          "mutatorName": "ConditionalExpression",
          "replacement": "false",
          "status": "Survived",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "16"
          ],
          "location": {
            "end": {
              "column": 42,
              "line": 115
            },
            "start": {
              "column": 11,
              "line": 115
            }
          }
        },
        {
          "id": "426",
          "mutatorName": "EqualityOperator",
          "replacement": "step?.unlockEmail === undefined",
          "statusReason": "Error: expect(received).toStrictEqual(expected) // deep equality\n\n- Expected  - 1\n+ Received  + 6\n\n- Array []\n+ Array [\n+   Object {\n+     \"reason\": [TypeError: Cannot read properties of undefined (reading 'unlockEmail')],\n+     \"status\": \"rejected\",\n+   },\n+ ]\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/tests/unit/modules/welcome/welcome.service.spec.ts:278:19)",
          "status": "Killed",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [
            "16"
          ],
          "coveredBy": [
            "16"
          ],
          "location": {
            "end": {
              "column": 42,
              "line": 115
            },
            "start": {
              "column": 11,
              "line": 115
            }
          }
        },
        {
          "id": "427",
          "mutatorName": "OptionalChaining",
          "replacement": "step.unlockEmail",
          "statusReason": "TypeError: Cannot read properties of undefined (reading 'unlockEmail')\n    at /Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/src/modules/welcome/welcome.service.ts:223:211\n    at Array.forEach (<anonymous>)\n    at WelcomeService.run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/src/modules/welcome/welcome.service.ts:211:13)\n    at async Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/tests/unit/modules/welcome/welcome.service.spec.ts:276:19)",
          "status": "Killed",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [
            "16"
          ],
          "coveredBy": [
            "16"
          ],
          "location": {
            "end": {
              "column": 28,
              "line": 115
            },
            "start": {
              "column": 11,
              "line": 115
            }
          }
        },
        {
          "id": "428",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 8,
              "line": 117
            },
            "start": {
              "column": 44,
              "line": 115
            }
          }
        },
        {
          "id": "429",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 4,
              "line": 126
            },
            "start": {
              "column": 120,
              "line": 123
            }
          }
        },
        {
          "id": "430",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/welcome/welcome.service.ts(134,107): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "17"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 162
            },
            "start": {
              "column": 127,
              "line": 134
            }
          }
        },
        {
          "id": "431",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/welcome/welcome.service.ts(139,50): error TS2339: Property '_id' does not exist on type 'void'.\nsrc/modules/welcome/welcome.service.ts(139,66): error TS2339: Property 'subStepsCompleted' does not exist on type 'void'.\nsrc/modules/welcome/welcome.service.ts(141,28): error TS2339: Property '_id' does not exist on type 'void'.\nsrc/modules/welcome/welcome.service.ts(141,44): error TS2339: Property 'completedAt' does not exist on type 'void'.\nsrc/modules/welcome/welcome.service.ts(151,7): error TS2322: Type 'void[]' is not assignable to type 'UserStep[]'.\n  Type 'void' is not assignable to type 'UserStep'.\nsrc/modules/welcome/welcome.service.ts(153,5): error TS2322: Type 'void[]' is not assignable to type 'UserStep[]'.\n  Type 'void' is not assignable to type 'UserStep'.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "17"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 146
            },
            "start": {
              "column": 42,
              "line": 138
            }
          }
        },
        {
          "id": "432",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "statusReason": "Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n- Expected\n+ Received\n\n  \"WelcomeDatabase_users\",\n  \"6dd2ec31af3d92beef245276\",\n@@ -5,17 +5,14 @@\n        \"completedAt\": \"2024-09-08T00:24:00.061Z\",\n        \"subStepsCompleted\": 1,\n        \"unlockDate\": \"2024-07-06T21:16:02.127Z\",\n        \"unlockEmailSentAt\": \"2024-05-18T00:04:37.792Z\",\n      },\n-     Object {\n+     UserStep {\n        \"_id\": \"2\",\n-       \"completedAt\": Timestamp {\n-         \"_nanoseconds\": 0,\n-         \"_seconds\": 1717192800,\n-       },\n-       \"subStepsCompleted\": 1,\n+       \"completedAt\": \"2024-10-23T12:14:33.840Z\",\n+       \"subStepsCompleted\": 0,\n        \"unlockDate\": \"2024-03-16T12:01:11.272Z\",\n        \"unlockEmailSentAt\": \"2024-07-31T18:43:52.372Z\",\n      },\n      UserStep {\n        \"_id\": \"3\",,\n\nNumber of calls: 1\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/tests/unit/modules/welcome/welcome.service.spec.ts:285:58)",
          "status": "Killed",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [
            "17"
          ],
          "coveredBy": [
            "17"
          ],
          "location": {
            "end": {
              "column": 27,
              "line": 139
            },
            "start": {
              "column": 11,
              "line": 139
            }
          }
        },
        {
          "id": "433",
          "mutatorName": "ConditionalExpression",
          "replacement": "false",
          "statusReason": "Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n- Expected\n+ Received\n\n  \"WelcomeDatabase_users\",\n  \"6ee649fad70b1f3a28937fcc\",\n@@ -1,8 +1,8 @@\n  Object {\n    \"steps\": Array [\n-     UserStep {\n+     Object {\n        \"_id\": \"1\",\n        \"completedAt\": \"2024-02-13T14:28:23.590Z\",\n        \"subStepsCompleted\": 1,\n        \"unlockDate\": \"2023-12-21T01:01:19.234Z\",\n        \"unlockEmailSentAt\": \"2024-08-01T00:10:50.016Z\",\n@@ -15,14 +15,14 @@\n        },\n        \"subStepsCompleted\": 1,\n        \"unlockDate\": \"2024-08-12T04:30:59.056Z\",\n        \"unlockEmailSentAt\": \"2024-04-23T13:08:36.415Z\",\n      },\n-     UserStep {\n+     Object {\n        \"_id\": \"3\",\n        \"completedAt\": \"2024-11-09T16:12:51.896Z\",\n-       \"subStepsCompleted\": 0,\n+       \"subStepsCompleted\": 1,\n        \"unlockDate\": \"2024-03-08T18:57:33.844Z\",\n        \"unlockEmailSentAt\": \"2024-03-14T08:05:35.245Z\",\n      },\n    ],\n  },\n\nNumber of calls: 1\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/tests/unit/modules/welcome/welcome.service.spec.ts:285:58)",
          "status": "Killed",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [
            "17"
          ],
          "coveredBy": [
            "17"
          ],
          "location": {
            "end": {
              "column": 27,
              "line": 139
            },
            "start": {
              "column": 11,
              "line": 139
            }
          }
        },
        {
          "id": "434",
          "mutatorName": "EqualityOperator",
          "replacement": "s._id === stepId",
          "statusReason": "Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n- Expected\n+ Received\n\n  \"WelcomeDatabase_users\",\n  \"b6adafdc6c71acdce80c2d7d\",\n  Object {\n    \"steps\": Array [\n-     UserStep {\n+     Object {\n        \"_id\": \"1\",\n        \"completedAt\": \"2024-10-25T16:13:43.345Z\",\n        \"subStepsCompleted\": 1,\n        \"unlockDate\": \"2024-02-01T01:56:23.988Z\",\n        \"unlockEmailSentAt\": \"2024-07-01T12:57:19.550Z\",\n      },\n-     Object {\n+     UserStep {\n        \"_id\": \"2\",\n-       \"completedAt\": Timestamp {\n-         \"_nanoseconds\": 0,\n-         \"_seconds\": 1717192800,\n-       },\n-       \"subStepsCompleted\": 1,\n+       \"completedAt\": \"2024-03-18T21:35:15.210Z\",\n+       \"subStepsCompleted\": 0,\n        \"unlockDate\": \"2024-03-16T03:30:41.318Z\",\n        \"unlockEmailSentAt\": \"2024-08-23T14:46:53.178Z\",\n      },\n-     UserStep {\n+     Object {\n        \"_id\": \"3\",\n        \"completedAt\": \"2024-05-09T11:14:48.183Z\",\n-       \"subStepsCompleted\": 0,\n+       \"subStepsCompleted\": 1,\n        \"unlockDate\": \"2024-06-19T15:00:19.199Z\",\n        \"unlockEmailSentAt\": \"2024-04-03T19:18:19.107Z\",\n      },\n    ],\n  },\n\nNumber of calls: 1\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/tests/unit/modules/welcome/welcome.service.spec.ts:285:58)",
          "status": "Killed",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [
            "17"
          ],
          "coveredBy": [
            "17"
          ],
          "location": {
            "end": {
              "column": 27,
              "line": 139
            },
            "start": {
              "column": 11,
              "line": 139
            }
          }
        },
        {
          "id": "435",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n- Expected\n+ Received\n\n  \"WelcomeDatabase_users\",\n  \"4da2458e295dcaae607fecee\",\n@@ -1,8 +1,8 @@\n  Object {\n    \"steps\": Array [\n-     UserStep {\n+     Object {\n        \"_id\": \"1\",\n        \"completedAt\": \"2024-02-29T04:20:58.797Z\",\n        \"subStepsCompleted\": 1,\n        \"unlockDate\": \"2024-04-17T23:46:17.386Z\",\n        \"unlockEmailSentAt\": \"2024-01-19T18:32:15.279Z\",\n@@ -15,14 +15,14 @@\n        },\n        \"subStepsCompleted\": 1,\n        \"unlockDate\": \"2024-07-30T13:35:58.991Z\",\n        \"unlockEmailSentAt\": \"2023-12-19T12:11:05.394Z\",\n      },\n-     UserStep {\n+     Object {\n        \"_id\": \"3\",\n        \"completedAt\": \"2024-07-28T06:12:46.591Z\",\n-       \"subStepsCompleted\": 0,\n+       \"subStepsCompleted\": 1,\n        \"unlockDate\": \"2024-05-22T21:19:21.481Z\",\n        \"unlockEmailSentAt\": \"2024-06-10T08:43:25.536Z\",\n      },\n    ],\n  },\n\nNumber of calls: 1\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/tests/unit/modules/welcome/welcome.service.spec.ts:285:58)",
          "status": "Killed",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [
            "17"
          ],
          "coveredBy": [
            "17"
          ],
          "location": {
            "end": {
              "column": 8,
              "line": 141
            },
            "start": {
              "column": 29,
              "line": 139
            }
          }
        },
        {
          "id": "436",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "src/modules/welcome/welcome.service.ts(144,50): error TS2339: Property '_id' does not exist on type '{}'.\nsrc/modules/welcome/welcome.service.ts(144,66): error TS2339: Property 'subStepsCompleted' does not exist on type '{}'.\nsrc/modules/welcome/welcome.service.ts(146,28): error TS2339: Property '_id' does not exist on type '{}'.\nsrc/modules/welcome/welcome.service.ts(146,44): error TS2339: Property 'completedAt' does not exist on type '{}'.\nsrc/modules/welcome/welcome.service.ts(156,7): error TS2322: Type '{}[]' is not assignable to type 'UserStep[]'.\n  Type '{}' is missing the following properties from type 'UserStep': _id, unlockDate, subStepsCompleted\nsrc/modules/welcome/welcome.service.ts(158,5): error TS2322: Type '{}[]' is not assignable to type 'UserStep[]'.\n  Type '{}' is missing the following properties from type 'UserStep': _id, unlockDate, subStepsCompleted\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "17"
          ],
          "location": {
            "end": {
              "column": 8,
              "line": 145
            },
            "start": {
              "column": 14,
              "line": 142
            }
          }
        },
        {
          "id": "437",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "status": "Survived",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "17"
          ],
          "location": {
            "end": {
              "column": 101,
              "line": 147
            },
            "start": {
              "column": 29,
              "line": 147
            }
          }
        },
        {
          "id": "438",
          "mutatorName": "ConditionalExpression",
          "replacement": "false",
          "statusReason": "Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n- Expected\n+ Received\n\n  \"WelcomeDatabase_users\",\n  \"a2989c719e76c4ef1e6b2d1d\",\n@@ -7,14 +7,11 @@\n        \"unlockDate\": \"2024-05-26T02:11:59.862Z\",\n        \"unlockEmailSentAt\": \"2024-02-19T17:27:25.139Z\",\n      },\n      Object {\n        \"_id\": \"2\",\n-       \"completedAt\": Timestamp {\n-         \"_nanoseconds\": 0,\n-         \"_seconds\": 1717192800,\n-       },\n+       \"completedAt\": \"2024-08-24T20:10:57.857Z\",\n        \"subStepsCompleted\": 1,\n        \"unlockDate\": \"2024-03-26T21:06:29.749Z\",\n        \"unlockEmailSentAt\": \"2023-12-25T16:08:09.828Z\",\n      },\n      UserStep {,\n\nNumber of calls: 1\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/tests/unit/modules/welcome/welcome.service.spec.ts:285:58)",
          "status": "Killed",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [
            "17"
          ],
          "coveredBy": [
            "17"
          ],
          "location": {
            "end": {
              "column": 101,
              "line": 147
            },
            "start": {
              "column": 29,
              "line": 147
            }
          }
        },
        {
          "id": "439",
          "mutatorName": "EqualityOperator",
          "replacement": "newSteps.find(s => s._id === stepId).subStepsCompleted !== step.subSteps",
          "statusReason": "Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n- Expected\n+ Received\n\n  \"WelcomeDatabase_users\",\n  \"ddd7f81dd788b1d597de7bc3\",\n@@ -7,14 +7,11 @@\n        \"unlockDate\": \"2024-03-22T13:46:00.565Z\",\n        \"unlockEmailSentAt\": \"2024-03-24T06:16:28.061Z\",\n      },\n      Object {\n        \"_id\": \"2\",\n-       \"completedAt\": Timestamp {\n-         \"_nanoseconds\": 0,\n-         \"_seconds\": 1717192800,\n-       },\n+       \"completedAt\": \"2024-08-24T13:46:25.599Z\",\n        \"subStepsCompleted\": 1,\n        \"unlockDate\": \"2023-12-20T14:39:59.970Z\",\n        \"unlockEmailSentAt\": \"2024-02-03T12:44:36.564Z\",\n      },\n      UserStep {,\n\nNumber of calls: 1\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/tests/unit/modules/welcome/welcome.service.spec.ts:285:58)",
          "status": "Killed",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [
            "17"
          ],
          "coveredBy": [
            "17"
          ],
          "location": {
            "end": {
              "column": 101,
              "line": 147
            },
            "start": {
              "column": 29,
              "line": 147
            }
          }
        },
        {
          "id": "440",
          "mutatorName": "ArrowFunction",
          "replacement": "() => undefined",
          "statusReason": "TypeError: Cannot read properties of undefined (reading 'subStepsCompleted')\n    at WelcomeService.updateSubStep (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/src/modules/welcome/welcome.service.ts:279:490)\n    at async Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/tests/unit/modules/welcome/welcome.service.spec.ts:284:7)",
          "status": "Killed",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [
            "17"
          ],
          "coveredBy": [
            "17"
          ],
          "location": {
            "end": {
              "column": 64,
              "line": 147
            },
            "start": {
              "column": 43,
              "line": 147
            }
          }
        },
        {
          "id": "441",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "status": "Survived",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "17"
          ],
          "location": {
            "end": {
              "column": 64,
              "line": 147
            },
            "start": {
              "column": 48,
              "line": 147
            }
          }
        },
        {
          "id": "442",
          "mutatorName": "ConditionalExpression",
          "replacement": "false",
          "statusReason": "TypeError: Cannot read properties of undefined (reading 'subStepsCompleted')\n    at WelcomeService.updateSubStep (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/src/modules/welcome/welcome.service.ts:279:490)\n    at async Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/tests/unit/modules/welcome/welcome.service.spec.ts:284:7)",
          "status": "Killed",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [
            "17"
          ],
          "coveredBy": [
            "17"
          ],
          "location": {
            "end": {
              "column": 64,
              "line": 147
            },
            "start": {
              "column": 48,
              "line": 147
            }
          }
        },
        {
          "id": "443",
          "mutatorName": "EqualityOperator",
          "replacement": "s._id !== stepId",
          "status": "Survived",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "17"
          ],
          "location": {
            "end": {
              "column": 64,
              "line": 147
            },
            "start": {
              "column": 48,
              "line": 147
            }
          }
        },
        {
          "id": "444",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "status": "Survived",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "17"
          ],
          "location": {
            "end": {
              "column": 24,
              "line": 148
            },
            "start": {
              "column": 9,
              "line": 148
            }
          }
        },
        {
          "id": "445",
          "mutatorName": "ConditionalExpression",
          "replacement": "false",
          "statusReason": "Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n- Expected\n+ Received\n\n  \"WelcomeDatabase_users\",\n  \"dabceef091b45f6e1bfd59ee\",\n@@ -7,14 +7,11 @@\n        \"unlockDate\": \"2024-06-25T15:57:56.586Z\",\n        \"unlockEmailSentAt\": \"2024-10-03T13:35:43.037Z\",\n      },\n      Object {\n        \"_id\": \"2\",\n-       \"completedAt\": Timestamp {\n-         \"_nanoseconds\": 0,\n-         \"_seconds\": 1717192800,\n-       },\n+       \"completedAt\": \"2024-06-11T22:21:43.196Z\",\n        \"subStepsCompleted\": 1,\n        \"unlockDate\": \"2024-02-03T03:50:10.643Z\",\n        \"unlockEmailSentAt\": \"2024-07-20T03:27:07.222Z\",\n      },\n      UserStep {,\n\nNumber of calls: 1\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/tests/unit/modules/welcome/welcome.service.spec.ts:285:58)",
          "status": "Killed",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [
            "17"
          ],
          "coveredBy": [
            "17"
          ],
          "location": {
            "end": {
              "column": 24,
              "line": 148
            },
            "start": {
              "column": 9,
              "line": 148
            }
          }
        },
        {
          "id": "446",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n- Expected\n+ Received\n\n  \"WelcomeDatabase_users\",\n  \"cdbe73b6ee5d61cc1288b076\",\n@@ -7,14 +7,11 @@\n        \"unlockDate\": \"2024-09-29T19:16:32.055Z\",\n        \"unlockEmailSentAt\": \"2024-09-05T00:27:45.423Z\",\n      },\n      Object {\n        \"_id\": \"2\",\n-       \"completedAt\": Timestamp {\n-         \"_nanoseconds\": 0,\n-         \"_seconds\": 1717192800,\n-       },\n+       \"completedAt\": \"2024-10-24T23:54:22.976Z\",\n        \"subStepsCompleted\": 1,\n        \"unlockDate\": \"2024-08-01T07:05:49.842Z\",\n        \"unlockEmailSentAt\": \"2024-11-22T07:05:34.656Z\",\n      },\n      UserStep {,\n\nNumber of calls: 1\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/tests/unit/modules/welcome/welcome.service.spec.ts:285:58)",
          "status": "Killed",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [
            "17"
          ],
          "coveredBy": [
            "17"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 150
            },
            "start": {
              "column": 26,
              "line": 148
            }
          }
        },
        {
          "id": "447",
          "mutatorName": "ArrowFunction",
          "replacement": "() => undefined",
          "statusReason": "TypeError: Cannot set properties of undefined (setting 'completedAt')\n    at WelcomeService.updateSubStep (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/src/modules/welcome/welcome.service.ts:285:277)\n    at async Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/tests/unit/modules/welcome/welcome.service.spec.ts:284:7)",
          "status": "Killed",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [
            "17"
          ],
          "coveredBy": [
            "17"
          ],
          "location": {
            "end": {
              "column": 42,
              "line": 149
            },
            "start": {
              "column": 21,
              "line": 149
            }
          }
        },
        {
          "id": "448",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "statusReason": "Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n- Expected\n+ Received\n\n  \"WelcomeDatabase_users\",\n  \"bd69585ea3aafbfcb0cb2b10\",\n@@ -10,14 +10,11 @@\n        \"unlockDate\": \"2024-05-24T13:07:42.417Z\",\n        \"unlockEmailSentAt\": \"2024-08-23T15:14:53.745Z\",\n      },\n      Object {\n        \"_id\": \"2\",\n-       \"completedAt\": Timestamp {\n-         \"_nanoseconds\": 0,\n-         \"_seconds\": 1717192800,\n-       },\n+       \"completedAt\": \"2023-12-23T17:14:52.719Z\",\n        \"subStepsCompleted\": 1,\n        \"unlockDate\": \"2024-07-03T23:00:50.328Z\",\n        \"unlockEmailSentAt\": \"2024-05-18T03:51:36.424Z\",\n      },\n      UserStep {,\n\nNumber of calls: 1\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/tests/unit/modules/welcome/welcome.service.spec.ts:285:58)",
          "status": "Killed",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [
            "17"
          ],
          "coveredBy": [
            "17"
          ],
          "location": {
            "end": {
              "column": 42,
              "line": 149
            },
            "start": {
              "column": 26,
              "line": 149
            }
          }
        },
        {
          "id": "449",
          "mutatorName": "ConditionalExpression",
          "replacement": "false",
          "statusReason": "TypeError: Cannot set properties of undefined (setting 'completedAt')\n    at WelcomeService.updateSubStep (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/src/modules/welcome/welcome.service.ts:285:277)\n    at async Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/tests/unit/modules/welcome/welcome.service.spec.ts:284:7)",
          "status": "Killed",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [
            "17"
          ],
          "coveredBy": [
            "17"
          ],
          "location": {
            "end": {
              "column": 42,
              "line": 149
            },
            "start": {
              "column": 26,
              "line": 149
            }
          }
        },
        {
          "id": "450",
          "mutatorName": "EqualityOperator",
          "replacement": "s._id !== stepId",
          "statusReason": "Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n- Expected\n+ Received\n\n  \"WelcomeDatabase_users\",\n  \"0e874e56313ec5694dfcaba0\",\n@@ -10,14 +10,11 @@\n        \"unlockDate\": \"2024-12-15T10:56:34.006Z\",\n        \"unlockEmailSentAt\": \"2024-06-15T06:13:50.240Z\",\n      },\n      Object {\n        \"_id\": \"2\",\n-       \"completedAt\": Timestamp {\n-         \"_nanoseconds\": 0,\n-         \"_seconds\": 1717192800,\n-       },\n+       \"completedAt\": \"2024-07-02T11:33:09.607Z\",\n        \"subStepsCompleted\": 1,\n        \"unlockDate\": \"2023-12-24T22:08:36.461Z\",\n        \"unlockEmailSentAt\": \"2024-09-22T00:46:43.011Z\",\n      },\n      UserStep {,\n\nNumber of calls: 1\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/tests/unit/modules/welcome/welcome.service.spec.ts:285:58)",
          "status": "Killed",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [
            "17"
          ],
          "coveredBy": [
            "17"
          ],
          "location": {
            "end": {
              "column": 42,
              "line": 149
            },
            "start": {
              "column": 26,
              "line": 149
            }
          }
        },
        {
          "id": "451",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n- Expected\n+ Received\n\n  \"WelcomeDatabase_users\",\n  \"336ae05501d1ad6850fe1e4b\",\n- Object {\n-   \"steps\": Array [\n-     UserStep {\n-       \"_id\": \"1\",\n-       \"completedAt\": \"2024-04-21T11:27:13.752Z\",\n-       \"subStepsCompleted\": 1,\n-       \"unlockDate\": \"2024-04-04T07:50:47.336Z\",\n-       \"unlockEmailSentAt\": \"2024-05-10T23:58:29.620Z\",\n-     },\n-     Object {\n-       \"_id\": \"2\",\n-       \"completedAt\": Timestamp {\n-         \"_nanoseconds\": 0,\n-         \"_seconds\": 1717192800,\n-       },\n-       \"subStepsCompleted\": 1,\n-       \"unlockDate\": \"2024-04-10T04:16:33.501Z\",\n-       \"unlockEmailSentAt\": \"2024-02-12T00:33:10.100Z\",\n-     },\n-     UserStep {\n-       \"_id\": \"3\",\n-       \"completedAt\": \"2024-09-12T13:37:21.377Z\",\n-       \"subStepsCompleted\": 0,\n-       \"unlockDate\": \"2024-09-11T17:32:55.714Z\",\n-       \"unlockEmailSentAt\": \"2024-04-07T14:38:57.709Z\",\n-     },\n-   ],\n- }\n+ Object {},\n\nNumber of calls: 1\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/tests/unit/modules/welcome/welcome.service.spec.ts:285:58)",
          "status": "Killed",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [
            "17"
          ],
          "coveredBy": [
            "17"
          ],
          "location": {
            "end": {
              "column": 114,
              "line": 151
            },
            "start": {
              "column": 95,
              "line": 151
            }
          }
        },
        {
          "id": "452",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "Survived",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "17"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 156
            },
            "start": {
              "column": 9,
              "line": 152
            }
          }
        },
        {
          "id": "453",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "status": "Survived",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "17"
          ],
          "location": {
            "end": {
              "column": 26,
              "line": 153
            },
            "start": {
              "column": 11,
              "line": 153
            }
          }
        },
        {
          "id": "454",
          "mutatorName": "ConditionalExpression",
          "replacement": "false",
          "status": "Survived",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "17"
          ],
          "location": {
            "end": {
              "column": 26,
              "line": 153
            },
            "start": {
              "column": 11,
              "line": 153
            }
          }
        },
        {
          "id": "455",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "Survived",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "17"
          ],
          "location": {
            "end": {
              "column": 8,
              "line": 155
            },
            "start": {
              "column": 28,
              "line": 153
            }
          }
        },
        {
          "id": "456",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 6,
              "line": 160
            },
            "start": {
              "column": 19,
              "line": 156
            }
          }
        },
        {
          "id": "457",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "Error: expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\nExpected number of calls: 1\nReceived number of calls: 0\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/tests/unit/modules/welcome/welcome.service.spec.ts:299:58)",
          "status": "Killed",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [
            "18"
          ],
          "coveredBy": [
            "18"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 175
            },
            "start": {
              "column": 93,
              "line": 169
            }
          }
        },
        {
          "id": "458",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n- Expected\n+ Received\n\n  \"WelcomeDatabase_users\",\n  \"b271c37ab1feff75d1d21aeb\",\n- Object {\n-   \"steps\": Array [\n-     Object {\n-       \"_id\": \"1\",\n-       \"completedAt\": \"2024-04-30T06:51:44.751Z\",\n-       \"subStepsCompleted\": 1,\n-       \"unlockDate\": \"2024-11-13T21:10:11.667Z\",\n-       \"unlockEmailSentAt\": Timestamp {\n-         \"_nanoseconds\": 0,\n-         \"_seconds\": 1717192800,\n-       },\n-     },\n-     UserStep {\n-       \"_id\": \"2\",\n-       \"completedAt\": \"2024-06-16T18:01:56.017Z\",\n-       \"subStepsCompleted\": 0,\n-       \"unlockDate\": \"2024-02-22T22:11:38.103Z\",\n-       \"unlockEmailSentAt\": \"2024-05-31T19:19:20.014Z\",\n-     },\n-     UserStep {\n-       \"_id\": \"3\",\n-       \"completedAt\": \"2024-04-05T08:20:26.457Z\",\n-       \"subStepsCompleted\": 0,\n-       \"unlockDate\": \"2024-09-19T09:26:55.683Z\",\n-       \"unlockEmailSentAt\": \"2024-08-29T14:38:59.979Z\",\n-     },\n-   ],\n- }\n+ Object {},\n\nNumber of calls: 1\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/tests/unit/modules/welcome/welcome.service.spec.ts:300:58)",
          "status": "Killed",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [
            "18"
          ],
          "coveredBy": [
            "18"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 174
            },
            "start": {
              "column": 95,
              "line": 172
            }
          }
        },
        {
          "id": "459",
          "mutatorName": "ArrowFunction",
          "replacement": "() => undefined",
          "statusReason": "Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n- Expected\n+ Received\n\n  \"WelcomeDatabase_users\",\n  \"b8df6a5b5272c5f1b3cf80dd\",\n  Object {\n    \"steps\": Array [\n-     Object {\n-       \"_id\": \"1\",\n-       \"completedAt\": \"2024-06-21T07:20:16.891Z\",\n-       \"subStepsCompleted\": 1,\n-       \"unlockDate\": \"2024-06-30T07:12:59.034Z\",\n-       \"unlockEmailSentAt\": Timestamp {\n-         \"_nanoseconds\": 0,\n-         \"_seconds\": 1717192800,\n-       },\n-     },\n-     UserStep {\n-       \"_id\": \"2\",\n-       \"completedAt\": \"2024-07-03T06:37:01.228Z\",\n-       \"subStepsCompleted\": 0,\n-       \"unlockDate\": \"2024-10-18T16:33:08.434Z\",\n-       \"unlockEmailSentAt\": \"2024-03-27T11:29:17.565Z\",\n-     },\n-     UserStep {\n-       \"_id\": \"3\",\n-       \"completedAt\": \"2024-07-04T19:25:09.477Z\",\n-       \"subStepsCompleted\": 0,\n-       \"unlockDate\": \"2024-08-05T20:38:11.064Z\",\n-       \"unlockEmailSentAt\": \"2024-02-17T10:13:19.874Z\",\n-     },\n+     undefined,\n+     undefined,\n+     undefined,\n    ],\n  },\n\nNumber of calls: 1\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/tests/unit/modules/welcome/welcome.service.spec.ts:300:58)",
          "status": "Killed",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [
            "18"
          ],
          "coveredBy": [
            "18"
          ],
          "location": {
            "end": {
              "column": 111,
              "line": 173
            },
            "start": {
              "column": 29,
              "line": 173
            }
          }
        },
        {
          "id": "460",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n- Expected\n+ Received\n\n  \"WelcomeDatabase_users\",\n  \"17d81ea04bd8a8adebc2cd4a\",\n@@ -1,17 +1,8 @@\n  Object {\n    \"steps\": Array [\n-     Object {\n-       \"_id\": \"1\",\n-       \"completedAt\": \"2023-12-26T12:57:30.431Z\",\n-       \"subStepsCompleted\": 1,\n-       \"unlockDate\": \"2024-12-14T16:03:32.655Z\",\n-       \"unlockEmailSentAt\": Timestamp {\n-         \"_nanoseconds\": 0,\n-         \"_seconds\": 1717192800,\n-       },\n-     },\n+     Object {},\n      UserStep {\n        \"_id\": \"2\",\n        \"completedAt\": \"2024-06-24T09:58:24.737Z\",\n        \"subStepsCompleted\": 0,\n        \"unlockDate\": \"2024-09-14T21:37:56.985Z\",,\n\nNumber of calls: 1\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/tests/unit/modules/welcome/welcome.service.spec.ts:300:58)",
          "status": "Killed",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [
            "18"
          ],
          "coveredBy": [
            "18"
          ],
          "location": {
            "end": {
              "column": 103,
              "line": 173
            },
            "start": {
              "column": 73,
              "line": 173
            }
          }
        },
        {
          "id": "461",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "Error: expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\nExpected number of calls: 1\nReceived number of calls: 0\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/tests/unit/modules/welcome/welcome.service.spec.ts:318:51)",
          "status": "Killed",
          "testsCompleted": 3,
          "static": false,
          "killedBy": [
            "19"
          ],
          "coveredBy": [
            "17",
            "19",
            "20"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 185
            },
            "start": {
              "column": 83,
              "line": 177
            }
          }
        },
        {
          "id": "462",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "statusReason": "Error: expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\nExpected number of calls: 1\nReceived number of calls: 2\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/tests/unit/modules/welcome/welcome.service.spec.ts:325:51)",
          "status": "Killed",
          "testsCompleted": 3,
          "static": false,
          "killedBy": [
            "20"
          ],
          "coveredBy": [
            "17",
            "19",
            "20"
          ],
          "location": {
            "end": {
              "column": 50,
              "line": 178
            },
            "start": {
              "column": 9,
              "line": 178
            }
          }
        },
        {
          "id": "463",
          "mutatorName": "ConditionalExpression",
          "replacement": "false",
          "statusReason": "Error: expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\nExpected number of calls: 1\nReceived number of calls: 0\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/tests/unit/modules/welcome/welcome.service.spec.ts:318:51)",
          "status": "Killed",
          "testsCompleted": 3,
          "static": false,
          "killedBy": [
            "19"
          ],
          "coveredBy": [
            "17",
            "19",
            "20"
          ],
          "location": {
            "end": {
              "column": 50,
              "line": 178
            },
            "start": {
              "column": 9,
              "line": 178
            }
          }
        },
        {
          "id": "464",
          "mutatorName": "EqualityOperator",
          "replacement": "step.completionEmailManager === undefined",
          "statusReason": "Error: expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\nExpected number of calls: 1\nReceived number of calls: 0\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/tests/unit/modules/welcome/welcome.service.spec.ts:318:51)",
          "status": "Killed",
          "testsCompleted": 3,
          "static": false,
          "killedBy": [
            "19"
          ],
          "coveredBy": [
            "17",
            "19",
            "20"
          ],
          "location": {
            "end": {
              "column": 50,
              "line": 178
            },
            "start": {
              "column": 9,
              "line": 178
            }
          }
        },
        {
          "id": "465",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "Error: expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\nExpected number of calls: 1\nReceived number of calls: 0\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/tests/unit/modules/welcome/welcome.service.spec.ts:318:51)",
          "status": "Killed",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [
            "19"
          ],
          "coveredBy": [
            "17",
            "19"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 180
            },
            "start": {
              "column": 52,
              "line": 178
            }
          }
        },
        {
          "id": "466",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "statusReason": "Error: expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\nExpected number of calls: 1\nReceived number of calls: 2\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/tests/unit/modules/welcome/welcome.service.spec.ts:318:51)",
          "status": "Killed",
          "testsCompleted": 3,
          "static": false,
          "killedBy": [
            "19"
          ],
          "coveredBy": [
            "17",
            "19",
            "20"
          ],
          "location": {
            "end": {
              "column": 43,
              "line": 182
            },
            "start": {
              "column": 9,
              "line": 182
            }
          }
        },
        {
          "id": "467",
          "mutatorName": "ConditionalExpression",
          "replacement": "false",
          "statusReason": "Error: expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\nExpected number of calls: 1\nReceived number of calls: 0\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/tests/unit/modules/welcome/welcome.service.spec.ts:325:51)",
          "status": "Killed",
          "testsCompleted": 3,
          "static": false,
          "killedBy": [
            "20"
          ],
          "coveredBy": [
            "17",
            "19",
            "20"
          ],
          "location": {
            "end": {
              "column": 43,
              "line": 182
            },
            "start": {
              "column": 9,
              "line": 182
            }
          }
        },
        {
          "id": "468",
          "mutatorName": "EqualityOperator",
          "replacement": "step.completionEmail === undefined",
          "statusReason": "Error: expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\nExpected number of calls: 1\nReceived number of calls: 2\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/tests/unit/modules/welcome/welcome.service.spec.ts:318:51)",
          "status": "Killed",
          "testsCompleted": 3,
          "static": false,
          "killedBy": [
            "19"
          ],
          "coveredBy": [
            "17",
            "19",
            "20"
          ],
          "location": {
            "end": {
              "column": 43,
              "line": 182
            },
            "start": {
              "column": 9,
              "line": 182
            }
          }
        },
        {
          "id": "469",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "Error: expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\nExpected number of calls: 1\nReceived number of calls: 0\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8038971/tests/unit/modules/welcome/welcome.service.spec.ts:325:51)",
          "status": "Killed",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [
            "20"
          ],
          "coveredBy": [
            "20"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 184
            },
            "start": {
              "column": 45,
              "line": 182
            }
          }
        },
        {
          "id": "470",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/welcome/welcome.service.ts(187,61): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "0",
            "2",
            "5"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 206
            },
            "start": {
              "column": 82,
              "line": 187
            }
          }
        },
        {
          "id": "471",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "Survived",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "0",
            "5"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 203
            },
            "start": {
              "column": 66,
              "line": 195
            }
          }
        },
        {
          "id": "472",
          "mutatorName": "ArrowFunction",
          "replacement": "() => undefined",
          "status": "Survived",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "0",
            "5"
          ],
          "location": {
            "end": {
              "column": 9,
              "line": 200
            },
            "start": {
              "column": 24,
              "line": 196
            }
          }
        },
        {
          "id": "473",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "Survived",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "0",
            "5"
          ],
          "location": {
            "end": {
              "column": 8,
              "line": 200
            },
            "start": {
              "column": 30,
              "line": 196
            }
          }
        }
      ],
      "source": "import { Step } from \"@modules/step/entities/step.entity\";\nimport { toISO8601Format } from \"@src/helpers/date.helpers\";\nimport { Injectable, InternalServerErrorException, Logger } from \"@nestjs/common\";\nimport { CreateUserDto } from \"@modules/welcome/dto/input/create-user.dto\";\nimport { UpdateUserDto } from \"@modules/welcome/dto/input/update-user.dto\";\nimport { FirestoreService } from \"@src/services/firestore/firestore.service\";\nimport { FIRESTORE_COLLECTIONS } from \"@src/configs/types/Firestore.types\";\nimport { Filter, Timestamp } from \"@google-cloud/firestore\";\nimport { WelcomeUser } from \"@modules/welcome/entities/user.entity\";\nimport { UserStep } from \"@modules/welcome/entities/user-step.entity\";\nimport { instanceToPlain } from \"class-transformer\";\nimport { StepService } from \"@modules/step/step.service\";\nimport { MailService } from \"@src/services/mail/mail.service\";\nimport { GipService } from \"@src/services/gip/gip.service\";\nimport crypto from \"crypto\";\n\n@Injectable()\nexport class WelcomeService {\n  public constructor(\n    private readonly firestoreService: FirestoreService,\n    private readonly gipService: GipService,\n    private readonly stepService: StepService,\n    private readonly mailService: MailService,\n    private readonly logger: Logger,\n  ) {\n  }\n\n  /**\n   * get all of the newly unlocked steps.\n   * @param user - The user to check\n   * @param now - The actual date\n   * @returns The list of unlocked steps\n   */\n  private static getNewlyUnlockedSteps(user: WelcomeUser, now: Date): WelcomeUser[\"steps\"][0][\"_id\"][] {\n    return user.steps !== undefined ? user.steps.reduce<string[]>((acc, step) => {\n      if (step.unlockEmailSentAt === undefined && step.unlockDate.toDate() <= now) {\n        acc.push(step._id);\n      }\n      return acc;\n    }, []) : [];\n  }\n\n  private static generatePassword(length = 12, characters = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789?.:/!@\"): string {\n    return Array.from(crypto.randomFillSync(new Uint32Array(length)))\n      .map(x => characters[x % characters.length])\n      .join(\"\");\n  }\n\n  public async createUser(createUserDto: CreateUserDto): Promise<WelcomeUser> {\n    const password = WelcomeService.generatePassword();\n\n    try {\n      await this.mailService.inviteNewUserMail(createUserDto, password);\n    } catch (error) {\n      this.logger.error(error);\n      throw new InternalServerErrorException();\n    }\n\n    const gip = await this.gipService.createUser({ email: createUserDto.email, password, displayName: `${createUserDto.firstName} ${createUserDto.lastName}` });\n\n    return this.createDbUser(Object.assign(createUserDto, { _id: gip.uid }));\n  }\n\n  public async findAll(arrivalDateStart?: Date, arrivalDateEnd?: Date): Promise<WelcomeUser[]> {\n    const filters: Filter[] = [];\n    if (arrivalDateStart !== undefined) {\n      filters.push(Filter.where(\"arrivalDate\", \">=\", toISO8601Format(arrivalDateStart)));\n    }\n    if (arrivalDateEnd !== undefined) {\n      filters.push(Filter.where(\"arrivalDate\", \"<\", toISO8601Format(arrivalDateEnd)));\n    }\n    return this.firestoreService.getAllDocuments<WelcomeUser>(FIRESTORE_COLLECTIONS.WELCOME_USERS, Filter.and(...filters));\n  }\n\n  public async findOne(id: string): Promise<WelcomeUser> {\n    return this.firestoreService.getDocument<WelcomeUser>(FIRESTORE_COLLECTIONS.WELCOME_USERS, id);\n  }\n\n  public async remove(id: string): Promise<void> {\n    await this.findOne(id);\n    await this.firestoreService.deleteDocument(FIRESTORE_COLLECTIONS.WELCOME_USERS, id);\n    await this.gipService.deleteUser(id);\n  }\n\n  public async update(id: string, updateUserDto: UpdateUserDto): Promise<WelcomeUser> {\n    const userToUpdate = Object.assign(instanceToPlain(updateUserDto), { lastUpdate: Timestamp.now() });\n    await this.firestoreService.updateDocument(FIRESTORE_COLLECTIONS.WELCOME_USERS, id, userToUpdate);\n\n    return this.findOne(id);\n  }\n\n  /**\n   * launch a task that search all of the newcomers and send them an email if they have unlocked a step.\n   * If an user have multiple steps unlocked at once, we only notify him once by taking the email content of the first unlocked step.\n   * @param now - The actual date\n   * @returns List of email sent with status\n   */\n  public async run(now: Date): Promise<PromiseSettledResult<{ _id: WelcomeUser[\"_id\"] }>[]> {\n    const steps = await this.stepService.findAll();\n    const users = await this.findAll(now);\n    const userEmails = [];\n\n    this.logger.debug(`User count : ${users.length}`);\n\n    // for each User\n    users.forEach(user => {\n      // we get all the new Steps unlocked\n      const unlockedSteps = WelcomeService.getNewlyUnlockedSteps(user, now);\n      // selecting the most recent step in the list (fallback case : undefined)\n      const step = unlockedSteps[0] !== undefined ? steps.find(s => s._id === unlockedSteps[0]) : undefined;\n\n      this.logger.debug(user.firstName);\n\n      // if the Step is valid, generate a Promise for an email and for store the state in db\n      if (step?.unlockEmail !== undefined) {\n        userEmails.push(this.getStepEmailPromiseThenSaveState(user, unlockedSteps, step));\n      }\n    });\n\n    return Promise.allSettled(userEmails);\n  }\n\n  public async getStepEmailPromiseThenSaveState(user: WelcomeUser, unlockedSteps: string[], step: Step): Promise<void> {\n    await this.updateEmailSteps(user, unlockedSteps);\n    await this.mailService.sendStepMail(user, step.unlockEmail, step._id);\n  }\n\n  /**\n   * update the completion of a step for a user.\n   * @param userId - The id of the user\n   * @param stepId - The id of the step completed\n   * @param subStep - The index of the sub step completed\n   */\n  public async updateSubStep(userId: WelcomeUser[\"_id\"], stepId: Step[\"_id\"], subStep: Step[\"subSteps\"]): Promise<UserStep[]> {\n    const completedAt = Timestamp.now();\n    const user = await this.findOne(userId);\n    const step = await this.stepService.findOne(stepId);\n    const newSteps = user.steps.map(s => {\n      if (s._id !== stepId) {\n        return s;\n      }\n      return {\n        ...s,\n        subStepsCompleted: subStep,\n      };\n    });\n    const isStepCompleted = newSteps.find(s => s._id === stepId).subStepsCompleted === step.subSteps;\n    if (isStepCompleted) {\n      newSteps.find(s => s._id === stepId).completedAt = completedAt;\n    }\n    await this.firestoreService.updateDocument(FIRESTORE_COLLECTIONS.WELCOME_USERS, user._id, { steps: newSteps });\n    try {\n      if (isStepCompleted) {\n        await this.notifyCompletedStep(user, step);\n      }\n    } catch (err) {\n      Logger.error(err);\n\n      return newSteps;\n    }\n    return newSteps;\n  }\n\n  /**\n   * update date of email sent on unlocked steps.\n   * @param user - The user to update\n   * @param unlockedSteps - The list of steps to update\n   */\n  private async updateEmailSteps(user: WelcomeUser, unlockedSteps: string[]): Promise<void> {\n    const unlockEmailSentAt = Timestamp.now();\n\n    await this.firestoreService.updateDocument(FIRESTORE_COLLECTIONS.WELCOME_USERS, user._id, {\n      steps: user.steps.map(step => (unlockedSteps.includes(step._id) ? { ...step, unlockEmailSentAt } : step)),\n    });\n  }\n\n  private async notifyCompletedStep(user: WelcomeUser, step: Step): Promise<void> {\n    if (step.completionEmailManager !== undefined) {\n      await this.mailService.sendStepMail(user, step.completionEmailManager, step._id);\n    }\n\n    if (step.completionEmail !== undefined) {\n      await this.mailService.sendStepMail(user, step.completionEmail, step._id);\n    }\n  }\n\n  private async createDbUser(createUserDto: CreateUserDto): Promise<WelcomeUser> {\n    const now = Timestamp.now();\n\n    const steps = await this.stepService.generateSteps(\n      new Date(createUserDto.signupDate),\n      new Date(createUserDto.arrivalDate),\n    );\n\n    const dbUser = Object.assign(instanceToPlain(createUserDto), {\n      steps: steps.map(s => ({\n        _id: s.step._id,\n        unlockDate: Timestamp.fromDate(s.dt),\n        subStepsCompleted: 0,\n      })),\n      creationDate: now,\n      lastUpdate: now,\n    });\n\n    return this.firestoreService.saveDocument(FIRESTORE_COLLECTIONS.WELCOME_USERS, dbUser);\n  }\n}"
    },
    "src/services/cognito/cognito.service.ts": {
      "language": "typescript",
      "mutants": [
        {
          "id": "474",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "Error: Cannot use spyOn on a primitive value; undefined given\n    at ModuleMocker.spyOn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-mock/build/index.js:719:13)\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/services/cognito.service.spec.ts:34:12)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [
            "244"
          ],
          "coveredBy": [
            "244",
            "245"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 30
            },
            "start": {
              "column": 69,
              "line": 19
            }
          }
        },
        {
          "id": "475",
          "mutatorName": "StringLiteral",
          "replacement": "``",
          "status": "Survived",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "244",
            "245"
          ],
          "location": {
            "end": {
              "column": 151,
              "line": 20
            },
            "start": {
              "column": 22,
              "line": 20
            }
          }
        },
        {
          "id": "476",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "Survived",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "244",
            "245"
          ],
          "location": {
            "end": {
              "column": 84,
              "line": 20
            },
            "start": {
              "column": 68,
              "line": 20
            }
          }
        },
        {
          "id": "477",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "Survived",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "244",
            "245"
          ],
          "location": {
            "end": {
              "column": 148,
              "line": 20
            },
            "start": {
              "column": 126,
              "line": 20
            }
          }
        },
        {
          "id": "478",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "Error: Cannot use spyOn on a primitive value; undefined given\n    at ModuleMocker.spyOn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-mock/build/index.js:719:13)\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/services/cognito.service.spec.ts:34:12)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [
            "244"
          ],
          "coveredBy": [
            "244",
            "245"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 27
            },
            "start": {
              "column": 9,
              "line": 21
            }
          }
        },
        {
          "id": "479",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "src/services/cognito/cognito.service.ts(22,49): error TS2769: No overload matches this call.\n  Overload 1 of 2, '(verifyProperties: { userPoolId: string; tokenUse: \"access\"; clientId: string | string[]; } & Partial<CognitoJwtVerifierProperties>, additionalProperties?: { ...; }): CognitoJwtVerifierSingleUserPool<...>', gave the following error.\n    Argument of type '{}' is not assignable to parameter of type '{ userPoolId: string; tokenUse: \"access\"; clientId: string | string[]; } & Partial<CognitoJwtVerifierProperties>'.\n      Type '{}' is missing the following properties from type '{ userPoolId: string; tokenUse: \"access\"; clientId: string | string[]; }': userPoolId, tokenUse, clientId\n  Overload 2 of 2, '(props: ({ userPoolId: string; tokenUse: \"access\"; clientId: string | string[]; } & Partial<CognitoJwtVerifierMultiProperties>)[], additionalProperties?: { ...; }): CognitoJwtVerifierMultiUserPool<...>', gave the following error.\n    Argument of type '{}' is not assignable to parameter of type '({ userPoolId: string; tokenUse: \"access\"; clientId: string | string[]; } & Partial<CognitoJwtVerifierMultiProperties>)[]'.\n      Type '{}' is missing the following properties from type '({ userPoolId: string; tokenUse: \"access\"; clientId: string | string[]; } & Partial<CognitoJwtVerifierMultiProperties>)[]': length, pop, push, concat, and 35 more.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "244",
            "245"
          ],
          "location": {
            "end": {
              "column": 8,
              "line": 26
            },
            "start": {
              "column": 49,
              "line": 22
            }
          }
        },
        {
          "id": "480",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "Survived",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "244",
            "245"
          ],
          "location": {
            "end": {
              "column": 66,
              "line": 23
            },
            "start": {
              "column": 44,
              "line": 23
            }
          }
        },
        {
          "id": "481",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "statusReason": "src/services/cognito/cognito.service.ts(22,7): error TS2322: Type 'CognitoJwtVerifierSingleUserPool<CognitoJwtVerifierProperties>' is not assignable to type 'Verifier'.\n  The types returned by 'getIssuerConfig(...)' are incompatible between these types.\n    Type '{ userPoolId: string; } & Partial<CognitoVerifyProperties> & { jwksUri?: string; issuer: string; } & { userPoolId: string; audience: null; } & { jwksUri: string; }' is not assignable to type '{ userPoolId: string; tokenUse: \"access\"; clientId: string | string[]; } & { jwksUri?: string; issuer: string; } & Partial<CognitoVerifyProperties> & { ...; } & { ...; }'.\n      Type '{ userPoolId: string; } & Partial<CognitoVerifyProperties> & { jwksUri?: string; issuer: string; } & { userPoolId: string; audience: null; } & { jwksUri: string; }' is not assignable to type '{ userPoolId: string; tokenUse: \"access\"; clientId: string | string[]; }'.\n        Types of property 'tokenUse' are incompatible.\n          Type '\"access\" | \"id\"' is not assignable to type '\"access\"'.\n            Type '\"id\"' is not assignable to type '\"access\"'.\nsrc/services/cognito/cognito.service.ts(22,42): error TS2769: No overload matches this call.\n  Overload 1 of 2, '(verifyProperties: { userPoolId: string; } & Partial<CognitoVerifyProperties> & Partial<CognitoJwtVerifierProperties>, additionalProperties?: { ...; }): CognitoJwtVerifierSingleUserPool<...>', gave the following error.\n    Type '\"\"' is not assignable to type '\"access\" | \"id\"'.\n  Overload 2 of 2, '(props: ({ userPoolId: string; tokenUse: \"access\"; clientId: string | string[]; } & Partial<CognitoJwtVerifierMultiProperties>)[], additionalProperties?: { ...; }): CognitoJwtVerifierMultiUserPool<...>', gave the following error.\n    Object literal may only specify known properties, and 'userPoolId' does not exist in type '({ userPoolId: string; tokenUse: \"access\"; clientId: string | string[]; } & Partial<CognitoJwtVerifierMultiProperties>)[]'.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "244",
            "245"
          ],
          "location": {
            "end": {
              "column": 27,
              "line": 24
            },
            "start": {
              "column": 19,
              "line": 24
            }
          }
        },
        {
          "id": "482",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "Survived",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "244",
            "245"
          ],
          "location": {
            "end": {
              "column": 61,
              "line": 25
            },
            "start": {
              "column": 42,
              "line": 25
            }
          }
        },
        {
          "id": "483",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "NoCoverage",
          "static": false,
          "killedBy": [],
          "coveredBy": [],
          "location": {
            "end": {
              "column": 6,
              "line": 29
            },
            "start": {
              "column": 21,
              "line": 27
            }
          }
        },
        {
          "id": "484",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/services/cognito/cognito.service.ts(32,46): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "244",
            "245"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 38
            },
            "start": {
              "column": 86,
              "line": 32
            }
          }
        },
        {
          "id": "485",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/services/cognito/cognito.service.ts(32,46): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "244",
            "245"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 35
            },
            "start": {
              "column": 9,
              "line": 33
            }
          }
        },
        {
          "id": "486",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "Error: expect(received).not.toBeInstanceOf(expected)\n\nExpected constructor: not NoErrorThrownError\n\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/services/cognito.service.spec.ts:42:25)",
          "status": "Killed",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [
            "245"
          ],
          "coveredBy": [
            "245"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 37
            },
            "start": {
              "column": 21,
              "line": 35
            }
          }
        }
      ],
      "source": "import { Global, Injectable, InternalServerErrorException, UnauthorizedException } from \"@nestjs/common\";\nimport { ConfigService } from \"@nestjs/config\";\nimport { CognitoJwtVerifierSingleUserPool } from \"aws-jwt-verify/cognito-verifier\";\nimport { CognitoJwtVerifier } from \"aws-jwt-verify\";\n\ntype Verifier = CognitoJwtVerifierSingleUserPool<{\n  userPoolId: string;\n  tokenUse: \"access\";\n  clientId: string | string[];\n}>;\n\n@Injectable()\n@Global()\nexport class CognitoService {\n  public readonly issuerUrl: string;\n\n  private readonly verifier: Verifier;\n\n  public constructor(private readonly configService: ConfigService) {\n    this.issuerUrl = `https://cognito-idp.${this.configService.get(\"COGNITO_REGION\")}.amazonaws.com/${this.configService.get(\"COGNITO_USER_POOL_ID\")}`;\n    try {\n      this.verifier = CognitoJwtVerifier.create({\n        userPoolId: this.configService.get(\"COGNITO_USER_POOL_ID\"),\n        tokenUse: \"access\",\n        clientId: this.configService.get(\"COGNITO_CLIENT_ID\"),\n      });\n    } catch (error) {\n      throw new InternalServerErrorException(error);\n    }\n  }\n\n  public async verifyIdToken(token: string): Promise<ReturnType<Verifier[\"verify\"]>> {\n    try {\n      return await this.verifier.verify(token);\n    } catch (error) {\n      throw new UnauthorizedException(error);\n    }\n  }\n}"
    },
    "src/services/firestore/firestore.service.ts": {
      "language": "typescript",
      "mutants": [
        {
          "id": "487",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/services/firestore/firestore.service.ts(22,6): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "34"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 24
            },
            "start": {
              "column": 24,
              "line": 22
            }
          }
        },
        {
          "id": "488",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/services/firestore/firestore.service.ts(30,6): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "35",
            "36",
            "37"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 47
            },
            "start": {
              "column": 19,
              "line": 30
            }
          }
        },
        {
          "id": "489",
          "mutatorName": "ArrayDeclaration",
          "replacement": "[\"Stryker was here\"]",
          "statusReason": "src/services/firestore/firestore.service.ts(31,29): error TS2322: Type 'string' is not assignable to type 'T'.\n  'T' could be instantiated with an arbitrary type which could be unrelated to 'string'.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "35",
            "36",
            "37"
          ],
          "location": {
            "end": {
              "column": 30,
              "line": 31
            },
            "start": {
              "column": 28,
              "line": 31
            }
          }
        },
        {
          "id": "490",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/services/firestore/firestore.service.ts(30,6): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "35",
            "36",
            "37"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 43
            },
            "start": {
              "column": 9,
              "line": 32
            }
          }
        },
        {
          "id": "491",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "status": "Survived",
          "testsCompleted": 3,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "35",
            "36",
            "37"
          ],
          "location": {
            "end": {
              "column": 49,
              "line": 34
            },
            "start": {
              "column": 29,
              "line": 34
            }
          }
        },
        {
          "id": "492",
          "mutatorName": "ConditionalExpression",
          "replacement": "false",
          "status": "Survived",
          "testsCompleted": 3,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "35",
            "36",
            "37"
          ],
          "location": {
            "end": {
              "column": 49,
              "line": 34
            },
            "start": {
              "column": 29,
              "line": 34
            }
          }
        },
        {
          "id": "493",
          "mutatorName": "EqualityOperator",
          "replacement": "filter === undefined",
          "status": "Survived",
          "testsCompleted": 3,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "35",
            "36",
            "37"
          ],
          "location": {
            "end": {
              "column": 49,
              "line": 34
            },
            "start": {
              "column": 29,
              "line": 34
            }
          }
        },
        {
          "id": "494",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "Error: expect(received).toStrictEqual(expected) // deep equality\n\n- Expected  - 10\n+ Received  +  1\n\n- Array [\n-   Object {\n-     \"_id\": \"1\",\n-     \"test\": \"a\",\n-   },\n-   Object {\n-     \"_id\": \"2\",\n-     \"test\": \"b\",\n-   },\n- ]\n+ Array []\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/services/firestore.service.spec.ts:86:31)",
          "status": "Killed",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [
            "35"
          ],
          "coveredBy": [
            "35",
            "36"
          ],
          "location": {
            "end": {
              "column": 8,
              "line": 40
            },
            "start": {
              "column": 40,
              "line": 36
            }
          }
        },
        {
          "id": "495",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "src/services/firestore/firestore.service.ts(37,24): error TS2345: Argument of type '{}' is not assignable to parameter of type 'T'.\n  '{}' is assignable to the constraint of type 'T', but 'T' could be instantiated with a different subtype of constraint 'FirestoreDocumentType'.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "35",
            "36"
          ],
          "location": {
            "end": {
              "column": 10,
              "line": 39
            },
            "start": {
              "column": 24,
              "line": 37
            }
          }
        },
        {
          "id": "496",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "Error: expect(received).not.toBeInstanceOf(expected)\n\nExpected constructor: not NoErrorThrownError\n\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/services/firestore.service.spec.ts:97:25)",
          "status": "Killed",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [
            "37"
          ],
          "coveredBy": [
            "37"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 46
            },
            "start": {
              "column": 21,
              "line": 43
            }
          }
        },
        {
          "id": "497",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/services/firestore/firestore.service.ts(53,6): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "38",
            "39",
            "40",
            "41",
            "42",
            "45"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 67
            },
            "start": {
              "column": 17,
              "line": 53
            }
          }
        },
        {
          "id": "498",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/services/firestore/firestore.service.ts(53,6): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "38",
            "39",
            "40",
            "41",
            "42",
            "45"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 60
            },
            "start": {
              "column": 9,
              "line": 54
            }
          }
        },
        {
          "id": "499",
          "mutatorName": "BooleanLiteral",
          "replacement": "documentSnapshot.exists",
          "statusReason": "NotFoundException: Document not found in DB\n    at FirestoreService.getDocument (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/src/services/firestore/firestore.service.ts:115:21)\n    at async Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/services/firestore.service.spec.ts:104:27)",
          "status": "Killed",
          "testsCompleted": 5,
          "static": false,
          "killedBy": [
            "38"
          ],
          "coveredBy": [
            "38",
            "39",
            "41",
            "42",
            "45"
          ],
          "location": {
            "end": {
              "column": 35,
              "line": 56
            },
            "start": {
              "column": 11,
              "line": 56
            }
          }
        },
        {
          "id": "500",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "statusReason": "NotFoundException: Document not found in DB\n    at FirestoreService.getDocument (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/src/services/firestore/firestore.service.ts:115:21)\n    at async Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/services/firestore.service.spec.ts:104:27)",
          "status": "Killed",
          "testsCompleted": 5,
          "static": false,
          "killedBy": [
            "38"
          ],
          "coveredBy": [
            "38",
            "39",
            "41",
            "42",
            "45"
          ],
          "location": {
            "end": {
              "column": 35,
              "line": 56
            },
            "start": {
              "column": 11,
              "line": 56
            }
          }
        },
        {
          "id": "501",
          "mutatorName": "ConditionalExpression",
          "replacement": "false",
          "statusReason": "Error: expect(received).toBeInstanceOf(expected)\n\nExpected constructor: NotFoundException\nReceived constructor: InternalServerErrorException\n\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/services/firestore.service.spec.ts:112:21)",
          "status": "Killed",
          "testsCompleted": 5,
          "static": false,
          "killedBy": [
            "39"
          ],
          "coveredBy": [
            "38",
            "39",
            "41",
            "42",
            "45"
          ],
          "location": {
            "end": {
              "column": 35,
              "line": 56
            },
            "start": {
              "column": 11,
              "line": 56
            }
          }
        },
        {
          "id": "502",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "Error: expect(received).toBeInstanceOf(expected)\n\nExpected constructor: NotFoundException\nReceived constructor: InternalServerErrorException\n\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/services/firestore.service.spec.ts:112:21)",
          "status": "Killed",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [
            "39"
          ],
          "coveredBy": [
            "39"
          ],
          "location": {
            "end": {
              "column": 8,
              "line": 58
            },
            "start": {
              "column": 37,
              "line": 56
            }
          }
        },
        {
          "id": "503",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "Survived",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "39"
          ],
          "location": {
            "end": {
              "column": 63,
              "line": 57
            },
            "start": {
              "column": 37,
              "line": 57
            }
          }
        },
        {
          "id": "504",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "Error: expect(received).not.toBeInstanceOf(expected)\n\nExpected constructor: not NoErrorThrownError\n\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/services/firestore.service.spec.ts:111:25)",
          "status": "Killed",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [
            "39"
          ],
          "coveredBy": [
            "39",
            "40"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 66
            },
            "start": {
              "column": 21,
              "line": 60
            }
          }
        },
        {
          "id": "505",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "status": "Survived",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "39",
            "40"
          ],
          "location": {
            "end": {
              "column": 45,
              "line": 61
            },
            "start": {
              "column": 11,
              "line": 61
            }
          }
        },
        {
          "id": "506",
          "mutatorName": "ConditionalExpression",
          "replacement": "false",
          "statusReason": "Error: expect(received).toBeInstanceOf(expected)\n\nExpected constructor: NotFoundException\nReceived constructor: InternalServerErrorException\n\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/services/firestore.service.spec.ts:112:21)",
          "status": "Killed",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [
            "39"
          ],
          "coveredBy": [
            "39",
            "40"
          ],
          "location": {
            "end": {
              "column": 45,
              "line": 61
            },
            "start": {
              "column": 11,
              "line": 61
            }
          }
        },
        {
          "id": "507",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "Error: expect(received).toBeInstanceOf(expected)\n\nExpected constructor: NotFoundException\nReceived constructor: InternalServerErrorException\n\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/services/firestore.service.spec.ts:112:21)",
          "status": "Killed",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [
            "39"
          ],
          "coveredBy": [
            "39"
          ],
          "location": {
            "end": {
              "column": 8,
              "line": 63
            },
            "start": {
              "column": 47,
              "line": 61
            }
          }
        },
        {
          "id": "508",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/services/firestore/firestore.service.ts(73,6): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "41",
            "42",
            "43",
            "44"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 91
            },
            "start": {
              "column": 17,
              "line": 73
            }
          }
        },
        {
          "id": "509",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/services/firestore/firestore.service.ts(73,6): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "41",
            "42",
            "43",
            "44"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 82
            },
            "start": {
              "column": 9,
              "line": 74
            }
          }
        },
        {
          "id": "510",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "statusReason": "src/services/firestore/firestore.service.ts(76,76): error TS2345: Argument of type 'unknown' is not assignable to parameter of type 'string'.\nsrc/services/firestore/firestore.service.ts(81,49): error TS2345: Argument of type 'unknown' is not assignable to parameter of type 'string'.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "41",
            "42",
            "43",
            "44"
          ],
          "location": {
            "end": {
              "column": 44,
              "line": 75
            },
            "start": {
              "column": 16,
              "line": 75
            }
          }
        },
        {
          "id": "511",
          "mutatorName": "ConditionalExpression",
          "replacement": "false",
          "statusReason": "src/services/firestore/firestore.service.ts(76,76): error TS2345: Argument of type 'unknown' is not assignable to parameter of type 'string'.\nsrc/services/firestore/firestore.service.ts(81,49): error TS2345: Argument of type 'unknown' is not assignable to parameter of type 'string'.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "41",
            "42",
            "43",
            "44"
          ],
          "location": {
            "end": {
              "column": 44,
              "line": 75
            },
            "start": {
              "column": 16,
              "line": 75
            }
          }
        },
        {
          "id": "512",
          "mutatorName": "EqualityOperator",
          "replacement": "typeof data._id !== \"string\"",
          "statusReason": "src/services/firestore/firestore.service.ts(76,76): error TS2345: Argument of type 'unknown' is not assignable to parameter of type 'string'.\nsrc/services/firestore/firestore.service.ts(81,49): error TS2345: Argument of type 'unknown' is not assignable to parameter of type 'string'.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "41",
            "42",
            "43",
            "44"
          ],
          "location": {
            "end": {
              "column": 44,
              "line": 75
            },
            "start": {
              "column": 16,
              "line": 75
            }
          }
        },
        {
          "id": "513",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "statusReason": "src/services/firestore/firestore.service.ts(75,16): error TS2367: This comparison appears to be unintentional because the types '\"string\" | \"number\" | \"bigint\" | \"boolean\" | \"symbol\" | \"undefined\" | \"object\" | \"function\"' and '\"\"' have no overlap.\nsrc/services/firestore/firestore.service.ts(76,76): error TS2345: Argument of type 'string | object' is not assignable to parameter of type 'string'.\n  Type 'object' is not assignable to type 'string'.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "41",
            "42",
            "43",
            "44"
          ],
          "location": {
            "end": {
              "column": 44,
              "line": 75
            },
            "start": {
              "column": 36,
              "line": 75
            }
          }
        },
        {
          "id": "514",
          "mutatorName": "StringLiteral",
          "replacement": "\"Stryker was here!\"",
          "status": "Survived",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "42"
          ],
          "location": {
            "end": {
              "column": 60,
              "line": 75
            },
            "start": {
              "column": 58,
              "line": 75
            }
          }
        },
        {
          "id": "515",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "status": "Survived",
          "testsCompleted": 4,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "41",
            "42",
            "43",
            "44"
          ],
          "location": {
            "end": {
              "column": 36,
              "line": 76
            },
            "start": {
              "column": 27,
              "line": 76
            }
          }
        },
        {
          "id": "516",
          "mutatorName": "ConditionalExpression",
          "replacement": "false",
          "status": "Survived",
          "testsCompleted": 4,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "41",
            "42",
            "43",
            "44"
          ],
          "location": {
            "end": {
              "column": 36,
              "line": 76
            },
            "start": {
              "column": 27,
              "line": 76
            }
          }
        },
        {
          "id": "517",
          "mutatorName": "EqualityOperator",
          "replacement": "id === \"\"",
          "status": "Survived",
          "testsCompleted": 4,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "41",
            "42",
            "43",
            "44"
          ],
          "location": {
            "end": {
              "column": 36,
              "line": 76
            },
            "start": {
              "column": 27,
              "line": 76
            }
          }
        },
        {
          "id": "518",
          "mutatorName": "StringLiteral",
          "replacement": "\"Stryker was here!\"",
          "status": "Survived",
          "testsCompleted": 4,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "41",
            "42",
            "43",
            "44"
          ],
          "location": {
            "end": {
              "column": 36,
              "line": 76
            },
            "start": {
              "column": 34,
              "line": 76
            }
          }
        },
        {
          "id": "519",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "Survived",
          "testsCompleted": 4,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "41",
            "42",
            "43",
            "44"
          ],
          "location": {
            "end": {
              "column": 52,
              "line": 78
            },
            "start": {
              "column": 32,
              "line": 78
            }
          }
        },
        {
          "id": "520",
          "mutatorName": "StringLiteral",
          "replacement": "``",
          "status": "Survived",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "41",
            "42"
          ],
          "location": {
            "end": {
              "column": 74,
              "line": 79
            },
            "start": {
              "column": 23,
              "line": 79
            }
          }
        },
        {
          "id": "521",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "Error: expect(received).not.toBeInstanceOf(expected)\n\nExpected constructor: not NoErrorThrownError\n\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/services/firestore.service.spec.ts:137:25)",
          "status": "Killed",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [
            "43"
          ],
          "coveredBy": [
            "43",
            "44"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 90
            },
            "start": {
              "column": 21,
              "line": 82
            }
          }
        },
        {
          "id": "522",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "status": "Survived",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "43",
            "44"
          ],
          "location": {
            "end": {
              "column": 33,
              "line": 83
            },
            "start": {
              "column": 11,
              "line": 83
            }
          }
        },
        {
          "id": "523",
          "mutatorName": "ConditionalExpression",
          "replacement": "false",
          "statusReason": "Error: expect(received).toBeInstanceOf(expected)\n\nExpected constructor: ConflictException\nReceived constructor: InternalServerErrorException\n\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/services/firestore.service.spec.ts:138:21)",
          "status": "Killed",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [
            "43"
          ],
          "coveredBy": [
            "43",
            "44"
          ],
          "location": {
            "end": {
              "column": 33,
              "line": 83
            },
            "start": {
              "column": 11,
              "line": 83
            }
          }
        },
        {
          "id": "524",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "Error: expect(received).toBeInstanceOf(expected)\n\nExpected constructor: ConflictException\nReceived constructor: InternalServerErrorException\n\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/services/firestore.service.spec.ts:138:21)",
          "status": "Killed",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [
            "43"
          ],
          "coveredBy": [
            "43",
            "44"
          ],
          "location": {
            "end": {
              "column": 8,
              "line": 87
            },
            "start": {
              "column": 35,
              "line": 83
            }
          }
        },
        {
          "id": "525",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "statusReason": "Error: expect(received).toBeInstanceOf(expected)\n\nExpected constructor: InternalServerErrorException\nReceived constructor: ConflictException\n\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/services/firestore.service.spec.ts:145:21)",
          "status": "Killed",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [
            "44"
          ],
          "coveredBy": [
            "43",
            "44"
          ],
          "location": {
            "end": {
              "column": 80,
              "line": 84
            },
            "start": {
              "column": 13,
              "line": 84
            }
          }
        },
        {
          "id": "526",
          "mutatorName": "ConditionalExpression",
          "replacement": "false",
          "statusReason": "Error: expect(received).toBeInstanceOf(expected)\n\nExpected constructor: ConflictException\nReceived constructor: InternalServerErrorException\n\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/services/firestore.service.spec.ts:138:21)",
          "status": "Killed",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [
            "43"
          ],
          "coveredBy": [
            "43",
            "44"
          ],
          "location": {
            "end": {
              "column": 80,
              "line": 84
            },
            "start": {
              "column": 13,
              "line": 84
            }
          }
        },
        {
          "id": "527",
          "mutatorName": "LogicalOperator",
          "replacement": "\"code\" in error || error.code === FirestoreErrorCode.ALREADY_EXISTS",
          "statusReason": "src/services/firestore/firestore.service.ts(84,38): error TS2339: Property 'code' does not exist on type 'Error'.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "43",
            "44"
          ],
          "location": {
            "end": {
              "column": 80,
              "line": 84
            },
            "start": {
              "column": 13,
              "line": 84
            }
          }
        },
        {
          "id": "528",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "statusReason": "src/services/firestore/firestore.service.ts(84,34): error TS2339: Property 'code' does not exist on type 'Error & Record<\"\", unknown>'.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "43",
            "44"
          ],
          "location": {
            "end": {
              "column": 19,
              "line": 84
            },
            "start": {
              "column": 13,
              "line": 84
            }
          }
        },
        {
          "id": "529",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "status": "Survived",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "43"
          ],
          "location": {
            "end": {
              "column": 80,
              "line": 84
            },
            "start": {
              "column": 32,
              "line": 84
            }
          }
        },
        {
          "id": "530",
          "mutatorName": "EqualityOperator",
          "replacement": "error.code !== FirestoreErrorCode.ALREADY_EXISTS",
          "statusReason": "Error: expect(received).toBeInstanceOf(expected)\n\nExpected constructor: ConflictException\nReceived constructor: InternalServerErrorException\n\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/services/firestore.service.spec.ts:138:21)",
          "status": "Killed",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [
            "43"
          ],
          "coveredBy": [
            "43"
          ],
          "location": {
            "end": {
              "column": 80,
              "line": 84
            },
            "start": {
              "column": 32,
              "line": 84
            }
          }
        },
        {
          "id": "531",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "Error: expect(received).toBeInstanceOf(expected)\n\nExpected constructor: ConflictException\nReceived constructor: InternalServerErrorException\n\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/services/firestore.service.spec.ts:138:21)",
          "status": "Killed",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [
            "43"
          ],
          "coveredBy": [
            "43"
          ],
          "location": {
            "end": {
              "column": 10,
              "line": 86
            },
            "start": {
              "column": 82,
              "line": 84
            }
          }
        },
        {
          "id": "532",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "Survived",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "43"
          ],
          "location": {
            "end": {
              "column": 65,
              "line": 85
            },
            "start": {
              "column": 39,
              "line": 85
            }
          }
        },
        {
          "id": "533",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/services/firestore/firestore.service.ts(98,6): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "45",
            "46"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 110
            },
            "start": {
              "column": 17,
              "line": 98
            }
          }
        },
        {
          "id": "534",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/services/firestore/firestore.service.ts(98,6): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "45",
            "46"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 106
            },
            "start": {
              "column": 9,
              "line": 99
            }
          }
        },
        {
          "id": "535",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "Survived",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "45",
            "46"
          ],
          "location": {
            "end": {
              "column": 28,
              "line": 103
            },
            "start": {
              "column": 17,
              "line": 103
            }
          }
        },
        {
          "id": "536",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "Error: expect(received).not.toBeInstanceOf(expected)\n\nExpected constructor: not NoErrorThrownError\n\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/services/firestore.service.spec.ts:158:25)",
          "status": "Killed",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [
            "46"
          ],
          "coveredBy": [
            "46"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 109
            },
            "start": {
              "column": 21,
              "line": 106
            }
          }
        },
        {
          "id": "537",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "Error: expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\nExpected number of calls: 1\nReceived number of calls: 0\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/services/firestore.service.spec.ts:167:19)",
          "status": "Killed",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [
            "47"
          ],
          "coveredBy": [
            "47",
            "48"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 123
            },
            "start": {
              "column": 20,
              "line": 116
            }
          }
        },
        {
          "id": "538",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "Error: expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\nExpected number of calls: 1\nReceived number of calls: 0\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/services/firestore.service.spec.ts:167:19)",
          "status": "Killed",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [
            "47"
          ],
          "coveredBy": [
            "47",
            "48"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 119
            },
            "start": {
              "column": 9,
              "line": 117
            }
          }
        },
        {
          "id": "539",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "Error: expect(received).not.toBeInstanceOf(expected)\n\nExpected constructor: not NoErrorThrownError\n\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/services/firestore.service.spec.ts:173:25)",
          "status": "Killed",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [
            "48"
          ],
          "coveredBy": [
            "48"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 122
            },
            "start": {
              "column": 21,
              "line": 119
            }
          }
        },
        {
          "id": "540",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "Error: expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\nExpected number of calls: 1\nReceived number of calls: 0\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/services/firestore.service.spec.ts:182:19)",
          "status": "Killed",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [
            "49"
          ],
          "coveredBy": [
            "49",
            "50"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 132
            },
            "start": {
              "column": 71,
              "line": 125
            }
          }
        },
        {
          "id": "541",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "Error: expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\nExpected number of calls: 1\nReceived number of calls: 0\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/services/firestore.service.spec.ts:182:19)",
          "status": "Killed",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [
            "49"
          ],
          "coveredBy": [
            "49",
            "50"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 128
            },
            "start": {
              "column": 9,
              "line": 126
            }
          }
        },
        {
          "id": "542",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "Error: expect(received).not.toBeInstanceOf(expected)\n\nExpected constructor: not NoErrorThrownError\n\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/services/firestore.service.spec.ts:188:25)",
          "status": "Killed",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [
            "50"
          ],
          "coveredBy": [
            "50"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 131
            },
            "start": {
              "column": 21,
              "line": 128
            }
          }
        },
        {
          "id": "543",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "Error: expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\nExpected number of calls: 2\nReceived number of calls: 0\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/services/firestore.service.spec.ts:197:19)",
          "status": "Killed",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [
            "51"
          ],
          "coveredBy": [
            "51",
            "52"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 159
            },
            "start": {
              "column": 20,
              "line": 138
            }
          }
        },
        {
          "id": "544",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "Error: expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\nExpected number of calls: 2\nReceived number of calls: 0\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/services/firestore.service.spec.ts:197:19)",
          "status": "Killed",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [
            "51"
          ],
          "coveredBy": [
            "51",
            "52"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 155
            },
            "start": {
              "column": 9,
              "line": 139
            }
          }
        },
        {
          "id": "545",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "Survived",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "51",
            "52"
          ],
          "location": {
            "end": {
              "column": 8,
              "line": 145
            },
            "start": {
              "column": 42,
              "line": 143
            }
          }
        },
        {
          "id": "546",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "statusReason": "src/services/firestore/firestore.service.ts(144,34): error TS2345: Argument of type '\"\"' is not assignable to parameter of type 'WhereFilterOp'.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "51",
            "52"
          ],
          "location": {
            "end": {
              "column": 38,
              "line": 144
            },
            "start": {
              "column": 34,
              "line": 144
            }
          }
        },
        {
          "id": "547",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "Error: expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\nExpected number of calls: 2\nReceived number of calls: 0\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/services/firestore.service.spec.ts:197:19)",
          "status": "Killed",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [
            "51"
          ],
          "coveredBy": [
            "51"
          ],
          "location": {
            "end": {
              "column": 8,
              "line": 152
            },
            "start": {
              "column": 31,
              "line": 149
            }
          }
        },
        {
          "id": "548",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "Error: expect(received).not.toBeInstanceOf(expected)\n\nExpected constructor: not NoErrorThrownError\n\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/services/firestore.service.spec.ts:203:25)",
          "status": "Killed",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [
            "52"
          ],
          "coveredBy": [
            "52"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 158
            },
            "start": {
              "column": 21,
              "line": 155
            }
          }
        }
      ],
      "source": "import {\n  ConflictException,\n  Injectable,\n  InternalServerErrorException,\n  Logger,\n  NotFoundException,\n} from \"@nestjs/common\";\nimport { DocumentReference, Filter, Firestore, Query } from \"@google-cloud/firestore\";\nimport { FIRESTORE_COLLECTIONS, FirestoreDocumentType, FirestoreErrorCode } from \"@src/configs/types/Firestore.types\";\n\n@Injectable()\nexport class FirestoreService {\n  public constructor(\n    private readonly firestore: Firestore,\n    private readonly logger: Logger,\n  ) {}\n\n  public getDoc(\n    collection: FIRESTORE_COLLECTIONS,\n    documentId: string,\n    parentDoc: DocumentReference | Firestore = this.firestore,\n  ): DocumentReference {\n    return parentDoc.collection(collection).doc(documentId);\n  }\n\n  public async getAllDocuments<T extends FirestoreDocumentType>(\n    collection: FIRESTORE_COLLECTIONS,\n    filter?: Filter,\n    parentDoc: DocumentReference | Firestore = this.firestore,\n  ): Promise<T[]> {\n    const documents: T[] = [];\n    try {\n      const query = parentDoc.collection(collection);\n      const filteredQuery = filter !== undefined ? query.where(filter) : query;\n      const querySnapshot = await filteredQuery.get();\n      querySnapshot.forEach(docData => {\n        documents.push({\n          ...(docData.data() as T),\n        });\n      });\n\n      return documents;\n    } catch (error) {\n      this.logger.error(error);\n      throw new InternalServerErrorException();\n    }\n  }\n\n  public async getDocument<T extends FirestoreDocumentType>(\n    collection: FIRESTORE_COLLECTIONS,\n    documentId: string,\n    parentDoc: DocumentReference | Firestore = this.firestore,\n  ): Promise<T> {\n    try {\n      const documentSnapshot = await parentDoc.collection(collection).doc(documentId).get();\n      if (!documentSnapshot.exists) {\n        throw new NotFoundException(\"Document not found in DB\");\n      }\n      return documentSnapshot.data() as T;\n    } catch (error) {\n      if (error instanceof NotFoundException) {\n        throw error;\n      }\n      this.logger.error(error);\n      throw new InternalServerErrorException();\n    }\n  }\n\n  public async saveDocument<T extends FirestoreDocumentType>(\n    collection: FIRESTORE_COLLECTIONS,\n    data: Record<string, unknown>,\n    parentDoc: DocumentReference | Firestore = this.firestore,\n  ): Promise<T> {\n    try {\n      let id = typeof data._id === \"string\" ? data._id : \"\";\n      const documentRef = id !== \"\" ? parentDoc.collection(collection).doc(id) : parentDoc.collection(collection).doc();\n      id = documentRef.id;\n      await documentRef.create({ ...data, _id: id });\n      this.logger.log(`[saveDocument] - data saved to database, id:${id}`);\n\n      return await this.getDocument(collection, id, parentDoc);\n    } catch (error) {\n      if (error instanceof Error) {\n        if (\"code\" in error && error.code === FirestoreErrorCode.ALREADY_EXISTS) {\n          throw new ConflictException(\"Document already exists.\");\n        }\n      }\n      this.logger.error(error);\n      throw new InternalServerErrorException();\n    }\n  }\n\n  public async updateDocument<T extends FirestoreDocumentType>(\n    collection: FIRESTORE_COLLECTIONS,\n    documentId: string,\n    data: Record<string, unknown>,\n    parentDoc: DocumentReference | Firestore = this.firestore,\n  ): Promise<T> {\n    try {\n      await parentDoc\n        .collection(collection)\n        .doc(documentId)\n        .update({ ...data });\n\n      return await this.getDocument(collection, documentId);\n    } catch (error) {\n      this.logger.error(error);\n      throw new InternalServerErrorException();\n    }\n  }\n\n  public async deleteDocument(\n    collection: FIRESTORE_COLLECTIONS,\n    documentId: string,\n    parentDoc: DocumentReference | Firestore = this.firestore,\n  ): Promise<void> {\n    try {\n      await parentDoc.collection(collection).doc(documentId).delete();\n    } catch (error) {\n      this.logger.error(error);\n      throw new InternalServerErrorException();\n    }\n  }\n\n  public async deleteRecursive(doc: DocumentReference): Promise<void> {\n    try {\n      await this.firestore.recursiveDelete(doc);\n    } catch (error) {\n      this.logger.error(error);\n      throw new InternalServerErrorException();\n    }\n  }\n\n  public async updateManyDocuments(\n    collection: FIRESTORE_COLLECTIONS,\n    filter: Filter,\n    data: Record<string, unknown>,\n  ): Promise<void> {\n    try {\n      const collectionRef = this.firestore.collection(collection);\n\n      let query = collectionRef as Query;\n      Object.keys(filter).forEach(key => {\n        query = query.where(key, \"==\", filter[key]);\n      });\n\n      const snapshot = await query.get();\n      const batch = this.firestore.batch();\n      snapshot.forEach(doc => {\n        const docRef = collectionRef.doc(doc.id);\n        batch.update(docRef, data);\n      });\n\n      await batch.commit();\n    } catch (error) {\n      this.logger.error(error);\n      throw new InternalServerErrorException();\n    }\n  }\n}"
    },
    "src/services/gip/gip.service.ts": {
      "language": "typescript",
      "mutants": [
        {
          "id": "549",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "Survived",
          "testsCompleted": 6,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "178",
            "179",
            "180",
            "181",
            "182",
            "183"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 15
            },
            "start": {
              "column": 5,
              "line": 13
            }
          }
        },
        {
          "id": "550",
          "mutatorName": "StringLiteral",
          "replacement": "``",
          "status": "Survived",
          "testsCompleted": 6,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "178",
            "179",
            "180",
            "181",
            "182",
            "183"
          ],
          "location": {
            "end": {
              "column": 94,
              "line": 14
            },
            "start": {
              "column": 22,
              "line": 14
            }
          }
        },
        {
          "id": "551",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "Survived",
          "testsCompleted": 6,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "178",
            "179",
            "180",
            "181",
            "182",
            "183"
          ],
          "location": {
            "end": {
              "column": 91,
              "line": 14
            },
            "start": {
              "column": 79,
              "line": 14
            }
          }
        },
        {
          "id": "552",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/services/gip/gip.service.ts(17,46): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "178",
            "179"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 19
            },
            "start": {
              "column": 70,
              "line": 17
            }
          }
        },
        {
          "id": "553",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/services/gip/gip.service.ts(21,55): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "180",
            "181"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 30
            },
            "start": {
              "column": 75,
              "line": 21
            }
          }
        },
        {
          "id": "554",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/services/gip/gip.service.ts(21,55): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "180",
            "181"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 24
            },
            "start": {
              "column": 9,
              "line": 22
            }
          }
        },
        {
          "id": "555",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "Error: expect(received).not.toBeInstanceOf(expected)\n\nExpected constructor: not NoErrorThrownError\n\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/services/gip.service.spec.ts:73:25)",
          "status": "Killed",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [
            "181"
          ],
          "coveredBy": [
            "181"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 29
            },
            "start": {
              "column": 21,
              "line": 24
            }
          }
        },
        {
          "id": "556",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "status": "Survived",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "181"
          ],
          "location": {
            "end": {
              "column": 33,
              "line": 25
            },
            "start": {
              "column": 11,
              "line": 25
            }
          }
        },
        {
          "id": "557",
          "mutatorName": "ConditionalExpression",
          "replacement": "false",
          "status": "Survived",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "181"
          ],
          "location": {
            "end": {
              "column": 33,
              "line": 25
            },
            "start": {
              "column": 11,
              "line": 25
            }
          }
        },
        {
          "id": "558",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "Survived",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "181"
          ],
          "location": {
            "end": {
              "column": 8,
              "line": 27
            },
            "start": {
              "column": 35,
              "line": 25
            }
          }
        },
        {
          "id": "559",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "Error: expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\nExpected number of calls: 1\nReceived number of calls: 0\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/services/gip.service.spec.ts:82:19)",
          "status": "Killed",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [
            "182"
          ],
          "coveredBy": [
            "182",
            "183"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 41
            },
            "start": {
              "column": 55,
              "line": 32
            }
          }
        },
        {
          "id": "560",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "Error: expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\nExpected number of calls: 1\nReceived number of calls: 0\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/services/gip.service.spec.ts:82:19)",
          "status": "Killed",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [
            "182"
          ],
          "coveredBy": [
            "182",
            "183"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 35
            },
            "start": {
              "column": 9,
              "line": 33
            }
          }
        },
        {
          "id": "561",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "Error: expect(received).not.toBeInstanceOf(expected)\n\nExpected constructor: not NoErrorThrownError\n\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/services/gip.service.spec.ts:89:25)",
          "status": "Killed",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [
            "183"
          ],
          "coveredBy": [
            "183"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 40
            },
            "start": {
              "column": 21,
              "line": 35
            }
          }
        },
        {
          "id": "562",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "status": "Survived",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "183"
          ],
          "location": {
            "end": {
              "column": 33,
              "line": 36
            },
            "start": {
              "column": 11,
              "line": 36
            }
          }
        },
        {
          "id": "563",
          "mutatorName": "ConditionalExpression",
          "replacement": "false",
          "status": "Survived",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "183"
          ],
          "location": {
            "end": {
              "column": 33,
              "line": 36
            },
            "start": {
              "column": 11,
              "line": 36
            }
          }
        },
        {
          "id": "564",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "Survived",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "183"
          ],
          "location": {
            "end": {
              "column": 8,
              "line": 38
            },
            "start": {
              "column": 35,
              "line": 36
            }
          }
        }
      ],
      "source": "import { Injectable, InternalServerErrorException, Logger } from \"@nestjs/common\";\nimport { ConfigService } from \"@nestjs/config\";\nimport { DecodedIdToken, Auth, CreateRequest, UserRecord } from \"firebase-admin/auth\";\n\n@Injectable()\nexport class GipService {\n  public readonly issuerUrl: string;\n\n  public constructor(\n    private readonly auth: Auth,\n    private readonly logger: Logger,\n    private readonly configService: ConfigService,\n  ) {\n    this.issuerUrl = `https://securetoken.google.com/${this.configService.get(\"PROJECT_ID\")}`;\n  }\n\n  public async verifyIdToken(token: string): Promise<DecodedIdToken> {\n    return this.auth.verifyIdToken(token);\n  }\n\n  public async createUser(properties: CreateRequest): Promise<UserRecord> {\n    try {\n      return await this.auth.createUser(properties);\n    } catch (error) {\n      if (error instanceof Error) {\n        this.logger.error(error.message);\n      }\n      throw new InternalServerErrorException();\n    }\n  }\n\n  public async deleteUser(uid: string): Promise<void> {\n    try {\n      await this.auth.deleteUser(uid);\n    } catch (error) {\n      if (error instanceof Error) {\n        this.logger.error(error.message);\n      }\n      throw new InternalServerErrorException();\n    }\n  }\n}"
    },
    "src/services/mail/mail.service.ts": {
      "language": "typescript",
      "mutants": [
        {
          "id": "565",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "Error: expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\nExpected number of calls: 1\nReceived number of calls: 0\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/services/mail.service.spec.ts:74:41)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 9,
          "static": false,
          "killedBy": [
            "21"
          ],
          "coveredBy": [
            "21",
            "22",
            "23",
            "24",
            "25",
            "26",
            "27",
            "28",
            "29",
            "30",
            "31",
            "32",
            "33"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 22
            },
            "start": {
              "column": 5,
              "line": 19
            }
          }
        },
        {
          "id": "566",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "statusReason": "Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\nExpected: \"BREVO_API_KEY\"\nReceived: \"\"\n\nNumber of calls: 1\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/services/mail.service.spec.ts:75:41)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 9,
          "static": false,
          "killedBy": [
            "21"
          ],
          "coveredBy": [
            "21",
            "22",
            "23",
            "24",
            "25",
            "26",
            "27",
            "28",
            "29",
            "30",
            "31",
            "32",
            "33"
          ],
          "location": {
            "end": {
              "column": 64,
              "line": 20
            },
            "start": {
              "column": 49,
              "line": 20
            }
          }
        },
        {
          "id": "567",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "Error: expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\nExpected number of calls: 1\nReceived number of calls: 0\n    at Object.<anonymous> (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox1552037/tests/unit/services/mail.service.spec.ts:124:36)",
          "status": "Killed",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [
            "23"
          ],
          "coveredBy": [
            "23",
            "24"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 39
            },
            "start": {
              "column": 101,
              "line": 24
            }
          }
        },
        {
          "id": "568",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "src/services/mail/mail.service.ts(25,11): error TS2322: Type '{}' is not assignable to type 'StepMailData'.\n  Type '{}' is missing the following properties from type 'CommonMailData': appName, appUrl, userFirstName, userLastName\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "23",
            "24"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 30
            },
            "start": {
              "column": 32,
              "line": 25
            }
          }
        },
        {
          "id": "569",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "src/services/mail/mail.service.ts(34,25): error TS2345: Argument of type '{}' is not assignable to parameter of type 'MailRequirement'.\n  Type '{}' is missing the following properties from type 'MailRequirement': to, subject, html\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "23",
            "24"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 38
            },
            "start": {
              "column": 25,
              "line": 34
            }
          }
        },
        {
          "id": "570",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "Error: expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\nExpected number of calls: 1\nReceived number of calls: 0\n    at Object.<anonymous> (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox1552037/tests/unit/services/mail.service.spec.ts:182:36)",
          "status": "Killed",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [
            "25"
          ],
          "coveredBy": [
            "25",
            "26"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 54
            },
            "start": {
              "column": 97,
              "line": 41
            }
          }
        },
        {
          "id": "571",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "src/services/mail/mail.service.ts(42,11): error TS2322: Type '{}' is not assignable to type 'InviteNewUserMailData'.\n  Type '{}' is missing the following properties from type 'CommonMailData': appName, appUrl, userFirstName, userLastName\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "25",
            "26"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 46
            },
            "start": {
              "column": 41,
              "line": 42
            }
          }
        },
        {
          "id": "572",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "statusReason": "src/services/mail/mail.service.ts(47,51): error TS2345: Argument of type '\"\"' is not assignable to parameter of type 'MailTemplateName'.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "25",
            "26"
          ],
          "location": {
            "end": {
              "column": 61,
              "line": 47
            },
            "start": {
              "column": 51,
              "line": 47
            }
          }
        },
        {
          "id": "573",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "src/services/mail/mail.service.ts(49,25): error TS2345: Argument of type '{}' is not assignable to parameter of type 'MailRequirement'.\n  Type '{}' is missing the following properties from type 'MailRequirement': to, subject, html\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "25",
            "26"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 53
            },
            "start": {
              "column": 25,
              "line": 49
            }
          }
        },
        {
          "id": "574",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "statusReason": "Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n- Expected\n+ Received\n\n  Object {\n    \"html\": \"<h1>Mocked HTML</h1>\",\n-   \"subject\": \"Sujet [Welcome] Tes identifiants de connexion\",\n+   \"subject\": \"\",\n    \"to\": \"john@doe.com\",\n  },\n\nNumber of calls: 1\n    at Object.<anonymous> (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox1552037/tests/unit/services/mail.service.spec.ts:205:41)",
          "status": "Killed",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [
            "26"
          ],
          "coveredBy": [
            "25",
            "26"
          ],
          "location": {
            "end": {
              "column": 63,
              "line": 51
            },
            "start": {
              "column": 16,
              "line": 51
            }
          }
        },
        {
          "id": "575",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/services/mail/mail.service.ts(56,64): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "23",
            "24",
            "25",
            "26",
            "27"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 58
            },
            "start": {
              "column": 71,
              "line": 56
            }
          }
        },
        {
          "id": "576",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "statusReason": "Error: expect(received).toContain(expected) // indexOf\n\nExpected substring: \"src/services/mail/templates/new-user.mail-template.ejs\"\nReceived string:    \"/Users/antoinezanardi/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox1552037/src/services/mail/new-user.mail-template.ejs\"\n    at Object.<anonymous> (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox1552037/tests/unit/services/mail.service.spec.ts:215:32)\n    at Promise.then.completed (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 5,
          "static": false,
          "killedBy": [
            "27"
          ],
          "coveredBy": [
            "23",
            "24",
            "25",
            "26",
            "27"
          ],
          "location": {
            "end": {
              "column": 46,
              "line": 57
            },
            "start": {
              "column": 33,
              "line": 57
            }
          }
        },
        {
          "id": "577",
          "mutatorName": "StringLiteral",
          "replacement": "``",
          "statusReason": "Error: expect(received).toContain(expected) // indexOf\n\nExpected substring: \"src/services/mail/templates/new-user.mail-template.ejs\"\nReceived string:    \"/Users/antoinezanardi/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox1552037/src/services/mail/templates/\"\n    at Object.<anonymous> (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox1552037/tests/unit/services/mail.service.spec.ts:215:32)\n    at Promise.then.completed (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 5,
          "static": false,
          "killedBy": [
            "27"
          ],
          "coveredBy": [
            "23",
            "24",
            "25",
            "26",
            "27"
          ],
          "location": {
            "end": {
              "column": 83,
              "line": 57
            },
            "start": {
              "column": 48,
              "line": 57
            }
          }
        },
        {
          "id": "580",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "Survived",
          "testsCompleted": 5,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "23",
            "24",
            "25",
            "26",
            "28"
          ],
          "location": {
            "end": {
              "column": 54,
              "line": 63
            },
            "start": {
              "column": 39,
              "line": 63
            }
          }
        },
        {
          "id": "581",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "Error: expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\nExpected number of calls: 1\nReceived number of calls: 0\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/services/mail.service.spec.ts:141:62)",
          "status": "Killed",
          "testsCompleted": 3,
          "static": false,
          "killedBy": [
            "29"
          ],
          "coveredBy": [
            "29",
            "30",
            "31"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 78
            },
            "start": {
              "column": 75,
              "line": 69
            }
          }
        },
        {
          "id": "582",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "Error: expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\nExpected number of calls: 1\nReceived number of calls: 0\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/services/mail.service.spec.ts:141:62)",
          "status": "Killed",
          "testsCompleted": 3,
          "static": false,
          "killedBy": [
            "29"
          ],
          "coveredBy": [
            "29",
            "30",
            "31"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 74
            },
            "start": {
              "column": 9,
              "line": 70
            }
          }
        },
        {
          "id": "583",
          "mutatorName": "StringLiteral",
          "replacement": "``",
          "status": "Survived",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "29",
            "30"
          ],
          "location": {
            "end": {
              "column": 79,
              "line": 73
            },
            "start": {
              "column": 23,
              "line": 73
            }
          }
        },
        {
          "id": "584",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "Error: expect(received).rejects.toThrow()\n\nReceived promise resolved instead of rejected\nResolved to value: undefined\n    at expect (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/expect/build/index.js:113:15)\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/services/mail.service.spec.ts:166:13)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [
            "31"
          ],
          "coveredBy": [
            "31"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 77
            },
            "start": {
              "column": 21,
              "line": 74
            }
          }
        },
        {
          "id": "585",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "Survived",
          "testsCompleted": 1,
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "31"
          ],
          "location": {
            "end": {
              "column": 52,
              "line": 75
            },
            "start": {
              "column": 25,
              "line": 75
            }
          }
        },
        {
          "id": "586",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/services/mail/mail.service.ts(64,73): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "32",
            "33"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 91
            },
            "start": {
              "column": 87,
              "line": 80
            }
          }
        },
        {
          "id": "587",
          "mutatorName": "ArrayDeclaration",
          "replacement": "[]",
          "statusReason": "Error: expect(received).toStrictEqual(expected) // deep equality\n\n- Expected  - 5\n+ Received  + 1\n\n@@ -3,11 +3,7 @@\n    \"sender\": Object {\n      \"email\": \"welcome@daveo.fr\",\n      \"name\": \"Daveo - Welcome\",\n    },\n    \"subject\": \"Hello\",\n-   \"to\": Array [\n-     Object {\n-       \"email\": \"Antoine\",\n-     },\n-   ],\n+   \"to\": Array [],\n  }\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/services/mail.service.spec.ts:200:20)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [
            "33"
          ],
          "coveredBy": [
            "32",
            "33"
          ],
          "location": {
            "end": {
              "column": 46,
              "line": 82
            },
            "start": {
              "column": 15,
              "line": 82
            }
          }
        },
        {
          "id": "588",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "src/services/mail/mail.service.ts(66,16): error TS2741: Property ''email'' is missing in type '{}' but required in type 'SendSmtpEmailToInner'.\n",
          "status": "CompileError",
          "static": false,
          "killedBy": [],
          "coveredBy": [
            "32",
            "33"
          ],
          "location": {
            "end": {
              "column": 45,
              "line": 82
            },
            "start": {
              "column": 16,
              "line": 82
            }
          }
        },
        {
          "id": "589",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "Error: expect(received).toStrictEqual(expected) // deep equality\n\n- Expected  - 4\n+ Received  + 1\n\n@@ -1,11 +1,8 @@\n  Object {\n    \"htmlContent\": \"<p>Hello</p>\",\n-   \"sender\": Object {\n-     \"email\": \"welcome@daveo.fr\",\n-     \"name\": \"Daveo - Welcome\",\n-   },\n+   \"sender\": Object {},\n    \"subject\": \"Hello\",\n    \"to\": Array [\n      Object {\n        \"email\": \"Antoine\",\n      },\n    at Object.<anonymous> (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox407200/tests/unit/services/mail.service.spec.ts:200:20)\n    at Promise.then.completed (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/mac-Z14AZANA/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "testsCompleted": 2,
          "static": false,
          "killedBy": [
            "33"
          ],
          "coveredBy": [
            "32",
            "33"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 86
            },
            "start": {
              "column": 19,
              "line": 83
            }
          }
        },
        {
          "id": "579",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "src/services/mail/mail.service.ts(61,5): error TS2739: Type '{}' is missing the following properties from type 'CommonMailData': appName, appUrl, userFirstName, userLastName\n",
          "status": "CompileError",
          "static": false,
          "coveredBy": [
            "23",
            "24",
            "25",
            "26",
            "28"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 66
            },
            "start": {
              "column": 12,
              "line": 61
            }
          }
        },
        {
          "id": "578",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/services/mail/mail.service.ts(60,77): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "coveredBy": [
            "23",
            "24",
            "25",
            "26",
            "28"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 67
            },
            "start": {
              "column": 92,
              "line": 60
            }
          }
        }
      ],
      "source": "import { SendSmtpEmail, TransactionalEmailsApi, TransactionalEmailsApiApiKeys } from \"@getbrevo/brevo\";\nimport { StepEmail } from \"@modules/step/entities/step-email.entity\";\nimport { CreateUserDto } from \"@modules/welcome/dto/input/create-user.dto\";\nimport { WelcomeUser } from \"@modules/welcome/entities/user.entity\";\nimport { Injectable, Logger } from \"@nestjs/common\";\nimport { ConfigService } from \"@nestjs/config\";\nimport { MAIL_APP_NAME, MAIL_FROM, MAIL_FROM_NAME } from \"@src/services/mail/mail.constants\";\nimport { CommonMailData, InviteNewUserMailData, MailRequirement, MailTemplateName, StepMailData } from \"@src/services/mail/mail.types\";\nimport { renderFile } from \"ejs\";\nimport path from \"path\";\n\n@Injectable()\nexport class MailService {\n  private readonly brevoMailingInstance = new TransactionalEmailsApi();\n\n  public constructor(\n    private readonly logger: Logger,\n    private readonly config: ConfigService,\n  ) {\n    const brevoApiKey = this.config.get<string>(\"BREVO_API_KEY\");\n    this.brevoMailingInstance.setApiKey(TransactionalEmailsApiApiKeys.apiKey, brevoApiKey);\n  }\n\n  public async sendStepMail(user: WelcomeUser, stepEmail: StepEmail, stepId: string): Promise<void> {\n    const data: StepMailData = {\n      ...this.getCommonMailData(user),\n      managerFirstName: user.hrReferent.firstName,\n      managerLastName: user.hrReferent.lastName,\n      stepId,\n    };\n    const templateName = `step-${stepId}` as MailTemplateName;\n    const templatePath = this.getMailTemplatePath(templateName);\n\n    await this.sendMail({\n      to: user.email,\n      subject: stepEmail.subject,\n      html: await renderFile(templatePath, data),\n    });\n  }\n\n  public async inviteNewUserMail(createUserDto: CreateUserDto, password: string): Promise<void> {\n    const data: InviteNewUserMailData = {\n      ...this.getCommonMailData(createUserDto),\n      email: createUserDto.email,\n      password,\n    };\n    const templatePath = this.getMailTemplatePath(\"new-user\");\n\n    await this.sendMail({\n      to: createUserDto.email,\n      subject: \"Sujet [Welcome] Tes identifiants de connexion\",\n      html: await renderFile(templatePath, data),\n    });\n  }\n\n  private getMailTemplatePath(templateName: MailTemplateName): string {\n    return path.join(__dirname, \"/templates/\", `${templateName}.mail-template.ejs`);\n  }\n\n  private getCommonMailData(user: { firstName: string; lastName: string }): CommonMailData {\n    return {\n      appName: MAIL_APP_NAME,\n      appUrl: this.config.get<string>(\"HUB_FRONT_URL\"),\n      userFirstName: user.firstName,\n      userLastName: user.lastName,\n    };\n  }\n\n  private async sendMail(mailRequirement: MailRequirement): Promise<void> {\n    try {\n      const mail = this.getSmtpMailFromRequirement(mailRequirement);\n      await this.brevoMailingInstance.sendTransacEmail(mail);\n      this.logger.log(`Email successfully dispatched to ${mailRequirement.to}`);\n    } catch (error) {\n      this.logger.error(\"Error while sending email\", error);\n      throw error;\n    }\n  }\n\n  private getSmtpMailFromRequirement(mailRequirement: MailRequirement): SendSmtpEmail {\n    const mail = new SendSmtpEmail();\n    mail.to = [{ email: mailRequirement.to }];\n    mail.sender = {\n      name: MAIL_FROM_NAME,\n      email: MAIL_FROM,\n    };\n    mail.subject = mailRequirement.subject;\n    mail.htmlContent = mailRequirement.html;\n\n    return mail;\n  }\n}"
    },
    "src/modules/client/client.service.ts": {
      "language": "typescript",
      "mutants": [
        {
          "id": "228",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/client/client.service.ts(25,70): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "coveredBy": [
            "146",
            "147"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 29
            },
            "start": {
              "column": 86,
              "line": 25
            }
          }
        },
        {
          "id": "227",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/client/client.service.ts(21,37): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "coveredBy": [
            "141",
            "142",
            "143",
            "144",
            "145",
            "146",
            "147"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 23
            },
            "start": {
              "column": 53,
              "line": 21
            }
          }
        },
        {
          "id": "226",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/client/client.service.ts(17,27): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "coveredBy": [
            "139",
            "140"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 19
            },
            "start": {
              "column": 45,
              "line": 17
            }
          }
        },
        {
          "id": "225",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/client/client.service.ts(13,58): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "coveredBy": [
            "137",
            "138"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 15
            },
            "start": {
              "column": 74,
              "line": 13
            }
          }
        },
        {
          "id": "229",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "Error: expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\nExpected number of calls: 1\nReceived number of calls: 0\n    at Object.<anonymous> (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8483652/tests/unit/modules/client/client.service.spec.ts:93:19)",
          "status": "Killed",
          "static": false,
          "testsCompleted": 2,
          "killedBy": [
            "144"
          ],
          "coveredBy": [
            "144",
            "145"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 34
            },
            "start": {
              "column": 50,
              "line": 31
            }
          }
        }
      ],
      "source": "import { Injectable } from \"@nestjs/common\";\nimport { instanceToPlain } from \"class-transformer\";\nimport { CreateClientDto } from \"@modules/client/dto/create-client.dto\";\nimport { UpdateClientDto } from \"@modules/client/dto/update-client.dto\";\nimport { Client } from \"@modules/client/entities/client.entity\";\nimport { FirestoreService } from \"@src/services/firestore/firestore.service\";\nimport { FIRESTORE_COLLECTIONS } from \"@src/configs/types/Firestore.types\";\n\n@Injectable()\nexport class ClientService {\n  public constructor(private readonly firestoreService: FirestoreService) {}\n\n  public async create(createClientDto: CreateClientDto): Promise<Client> {\n    return this.firestoreService.saveDocument(FIRESTORE_COLLECTIONS.CLIENTS, instanceToPlain(createClientDto));\n  }\n\n  public async findAll(): Promise<Client[]> {\n    return this.firestoreService.getAllDocuments<Client>(FIRESTORE_COLLECTIONS.CLIENTS);\n  }\n\n  public async findOne(id: string): Promise<Client> {\n    return this.firestoreService.getDocument<Client>(FIRESTORE_COLLECTIONS.CLIENTS, id);\n  }\n\n  public async update(id: string, updateClientDto: UpdateClientDto): Promise<Client> {\n    await this.findOne(id);\n\n    return this.firestoreService.updateDocument(FIRESTORE_COLLECTIONS.CLIENTS, id, instanceToPlain(updateClientDto));\n  }\n\n  public async remove(id: string): Promise<void> {\n    await this.findOne(id);\n    await this.firestoreService.deleteDocument(FIRESTORE_COLLECTIONS.CLIENTS, id);\n  }\n}"
    },
    "src/modules/practice/practice.service.ts": {
      "language": "typescript",
      "mutants": [
        {
          "id": "286",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/practice/practice.service.ts(25,74): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "coveredBy": [
            "135",
            "136"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 29
            },
            "start": {
              "column": 92,
              "line": 25
            }
          }
        },
        {
          "id": "285",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/practice/practice.service.ts(21,37): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "coveredBy": [
            "130",
            "131",
            "132",
            "133",
            "134",
            "135",
            "136"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 23
            },
            "start": {
              "column": 55,
              "line": 21
            }
          }
        },
        {
          "id": "284",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/practice/practice.service.ts(17,27): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "coveredBy": [
            "128",
            "129"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 19
            },
            "start": {
              "column": 47,
              "line": 17
            }
          }
        },
        {
          "id": "283",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/modules/practice/practice.service.ts(13,62): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "coveredBy": [
            "126",
            "127"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 15
            },
            "start": {
              "column": 80,
              "line": 13
            }
          }
        },
        {
          "id": "287",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "Error: expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\nExpected number of calls: 1\nReceived number of calls: 0\n    at Object.<anonymous> (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8483652/tests/unit/modules/practice/practice.service.spec.ts:93:19)",
          "status": "Killed",
          "static": false,
          "testsCompleted": 2,
          "killedBy": [
            "133"
          ],
          "coveredBy": [
            "133",
            "134"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 34
            },
            "start": {
              "column": 50,
              "line": 31
            }
          }
        }
      ],
      "source": "import { Injectable } from \"@nestjs/common\";\nimport { CreatePracticeDto } from \"@modules/practice/dto/create-practice.dto\";\nimport { UpdatePracticeDto } from \"@modules/practice/dto/update-practice.dto\";\nimport { FirestoreService } from \"@src/services/firestore/firestore.service\";\nimport { FIRESTORE_COLLECTIONS } from \"@src/configs/types/Firestore.types\";\nimport { Practice } from \"@modules/practice/entities/practice.entity\";\nimport { instanceToPlain } from \"class-transformer\";\n\n@Injectable()\nexport class PracticeService {\n  public constructor(private readonly firestoreService: FirestoreService) {}\n\n  public async create(createPracticeDto: CreatePracticeDto): Promise<Practice> {\n    return this.firestoreService.saveDocument(FIRESTORE_COLLECTIONS.PRACTICES, instanceToPlain(createPracticeDto));\n  }\n\n  public async findAll(): Promise<Practice[]> {\n    return this.firestoreService.getAllDocuments<Practice>(FIRESTORE_COLLECTIONS.PRACTICES);\n  }\n\n  public async findOne(id: string): Promise<Practice> {\n    return this.firestoreService.getDocument<Practice>(FIRESTORE_COLLECTIONS.PRACTICES, id);\n  }\n\n  public async update(id: string, updatePracticeDto: UpdatePracticeDto): Promise<Practice> {\n    await this.findOne(id);\n\n    return this.firestoreService.updateDocument(FIRESTORE_COLLECTIONS.PRACTICES, id, instanceToPlain(updatePracticeDto));\n  }\n\n  public async remove(id: string): Promise<void> {\n    await this.findOne(id);\n    await this.firestoreService.deleteDocument(FIRESTORE_COLLECTIONS.PRACTICES, id);\n  }\n}"
    },
    "src/guards/api-key.guard.ts": {
      "language": "typescript",
      "mutants": [
        {
          "id": "7",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/guards/api-key.guard.ts(17,42): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "coveredBy": [
            "207",
            "208"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 24
            },
            "start": {
              "column": 50,
              "line": 17
            }
          }
        },
        {
          "id": "6",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "src/guards/api-key.guard.ts(10,50): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\n",
          "status": "CompileError",
          "static": false,
          "coveredBy": [
            "204",
            "205",
            "206"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 15
            },
            "start": {
              "column": 58,
              "line": 10
            }
          }
        },
        {
          "id": "11",
          "mutatorName": "EqualityOperator",
          "replacement": "bufferedApiKey.length !== bufferedApiKeyFromConfig.length",
          "statusReason": "RangeError: Input buffers must have the same byte length\n    at ApiKeyGuard.isApiKeyValid (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8483652/src/guards/api-key.guard.ts:74:257)\n    at Object.<anonymous> (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8483652/tests/unit/guards/api-key.guard.spec.ts:87:44)\n    at Promise.then.completed (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "static": false,
          "testsCompleted": 2,
          "killedBy": [
            "207"
          ],
          "coveredBy": [
            "207",
            "208"
          ],
          "location": {
            "end": {
              "column": 89,
              "line": 21
            },
            "start": {
              "column": 32,
              "line": 21
            }
          }
        },
        {
          "id": "9",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "statusReason": "RangeError: Input buffers must have the same byte length\n    at ApiKeyGuard.isApiKeyValid (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8483652/src/guards/api-key.guard.ts:74:257)\n    at Object.<anonymous> (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8483652/tests/unit/guards/api-key.guard.spec.ts:87:44)\n    at Promise.then.completed (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "static": false,
          "testsCompleted": 2,
          "killedBy": [
            "207"
          ],
          "coveredBy": [
            "207",
            "208"
          ],
          "location": {
            "end": {
              "column": 89,
              "line": 21
            },
            "start": {
              "column": 32,
              "line": 21
            }
          }
        },
        {
          "id": "8",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "Survived",
          "static": false,
          "testsCompleted": 2,
          "coveredBy": [
            "207",
            "208"
          ],
          "location": {
            "end": {
              "column": 70,
              "line": 18
            },
            "start": {
              "column": 61,
              "line": 18
            }
          }
        },
        {
          "id": "10",
          "mutatorName": "ConditionalExpression",
          "replacement": "false",
          "statusReason": "Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false\n    at Object.<anonymous> (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8483652/tests/unit/guards/api-key.guard.spec.ts:93:54)\n    at Promise.then.completed (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "static": false,
          "testsCompleted": 2,
          "killedBy": [
            "208"
          ],
          "coveredBy": [
            "207",
            "208"
          ],
          "location": {
            "end": {
              "column": 89,
              "line": 21
            },
            "start": {
              "column": 32,
              "line": 21
            }
          }
        },
        {
          "id": "14",
          "mutatorName": "LogicalOperator",
          "replacement": "areBuffersSameSize || timingSafeEqual(bufferedApiKey, bufferedApiKeyFromConfig)",
          "statusReason": "RangeError: Input buffers must have the same byte length\n    at ApiKeyGuard.isApiKeyValid (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8483652/src/guards/api-key.guard.ts:74:76)\n    at Object.<anonymous> (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8483652/tests/unit/guards/api-key.guard.spec.ts:87:44)\n    at Promise.then.completed (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "static": false,
          "testsCompleted": 2,
          "killedBy": [
            "207"
          ],
          "coveredBy": [
            "207",
            "208"
          ],
          "location": {
            "end": {
              "column": 91,
              "line": 23
            },
            "start": {
              "column": 12,
              "line": 23
            }
          }
        },
        {
          "id": "13",
          "mutatorName": "ConditionalExpression",
          "replacement": "false",
          "statusReason": "Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false\n    at Object.<anonymous> (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8483652/tests/unit/guards/api-key.guard.spec.ts:93:54)\n    at Promise.then.completed (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "static": false,
          "testsCompleted": 2,
          "killedBy": [
            "208"
          ],
          "coveredBy": [
            "207",
            "208"
          ],
          "location": {
            "end": {
              "column": 91,
              "line": 23
            },
            "start": {
              "column": 12,
              "line": 23
            }
          }
        },
        {
          "id": "12",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "statusReason": "Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: false\nReceived: true\n    at Object.<anonymous> (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/.stryker-tmp/sandbox8483652/tests/unit/guards/api-key.guard.spec.ts:87:54)\n    at Promise.then.completed (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:316:40)\n    at async _runTest (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:252:3)\n    at async _runTestsForDescribeBlock (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:126:9)\n    at async _runTestsForDescribeBlock (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async _runTestsForDescribeBlock (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:121:9)\n    at async run (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/run.js:71:3)\n    at async runAndTransformResultsToJestFormat (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at async jestAdapter (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at async runTestInternal (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:367:16)\n    at async runTest (/Users/antoinezanardi/WebstormProjects/welcome-hub-back/node_modules/jest-runner/build/runTest.js:444:34)",
          "status": "Killed",
          "static": false,
          "testsCompleted": 2,
          "killedBy": [
            "207"
          ],
          "coveredBy": [
            "207",
            "208"
          ],
          "location": {
            "end": {
              "column": 91,
              "line": 23
            },
            "start": {
              "column": 12,
              "line": 23
            }
          }
        }
      ],
      "source": "import { timingSafeEqual } from \"node:crypto\";\nimport { Buffer } from \"node:buffer\";\nimport { CanActivate, ExecutionContext, Injectable } from \"@nestjs/common\";\nimport { ConfigService } from \"@nestjs/config\";\n\n@Injectable()\nexport class ApiKeyGuard implements CanActivate {\n  public constructor(private readonly configService: ConfigService) { }\n\n  public canActivate(context: ExecutionContext): boolean {\n    const req = context.switchToHttp().getRequest<Request>();\n    const apiKey = req.headers[\"X-API-KEY\"] as string;\n\n    return this.isApiKeyValid(apiKey);\n  }\n\n  private isApiKeyValid(apiKey: string): boolean {\n    const apiKeyFromConfig = this.configService.get<string>(\"API_KEY\");\n    const bufferedApiKey = Buffer.from(apiKey);\n    const bufferedApiKeyFromConfig = Buffer.from(apiKeyFromConfig);\n    const areBuffersSameSize = bufferedApiKey.length === bufferedApiKeyFromConfig.length;\n\n    return areBuffersSameSize && timingSafeEqual(bufferedApiKey, bufferedApiKeyFromConfig);\n  }\n}"
    }
  },
  "schemaVersion": "1.0",
  "thresholds": {
    "high": 100,
    "low": 45,
    "break": 45
  },
  "testFiles": {
    "tests/unit/modules/welcome/welcome.service.spec.ts": {
      "tests": [
        {
          "id": "0",
          "name": "Welcome Service createUser should create an user when createUser is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 137
            }
          }
        },
        {
          "id": "1",
          "name": "Welcome Service createUser should generate a 12 characters password when generatePassword is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 143
            }
          }
        },
        {
          "id": "2",
          "name": "Welcome Service createUser should throw an HttpException when generateSteps fails.",
          "location": {
            "start": {
              "column": 6,
              "line": 149
            }
          }
        },
        {
          "id": "3",
          "name": "Welcome Service createUser should throw an InternalServerError when mailer fails.",
          "location": {
            "start": {
              "column": 6,
              "line": 157
            }
          }
        },
        {
          "id": "4",
          "name": "Welcome Service createUser should throw an InternalServerError when gip fails.",
          "location": {
            "start": {
              "column": 6,
              "line": 165
            }
          }
        },
        {
          "id": "5",
          "name": "Welcome Service createUser should throw an InternalServerError when database fails.",
          "location": {
            "start": {
              "column": 6,
              "line": 173
            }
          }
        },
        {
          "id": "6",
          "name": "Welcome Service findAll should return an user array when findAll is called (without filter).",
          "location": {
            "start": {
              "column": 6,
              "line": 183
            }
          }
        },
        {
          "id": "7",
          "name": "Welcome Service findAll should return an user array when findAll is called (with filters).",
          "location": {
            "start": {
              "column": 6,
              "line": 189
            }
          }
        },
        {
          "id": "8",
          "name": "Welcome Service findAll should throw an InternalServerError when database fails.",
          "location": {
            "start": {
              "column": 6,
              "line": 195
            }
          }
        },
        {
          "id": "9",
          "name": "Welcome Service findOne should return an user when findOne is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 205
            }
          }
        },
        {
          "id": "10",
          "name": "Welcome Service findOne should throw a NotFound when user does not exists.",
          "location": {
            "start": {
              "column": 6,
              "line": 211
            }
          }
        },
        {
          "id": "11",
          "name": "Welcome Service findOne should throw an InternalServerError when database fails.",
          "location": {
            "start": {
              "column": 6,
              "line": 219
            }
          }
        },
        {
          "id": "12",
          "name": "Welcome Service remove should delete an user when remove is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 229
            }
          }
        },
        {
          "id": "13",
          "name": "Welcome Service remove should throw an InternalServerError when database fails.",
          "location": {
            "start": {
              "column": 6,
              "line": 236
            }
          }
        },
        {
          "id": "14",
          "name": "Welcome Service update should update an user when update is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 246
            }
          }
        },
        {
          "id": "15",
          "name": "Welcome Service update should throw an InternalServerError when database fails.",
          "location": {
            "start": {
              "column": 6,
              "line": 252
            }
          }
        },
        {
          "id": "16",
          "name": "Welcome Service run should send emails to newcomers with unlocked steps when run is called (no user).",
          "location": {
            "start": {
              "column": 6,
              "line": 272
            }
          }
        },
        {
          "id": "17",
          "name": "Welcome Service updateSubStep should complete user sub step when completeStep is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 281
            }
          }
        },
        {
          "id": "18",
          "name": "Welcome Service updateEmailSteps should update email steps when updateEmailSteps is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 294
            }
          }
        },
        {
          "id": "19",
          "name": "Welcome Service notifyCompletedStep should send step mail when completion email manager is set.",
          "location": {
            "start": {
              "column": 6,
              "line": 313
            }
          }
        },
        {
          "id": "20",
          "name": "Welcome Service notifyCompletedStep should send step mail when completion email is set.",
          "location": {
            "start": {
              "column": 6,
              "line": 320
            }
          }
        },
        {
          "id": "251",
          "name": "UsersService createUser should create an user when createUser is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 137
            }
          }
        },
        {
          "id": "252",
          "name": "UsersService createUser should generate a 12 characters password when generatePassword is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 143
            }
          }
        },
        {
          "id": "253",
          "name": "UsersService createUser should throw an HttpException when generateSteps fails.",
          "location": {
            "start": {
              "column": 6,
              "line": 149
            }
          }
        },
        {
          "id": "254",
          "name": "UsersService createUser should throw an InternalServerError when mailer fails.",
          "location": {
            "start": {
              "column": 6,
              "line": 157
            }
          }
        },
        {
          "id": "255",
          "name": "UsersService createUser should throw an InternalServerError when gip fails.",
          "location": {
            "start": {
              "column": 6,
              "line": 165
            }
          }
        },
        {
          "id": "256",
          "name": "UsersService createUser should throw an InternalServerError when database fails.",
          "location": {
            "start": {
              "column": 6,
              "line": 173
            }
          }
        },
        {
          "id": "257",
          "name": "UsersService findAll should return an user array when findAll is called (without filter).",
          "location": {
            "start": {
              "column": 6,
              "line": 183
            }
          }
        },
        {
          "id": "258",
          "name": "UsersService findAll should return an user array when findAll is called (with filters).",
          "location": {
            "start": {
              "column": 6,
              "line": 189
            }
          }
        },
        {
          "id": "259",
          "name": "UsersService findAll should throw an InternalServerError when database fails.",
          "location": {
            "start": {
              "column": 6,
              "line": 195
            }
          }
        },
        {
          "id": "260",
          "name": "UsersService findOne should return an user when findOne is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 205
            }
          }
        },
        {
          "id": "261",
          "name": "UsersService findOne should throw a NotFound when user does not exists.",
          "location": {
            "start": {
              "column": 6,
              "line": 211
            }
          }
        },
        {
          "id": "262",
          "name": "UsersService findOne should throw an InternalServerError when database fails.",
          "location": {
            "start": {
              "column": 6,
              "line": 219
            }
          }
        },
        {
          "id": "263",
          "name": "UsersService remove should delete an user when remove is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 229
            }
          }
        },
        {
          "id": "264",
          "name": "UsersService remove should throw an InternalServerError when database fails.",
          "location": {
            "start": {
              "column": 6,
              "line": 236
            }
          }
        },
        {
          "id": "265",
          "name": "UsersService update should update an user when update is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 246
            }
          }
        },
        {
          "id": "266",
          "name": "UsersService run should send emails to newcomers with unlocked steps when run is called (no user).",
          "location": {
            "start": {
              "column": 10,
              "line": 272
            }
          }
        }
      ],
      "source": "import { Timestamp } from \"@google-cloud/firestore\";\nimport { StepService } from \"@modules/step/step.service\";\nimport { WelcomeService } from \"@modules/welcome/welcome.service\";\nimport { HttpException, HttpStatus, InternalServerErrorException, Logger, NotFoundException } from \"@nestjs/common\";\nimport type { TestingModule } from \"@nestjs/testing\";\nimport { Test } from \"@nestjs/testing\";\nimport { FIRESTORE_COLLECTIONS } from \"@src/configs/types/Firestore.types\";\nimport { FirestoreService } from \"@src/services/firestore/firestore.service\";\nimport { GipService } from \"@src/services/gip/gip.service\";\nimport { MailService } from \"@src/services/mail/mail.service\";\nimport { createFakeCreateUserDto } from \"@tests/unit/factories/dtos/create-user.dto.factory\";\nimport { createFakeStepEmail } from \"@tests/unit/factories/entities/step-email.entity.factory\";\nimport { createFakeStep } from \"@tests/unit/factories/entities/step.entity.factory\";\nimport { createFakeUserStep } from \"@tests/unit/factories/entities/user-step.entity.factory\";\nimport { createFakeWelcomeUser } from \"@tests/unit/factories/entities/user.entity.factory\";\nimport { getError, NoErrorThrownError } from \"@tests/unit/utils\";\n\nconst user = createFakeWelcomeUser({\n  steps: [\n    createFakeUserStep({\n      _id: \"1\",\n      subStepsCompleted: 1,\n    }),\n    createFakeUserStep({\n      _id: \"2\",\n      subStepsCompleted: 0,\n    }),\n    createFakeUserStep({\n      _id: \"3\",\n      subStepsCompleted: 0,\n    }),\n  ],\n});\n\nconst createUserDto = createFakeCreateUserDto();\nconst steps = [\n  createFakeStep({\n    _id: \"1\",\n    cutAt: 0.25,\n    unlockEmail: { subject: \"Test\", body: \"1234\" },\n    maxDays: 90,\n    minDays: 30,\n    subSteps: 1,\n    completionEmailManager: createFakeStepEmail(),\n  }),\n  createFakeStep({\n    _id: \"2\",\n    cutAt: 0.5,\n    unlockEmail: { subject: \"Test\", body: \"1234\" },\n    maxDays: 90,\n    minDays: 30,\n    subSteps: 1,\n    completionEmail: createFakeStepEmail(),\n  }),\n  createFakeStep({\n    _id: \"3\",\n    cutAt: 0.7,\n    unlockEmail: { subject: \"Test\", body: \"1234\" },\n    maxDays: 90,\n    minDays: 30,\n    subSteps: 1,\n  }),\n];\n\ndescribe(\"Welcome Service\", () => {\n  let mocks: {\n    services: {\n      welcome: {\n        findAll: jest.SpyInstance;\n      };\n    };\n  };\n  let service: WelcomeService;\n\n  beforeEach(async() => {\n    const module: TestingModule = await Test.createTestingModule({\n      providers: [\n        WelcomeService,\n        {\n          provide: MailService,\n          useValue: {\n            inviteNewUserMail: jest.fn().mockResolvedValue(undefined),\n            sendStepMail: jest.fn().mockResolvedValue(undefined),\n          },\n        },\n        {\n          provide: StepService,\n          useValue: {\n            findAll: jest.fn().mockResolvedValue(steps),\n            findOne: jest.fn().mockResolvedValue(steps[0]),\n            generateSteps: jest.fn().mockResolvedValue([{ step: { _id: \"1\" }, dt: new Date(2024, 5, 1) }]),\n          },\n        },\n        {\n          provide: FirestoreService,\n          useValue: {\n            getAllDocuments: jest.fn().mockResolvedValue([user]),\n            getDocument: jest.fn().mockResolvedValue(user),\n            saveDocument: jest.fn().mockResolvedValue(user),\n            updateDocument: jest.fn().mockResolvedValue(user),\n            deleteDocument: jest.fn().mockResolvedValue(undefined),\n          },\n        },\n        {\n          provide: GipService,\n          useValue: {\n            createUser: jest.fn().mockResolvedValue({ uid: user._id }),\n            deleteUser: jest.fn().mockResolvedValue(undefined),\n          },\n        },\n        {\n          provide: Logger,\n          useValue: {\n            log: jest.fn(),\n            error: jest.fn(),\n            debug: jest.fn(),\n            warn: jest.fn(),\n            info: jest.fn(),\n            secure: jest.fn(),\n            isLevelEnabled: jest.fn(() => false),\n          },\n        },\n      ],\n    }).compile();\n\n    service = module.get<WelcomeService>(WelcomeService);\n    jest.useFakeTimers();\n    jest.setSystemTime(new Date(2024, 5, 1));\n  });\n\n  afterEach(() => {\n    jest.resetAllMocks();\n    jest.useRealTimers();\n  });\n\n  describe(\"createUser\", () => {\n    it(\"should create an user when createUser is called.\", async() => {\n      const createUser = await service.createUser(createUserDto);\n\n      expect(createUser).toStrictEqual(user);\n    });\n\n    it(\"should generate a 12 characters password when generatePassword is called.\", () => {\n      const password = WelcomeService[\"generatePassword\"]();\n\n      expect(password).toHaveLength(12);\n    });\n\n    it(\"should throw an HttpException when generateSteps fails.\", async() => {\n      jest.spyOn(service[\"stepService\"], \"generateSteps\").mockImplementation().mockRejectedValue(new HttpException(\"Invalid parameter: startDate > endDate\", HttpStatus.BAD_REQUEST));\n      const error: HttpException = await getError(async() => service.createUser(createUserDto));\n\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(HttpException);\n    });\n\n    it(\"should throw an InternalServerError when mailer fails.\", async() => {\n      jest.spyOn(service[\"mailService\"], \"inviteNewUserMail\").mockImplementation().mockRejectedValue(new Error());\n      const error: InternalServerErrorException = await getError(async() => service.createUser(createUserDto));\n\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(InternalServerErrorException);\n    });\n\n    it(\"should throw an InternalServerError when gip fails.\", async() => {\n      jest.spyOn(service[\"gipService\"], \"createUser\").mockImplementation().mockRejectedValue(new InternalServerErrorException());\n      const error: InternalServerErrorException = await getError(async() => service.createUser(createUserDto));\n\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(InternalServerErrorException);\n    });\n\n    it(\"should throw an InternalServerError when database fails.\", async() => {\n      jest.spyOn(service[\"firestoreService\"], \"saveDocument\").mockImplementation().mockRejectedValue(new InternalServerErrorException());\n      const error: InternalServerErrorException = await getError(async() => service.createUser(createUserDto));\n\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(InternalServerErrorException);\n    });\n  });\n\n  describe(\"findAll\", () => {\n    it(\"should return an user array when findAll is called (without filter).\", async() => {\n      const findAll = await service.findAll();\n\n      expect(findAll).toStrictEqual([user]);\n    });\n\n    it(\"should return an user array when findAll is called (with filters).\", async() => {\n      const findAll = await service.findAll(new Date(), new Date());\n\n      expect(findAll).toStrictEqual([user]);\n    });\n\n    it(\"should throw an InternalServerError when database fails.\", async() => {\n      jest.spyOn(service[\"firestoreService\"], \"getAllDocuments\").mockImplementation().mockRejectedValue(new InternalServerErrorException());\n      const error: InternalServerErrorException = await getError(async() => service.findAll());\n\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(InternalServerErrorException);\n    });\n  });\n\n  describe(\"findOne\", () => {\n    it(\"should return an user when findOne is called.\", async() => {\n      const findOne = await service.findOne(user._id);\n\n      expect(findOne).toStrictEqual(user);\n    });\n\n    it(\"should throw a NotFound when user does not exists.\", async() => {\n      jest.spyOn(service[\"firestoreService\"], \"getDocument\").mockImplementation().mockRejectedValue(new NotFoundException());\n      const error: InternalServerErrorException = await getError(async() => service.findOne(user._id));\n\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(NotFoundException);\n    });\n\n    it(\"should throw an InternalServerError when database fails.\", async() => {\n      jest.spyOn(service[\"firestoreService\"], \"getDocument\").mockImplementation().mockRejectedValue(new InternalServerErrorException());\n      const error: InternalServerErrorException = await getError(async() => service.findOne(user._id));\n\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(InternalServerErrorException);\n    });\n  });\n\n  describe(\"remove\", () => {\n    it(\"should delete an user when remove is called.\", async() => {\n      const spy = jest.spyOn(service[\"firestoreService\"], \"deleteDocument\");\n      await service.remove(user._id);\n\n      expect(spy).toHaveBeenCalledTimes(1);\n    });\n\n    it(\"should throw an InternalServerError when database fails.\", async() => {\n      jest.spyOn(service[\"firestoreService\"], \"deleteDocument\").mockImplementation().mockRejectedValue(new InternalServerErrorException());\n      const error: InternalServerErrorException = await getError(async() => service.remove(user._id));\n\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(InternalServerErrorException);\n    });\n  });\n\n  describe(\"update\", () => {\n    it(\"should update an user when update is called.\", async() => {\n      const update = await service.update(user._id, createUserDto);\n\n      expect(update).toStrictEqual(user);\n    });\n\n    it(\"should throw an InternalServerError when database fails.\", async() => {\n      jest.spyOn(service[\"firestoreService\"], \"updateDocument\").mockImplementation().mockRejectedValue(new InternalServerErrorException());\n      const error: InternalServerErrorException = await getError(async() => service.update(user._id, createUserDto));\n\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(InternalServerErrorException);\n    });\n  });\n\n  describe(\"run\", () => {\n    beforeEach(() => {\n      mocks = {\n        services: {\n          welcome: {\n            findAll: jest.spyOn(service, \"findAll\").mockResolvedValue([user]),\n          },\n        },\n      };\n    });\n\n    it(\"should send emails to newcomers with unlocked steps when run is called (no user).\", async() => {\n      jest.spyOn(service[\"firestoreService\"], \"getAllDocuments\").mockImplementation().mockResolvedValue([]);\n      const run = await service.run(new Date());\n\n      expect(run).toStrictEqual([]);\n    });\n  });\n\n  describe(\"updateSubStep\", () => {\n    it(\"should complete user sub step when completeStep is called.\", async() => {\n      await service.updateSubStep(user._id, steps[1]._id, steps[1].subSteps);\n      expect(service[\"firestoreService\"].updateDocument).toHaveBeenCalledWith(\n        FIRESTORE_COLLECTIONS.WELCOME_USERS,\n        user._id,\n        {\n          steps: [user.steps[0], { ...user.steps[1], subStepsCompleted: steps[1].subSteps, completedAt: Timestamp.now() }, user.steps[2]],\n        },\n      );\n    });\n  });\n\n  describe(\"updateEmailSteps\", () => {\n    it(\"should update email steps when updateEmailSteps is called.\", async() => {\n      await service[\"updateEmailSteps\"](user, [\"1\"]);\n\n      expect(service[\"firestoreService\"].updateDocument).toHaveBeenCalledTimes(1);\n      expect(service[\"firestoreService\"].updateDocument).toHaveBeenCalledWith(\n        FIRESTORE_COLLECTIONS.WELCOME_USERS,\n        user._id,\n        {\n          steps: [\n            { ...user.steps[0], unlockEmailSentAt: Timestamp.now() },\n            user.steps[1],\n            user.steps[2],\n          ],\n        },\n      );\n    });\n  });\n\n  describe(\"notifyCompletedStep\", () => {\n    it(\"should send step mail when completion email manager is set.\", async() => {\n      await service[\"notifyCompletedStep\"](user, steps[0]);\n\n      expect(service[\"mailService\"].sendStepMail).toHaveBeenCalledTimes(1);\n      expect(service[\"mailService\"].sendStepMail).toHaveBeenCalledWith(user, steps[0].completionEmailManager, steps[0]._id);\n    });\n\n    it(\"should send step mail when completion email is set.\", async() => {\n      await service[\"notifyCompletedStep\"](user, steps[1]);\n\n      expect(service[\"mailService\"].sendStepMail).toHaveBeenCalledTimes(1);\n      expect(service[\"mailService\"].sendStepMail).toHaveBeenCalledWith(user, steps[1].completionEmail, steps[1]._id);\n    });\n  });\n});"
    },
    "tests/unit/services/mail.service.spec.ts": {
      "tests": [
        {
          "id": "21",
          "name": "Mail Service Service constructor should get brevo api key from config when called.",
          "location": {
            "start": {
              "column": 6,
              "line": 80
            }
          }
        },
        {
          "id": "22",
          "name": "Mail Service Service constructor should set brevo api key when called.",
          "location": {
            "start": {
              "column": 6,
              "line": 85
            }
          }
        },
        {
          "id": "23",
          "name": "Mail Service Service sendStepMail should render mail template when called.",
          "location": {
            "start": {
              "column": 6,
              "line": 97
            }
          }
        },
        {
          "id": "24",
          "name": "Mail Service Service sendStepMail should send mail when called.",
          "location": {
            "start": {
              "column": 6,
              "line": 127
            }
          }
        },
        {
          "id": "25",
          "name": "Mail Service Service inviteNewUserMail should render mail template when called.",
          "location": {
            "start": {
              "column": 6,
              "line": 160
            }
          }
        },
        {
          "id": "26",
          "name": "Mail Service Service inviteNewUserMail should send mail when called.",
          "location": {
            "start": {
              "column": 6,
              "line": 185
            }
          }
        },
        {
          "id": "27",
          "name": "Mail Service Service getMailTemplatePath should return mail template path when called.",
          "location": {
            "start": {
              "column": 6,
              "line": 209
            }
          }
        },
        {
          "id": "28",
          "name": "Mail Service Service getCommonMailData should return common mail data when called.",
          "location": {
            "start": {
              "column": 6,
              "line": 219
            }
          }
        },
        {
          "id": "29",
          "name": "Mail Service Service sendMail should get smtp mail from provided requirements when called.",
          "location": {
            "start": {
              "column": 6,
              "line": 242
            }
          }
        },
        {
          "id": "30",
          "name": "Mail Service Service sendMail should send transaction email when called.",
          "location": {
            "start": {
              "column": 6,
              "line": 254
            }
          }
        },
        {
          "id": "31",
          "name": "Mail Service Service sendMail should throw error when send transaction email fails.",
          "location": {
            "start": {
              "column": 6,
              "line": 266
            }
          }
        },
        {
          "id": "32",
          "name": "Mail Service Service getSmtpMailFromRequirement should call getSmtpMailFromRequirement when called.",
          "location": {
            "start": {
              "column": 6,
              "line": 280
            }
          }
        },
        {
          "id": "33",
          "name": "Mail Service Service getSmtpMailFromRequirement should get smtp mail from provided requirements when called.",
          "location": {
            "start": {
              "column": 6,
              "line": 292
            }
          }
        }
      ],
      "source": "import type { SendSmtpEmail, TransactionalEmailsApi } from \"@getbrevo/brevo\";\nimport * as Brevo from \"@getbrevo/brevo\";\nimport { Logger } from \"@nestjs/common\";\nimport { ConfigService } from \"@nestjs/config\";\nimport type { TestingModule } from \"@nestjs/testing\";\nimport { Test } from \"@nestjs/testing\";\nimport { MailService } from \"@src/services/mail/mail.service\";\nimport type { InviteNewUserMailData, MailRequirement, StepMailData } from \"@src/services/mail/mail.types\";\nimport { createFakeHrReferent } from \"@tests/unit/factories/entities/hr-referent.entity.factory\";\nimport Ejs from \"ejs\";\nimport { LoggerMock } from \"@tests/unit/__mocks__/logger.mock\";\nimport { createFakeCreateUserDto } from \"@tests/unit/factories/dtos/create-user.dto.factory\";\nimport { createFakeWelcomeUser } from \"@tests/unit/factories/entities/user.entity.factory\";\n\nconst transactionalEmailsApiMocks = {\n  sendTransacEmail: jest.fn(),\n  setApiKey: jest.fn(),\n};\n\njest.mock<typeof import(\"@getbrevo/brevo\")>(\"@getbrevo/brevo\", () => ({\n  ...jest.requireActual(\"@getbrevo/brevo\"),\n  TransactionalEmailsApi: jest.fn(() => transactionalEmailsApiMocks) as unknown as typeof TransactionalEmailsApi,\n  SendSmtpEmail: jest.fn(() => ({})) as unknown as typeof SendSmtpEmail,\n}));\n\ndescribe(\"Mail Service Service\", () => {\n  let services: { mail: MailService };\n  let mocks: {\n    services: {\n      config: {\n        get: jest.Mock;\n      };\n      mail: {\n        sendMail: jest.SpyInstance;\n        getSmtpMailFromRequirement: jest.SpyInstance;\n      };\n    };\n    ejs: {\n      renderFile: jest.SpyInstance;\n    };\n  };\n\n  beforeEach(async() => {\n    mocks = {\n      services: {\n        config: {\n          get: jest.fn(),\n        },\n        mail: {\n          sendMail: jest.fn(),\n          getSmtpMailFromRequirement: jest.fn(),\n        },\n      },\n      ejs: {\n        renderFile: jest.spyOn(Ejs, \"renderFile\").mockResolvedValue(\"<h1>Mocked HTML</h1>\"),\n      },\n    };\n    const module: TestingModule = await Test.createTestingModule({\n      providers: [\n        {\n          provide: Logger,\n          useClass: LoggerMock,\n        },\n        {\n          provide: ConfigService,\n          useValue: mocks.services.config,\n        },\n        MailService,\n      ],\n    }).compile();\n\n    services = { mail: module.get<MailService>(MailService) };\n  });\n\n  afterEach(() => {\n    jest.clearAllMocks();\n  });\n\n  describe(\"constructor\", () => {\n    it(\"should get brevo api key from config when called.\", () => {\n      expect(mocks.services.config.get).toHaveBeenCalledTimes(1);\n      expect(mocks.services.config.get).toHaveBeenCalledWith(\"BREVO_API_KEY\");\n    });\n\n    it(\"should set brevo api key when called.\", () => {\n      expect(transactionalEmailsApiMocks.setApiKey).toHaveBeenCalledTimes(1);\n      expect(transactionalEmailsApiMocks.setApiKey).toHaveBeenCalledWith(Brevo.TransactionalEmailsApiApiKeys.apiKey, mocks.services.config.get(\"BREVO_API_KEY\"));\n    });\n  });\n\n  describe(\"sendStepMail\", () => {\n    beforeEach(() => {\n      mocks.services.mail.sendMail = jest.spyOn(services.mail as unknown as { sendMail }, \"sendMail\").mockResolvedValue(undefined);\n      mocks.services.config.get.mockReturnValueOnce(\"https://daveo.fr\");\n    });\n\n    it(\"should render mail template when called.\", async() => {\n      const user = createFakeWelcomeUser({\n        firstName: \"John\",\n        lastName: \"Doe\",\n        email: \"john@doe.com\",\n        hrReferent: createFakeHrReferent({\n          firstName: \"Jane\",\n          lastName: \"Doe\",\n        }),\n      });\n      const stepUnlockEmail = {\n        subject: \"Welcome to the next step\",\n        body: \"Hey John, you've unlocked the next step!\",\n      };\n      const stepId = \"456\";\n      await services.mail.sendStepMail(user, stepUnlockEmail, stepId);\n      const expectedStepMailData: StepMailData = {\n        appName: \"Daveo\",\n        appUrl: \"https://daveo.fr\",\n        userFirstName: \"John\",\n        userLastName: \"Doe\",\n        managerFirstName: \"Jane\",\n        managerLastName: \"Doe\",\n        stepId,\n      };\n\n      expect(mocks.ejs.renderFile).toHaveBeenCalledTimes(1);\n      expect(mocks.ejs.renderFile).toHaveBeenCalledWith(expect.any(String), expectedStepMailData);\n    });\n\n    it(\"should send mail when called.\", async() => {\n      const user = createFakeWelcomeUser({\n        firstName: \"John\",\n        lastName: \"Doe\",\n        email: \"john@doe.com\",\n        hrReferent: createFakeHrReferent({\n          firstName: \"Jane\",\n          lastName: \"Doe\",\n        }),\n      });\n      const stepUnlockEmail = {\n        subject: \"Welcome to the next step\",\n        body: \"Hey John, you've unlocked the next step!\",\n      };\n      const stepId = \"456\";\n      await services.mail.sendStepMail(user, stepUnlockEmail, stepId);\n      const dummyMailRequirement: MailRequirement = {\n        to: \"john@doe.com\",\n        subject: \"Welcome to the next step\",\n        html: \"<h1>Mocked HTML</h1>\",\n      };\n\n      expect(services.mail[\"sendMail\"]).toHaveBeenCalledTimes(1);\n      expect(services.mail[\"sendMail\"]).toHaveBeenCalledWith(dummyMailRequirement);\n    });\n  });\n\n  describe(\"inviteNewUserMail\", () => {\n    beforeEach(() => {\n      mocks.services.mail.sendMail = jest.spyOn(services.mail as unknown as { sendMail }, \"sendMail\").mockResolvedValue(undefined);\n      mocks.services.config.get.mockReturnValueOnce(\"https://daveo.fr\");\n    });\n\n    it(\"should render mail template when called.\", async() => {\n      const createUserDto = createFakeCreateUserDto({\n        firstName: \"John\",\n        lastName: \"Doe\",\n        email: \"john@doe.com\",\n        hrReferent: createFakeHrReferent({\n          firstName: \"Jane\",\n          lastName: \"Doe\",\n        }),\n      });\n      const password = \"password\";\n      await services.mail.inviteNewUserMail(createUserDto, password);\n      const expectedInviteNewUserMailData: InviteNewUserMailData = {\n        appName: \"Daveo\",\n        appUrl: \"https://daveo.fr\",\n        userFirstName: \"John\",\n        userLastName: \"Doe\",\n        email: \"john@doe.com\",\n        password: \"password\",\n      };\n\n      expect(mocks.ejs.renderFile).toHaveBeenCalledTimes(1);\n      expect(mocks.ejs.renderFile).toHaveBeenCalledWith(expect.any(String), expectedInviteNewUserMailData);\n    });\n\n    it(\"should send mail when called.\", async() => {\n      const createUserDto = createFakeCreateUserDto({\n        firstName: \"John\",\n        lastName: \"Doe\",\n        email: \"john@doe.com\",\n        hrReferent: createFakeHrReferent({\n          firstName: \"Jane\",\n          lastName: \"Doe\",\n        }),\n      });\n      const password = \"password\";\n      await services.mail.inviteNewUserMail(createUserDto, password);\n      const dummyMailRequirement: MailRequirement = {\n        to: \"john@doe.com\",\n        subject: \"Sujet [Welcome] Tes identifiants de connexion\",\n        html: \"<h1>Mocked HTML</h1>\",\n      };\n\n      expect(services.mail[\"sendMail\"]).toHaveBeenCalledTimes(1);\n      expect(services.mail[\"sendMail\"]).toHaveBeenCalledWith(dummyMailRequirement);\n    });\n  });\n\n  describe(\"getMailTemplatePath\", () => {\n    it(\"should return mail template path when called.\", () => {\n      const templateName = \"new-user\";\n      const mailTemplatePath = services.mail[\"getMailTemplatePath\"](templateName);\n      const expectedResult = `src/services/mail/templates/new-user.mail-template.ejs`;\n\n      expect(mailTemplatePath).toContain(expectedResult);\n    });\n  });\n\n  describe(\"getCommonMailData\", () => {\n    it(\"should return common mail data when called.\", () => {\n      mocks.services.config.get.mockReturnValueOnce(\"https://daveo.fr\");\n      const user = {\n        firstName: \"John\",\n        lastName: \"Doe\",\n      };\n      const commonMailData = services.mail[\"getCommonMailData\"](user);\n      const expectedResult = {\n        appName: \"Daveo\",\n        appUrl: \"https://daveo.fr\",\n        userFirstName: user.firstName,\n        userLastName: user.lastName,\n      };\n\n      expect(commonMailData).toStrictEqual(expectedResult);\n    });\n  });\n\n  describe(\"sendMail\", () => {\n    beforeEach(() => {\n      mocks.services.mail.getSmtpMailFromRequirement = jest.spyOn(services.mail as unknown as { getSmtpMailFromRequirement }, \"getSmtpMailFromRequirement\").mockReturnValue({});\n    });\n\n    it(\"should get smtp mail from provided requirements when called.\", async() => {\n      const mailRequirement: MailRequirement = {\n        to: \"Antoine\",\n        subject: \"Hello\",\n        html: \"<p>Hello</p>\",\n      };\n      await services.mail[\"sendMail\"](mailRequirement);\n\n      expect(mocks.services.mail.getSmtpMailFromRequirement).toHaveBeenCalledTimes(1);\n      expect(mocks.services.mail.getSmtpMailFromRequirement).toHaveBeenCalledWith(mailRequirement);\n    });\n\n    it(\"should send transaction email when called.\", async() => {\n      const mailRequirement: MailRequirement = {\n        to: \"Antoine\",\n        subject: \"Hello\",\n        html: \"<p>Hello</p>\",\n      };\n      await services.mail[\"sendMail\"](mailRequirement);\n\n      expect(transactionalEmailsApiMocks.sendTransacEmail).toHaveBeenCalledTimes(1);\n      expect(transactionalEmailsApiMocks.sendTransacEmail).toHaveBeenCalledWith({});\n    });\n\n    it(\"should throw error when send transaction email fails.\", async() => {\n      const mailRequirement: MailRequirement = {\n        to: \"Antoine\",\n        subject: \"Hello\",\n        html: \"<p>Hello</p>\",\n      };\n      const error = new Error(\"Error while sending email\");\n      transactionalEmailsApiMocks.sendTransacEmail.mockRejectedValue(error);\n\n      await expect(services.mail[\"sendMail\"](mailRequirement)).rejects.toThrow(error);\n    });\n  });\n\n  describe(\"getSmtpMailFromRequirement\", () => {\n    it(\"should call getSmtpMailFromRequirement when called.\", () => {\n      const mailRequirement: MailRequirement = {\n        to: \"Antoine\",\n        subject: \"Hello\",\n        html: \"<p>Hello</p>\",\n      };\n      services.mail[\"getSmtpMailFromRequirement\"](mailRequirement);\n\n      expect(Brevo.SendSmtpEmail).toHaveBeenCalledTimes(1);\n      expect(Brevo.SendSmtpEmail).toHaveBeenCalledWith();\n    });\n\n    it(\"should get smtp mail from provided requirements when called.\", () => {\n      const mailRequirement: MailRequirement = {\n        to: \"Antoine\",\n        subject: \"Hello\",\n        html: \"<p>Hello</p>\",\n      };\n      const mail = services.mail[\"getSmtpMailFromRequirement\"](mailRequirement);\n      const expectedResult = {\n        to: [{ email: mailRequirement.to }],\n        sender: {\n          name: \"Daveo - Welcome\",\n          email: \"welcome@daveo.fr\",\n        },\n        subject: mailRequirement.subject,\n        htmlContent: mailRequirement.html,\n      };\n\n      expect(mail).toStrictEqual(expectedResult);\n    });\n  });\n});"
    },
    "tests/unit/services/firestore.service.spec.ts": {
      "tests": [
        {
          "id": "34",
          "name": "FirestoreService getDoc should return a document reference when getDoc is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 72
            }
          }
        },
        {
          "id": "35",
          "name": "FirestoreService getAllDocuments should return an array when no filters.",
          "location": {
            "start": {
              "column": 6,
              "line": 83
            }
          }
        },
        {
          "id": "36",
          "name": "FirestoreService getAllDocuments should return an array when filters.",
          "location": {
            "start": {
              "column": 6,
              "line": 88
            }
          }
        },
        {
          "id": "37",
          "name": "FirestoreService getAllDocuments should throw an InternalServerError when database fails.",
          "location": {
            "start": {
              "column": 6,
              "line": 93
            }
          }
        },
        {
          "id": "38",
          "name": "FirestoreService getDocument should return not found when documentId exists.",
          "location": {
            "start": {
              "column": 6,
              "line": 102
            }
          }
        },
        {
          "id": "39",
          "name": "FirestoreService getDocument should return not found when documentId does not exists.",
          "location": {
            "start": {
              "column": 6,
              "line": 107
            }
          }
        },
        {
          "id": "40",
          "name": "FirestoreService getDocument should throw an InternalServerError when database fails.",
          "location": {
            "start": {
              "column": 6,
              "line": 114
            }
          }
        },
        {
          "id": "41",
          "name": "FirestoreService saveDocument should create when saveDocument called (with _id field).",
          "location": {
            "start": {
              "column": 6,
              "line": 123
            }
          }
        },
        {
          "id": "42",
          "name": "FirestoreService saveDocument should create when saveDocument called (without _id field).",
          "location": {
            "start": {
              "column": 6,
              "line": 128
            }
          }
        },
        {
          "id": "43",
          "name": "FirestoreService saveDocument should throw a ConflictException when document already exists.",
          "location": {
            "start": {
              "column": 6,
              "line": 133
            }
          }
        },
        {
          "id": "44",
          "name": "FirestoreService saveDocument should throw an InternalServerError when database fails.",
          "location": {
            "start": {
              "column": 6,
              "line": 140
            }
          }
        },
        {
          "id": "45",
          "name": "FirestoreService updateDocument should update when updateDocument is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 149
            }
          }
        },
        {
          "id": "46",
          "name": "FirestoreService updateDocument should throw an InternalServerError when database fails.",
          "location": {
            "start": {
              "column": 6,
              "line": 154
            }
          }
        },
        {
          "id": "47",
          "name": "FirestoreService deleteDocument should delete when deleteDocument is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 163
            }
          }
        },
        {
          "id": "48",
          "name": "FirestoreService deleteDocument should throw an InternalServerError when database fails.",
          "location": {
            "start": {
              "column": 6,
              "line": 169
            }
          }
        },
        {
          "id": "49",
          "name": "FirestoreService deleteRecursive should delete when deleteRecursive is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 178
            }
          }
        },
        {
          "id": "50",
          "name": "FirestoreService deleteRecursive should throw an InternalServerError when database fails.",
          "location": {
            "start": {
              "column": 6,
              "line": 184
            }
          }
        },
        {
          "id": "51",
          "name": "FirestoreService updateManyDocuments should update many documents when updateManyDocuments is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 193
            }
          }
        },
        {
          "id": "52",
          "name": "FirestoreService updateManyDocuments should throw an InternalServerError when database fails.",
          "location": {
            "start": {
              "column": 6,
              "line": 199
            }
          }
        }
      ],
      "source": "import { ConflictException, InternalServerErrorException, Logger, NotFoundException } from \"@nestjs/common\";\nimport { Test } from \"@nestjs/testing\";\nimport { Filter, Firestore } from \"@google-cloud/firestore\";\nimport type { DocumentReference, DocumentSnapshot, QueryDocumentSnapshot } from \"@google-cloud/firestore\";\nimport { FirestoreErrorCode } from \"@src/configs/types/Firestore.types\";\nimport type { FIRESTORE_COLLECTIONS } from \"@src/configs/types/Firestore.types\";\nimport { FirestoreService } from \"@src/services/firestore/firestore.service\";\nimport { NoErrorThrownError, getError } from \"@tests/unit/utils\";\n\nconst collection = \"tests\" as FIRESTORE_COLLECTIONS;\nconst documents = [\n  { _id: \"1\", test: \"a\" },\n  { _id: \"2\", test: \"b\" },\n];\n\ndescribe(\"FirestoreService\", () => {\n  let service: FirestoreService;\n\n  beforeEach(async() => {\n    const module = await Test.createTestingModule({\n      providers: [\n        FirestoreService,\n        {\n          provide: Firestore,\n          useValue: {\n            batch: jest.fn().mockReturnValue({\n              commit: jest.fn().mockResolvedValue(undefined),\n              update: jest.fn().mockReturnThis(),\n            }),\n            collection: jest.fn().mockReturnValue({\n              doc: jest.fn().mockReturnValue({\n                get: jest.fn().mockResolvedValue({\n                  exists: true,\n                  data: jest.fn().mockReturnValue(documents[0]),\n                }),\n                create: jest.fn().mockResolvedValue(undefined),\n                update: jest.fn().mockResolvedValue(undefined),\n                delete: jest.fn().mockResolvedValue(undefined),\n              }),\n              get: jest.fn().mockResolvedValue({\n                forEach: jest.fn().mockImplementation((callback: (doc: Partial<QueryDocumentSnapshot>) => void) => documents.map(d => callback({ data: jest.fn().mockReturnValue(d) }))),\n              }),\n              where: jest.fn().mockReturnThis(),\n              add: jest.fn().mockResolvedValue(documents[0]._id),\n            }),\n            recursiveDelete: jest.fn(),\n          },\n        },\n        {\n          provide: Logger,\n          useValue: {\n            log: jest.fn(),\n            error: jest.fn(),\n            debug: jest.fn(),\n            warn: jest.fn(),\n            info: jest.fn(),\n            secure: jest.fn(),\n            isLevelEnabled: jest.fn(() => false),\n          },\n        },\n      ],\n    }).compile();\n\n    service = module.get<FirestoreService>(FirestoreService);\n  });\n\n  afterEach(() => {\n    jest.resetAllMocks();\n  });\n\n  describe(\"getDoc\", () => {\n    it(\"should return a document reference when getDoc is called.\", () => {\n      const docId = \"1\";\n      const docRef = {} as DocumentReference;\n      const spy = jest.spyOn(service[\"firestore\"].collection(collection), \"doc\").mockReturnValue(docRef);\n      const getDoc = service.getDoc(collection, docId);\n      expect(spy).toHaveBeenCalledWith(docId);\n      expect(getDoc).toBe(docRef);\n    });\n  });\n\n  describe(\"getAllDocuments\", () => {\n    it(\"should return an array when no filters.\", async() => {\n      const getAllDocuments = await service.getAllDocuments(collection);\n      expect(getAllDocuments).toStrictEqual(documents);\n    });\n\n    it(\"should return an array when filters.\", async() => {\n      const getAllDocuments = await service.getAllDocuments(collection, Filter.where(\"_id\", \">\", 0));\n      expect(getAllDocuments).toStrictEqual(documents);\n    });\n\n    it(\"should throw an InternalServerError when database fails.\", async() => {\n      jest.spyOn(service[\"firestore\"].collection(collection), \"get\").mockImplementation().mockRejectedValue(new InternalServerErrorException());\n      const error: InternalServerErrorException = await getError(async() => service.getAllDocuments(collection));\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(InternalServerErrorException);\n    });\n  });\n\n  describe(\"getDocument\", () => {\n    it(\"should return not found when documentId exists.\", async() => {\n      const getDocument = await service.getDocument(collection, \"1\");\n      expect(getDocument).toStrictEqual(documents[0]);\n    });\n\n    it(\"should return not found when documentId does not exists.\", async() => {\n      jest.spyOn(service[\"firestore\"].collection(collection).doc(documents[0]._id), \"get\").mockImplementation().mockResolvedValue({ exists: false } as DocumentSnapshot);\n      const error: NotFoundException = await getError(async() => service.getDocument(collection, documents[0]._id));\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(NotFoundException);\n    });\n\n    it(\"should throw an InternalServerError when database fails.\", async() => {\n      jest.spyOn(service[\"firestore\"].collection(collection).doc(documents[0]._id), \"get\").mockImplementation().mockRejectedValue(new InternalServerErrorException());\n      const error: InternalServerErrorException = await getError(async() => service.getDocument(collection, documents[0]._id));\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(InternalServerErrorException);\n    });\n  });\n\n  describe(\"saveDocument\", () => {\n    it(\"should create when saveDocument called (with _id field).\", async() => {\n      const saveDocument = await service.saveDocument(collection, documents[0]);\n      expect(saveDocument).toStrictEqual(documents[0]);\n    });\n\n    it(\"should create when saveDocument called (without _id field).\", async() => {\n      const saveDocument = await service.saveDocument(collection, { test: documents[0].test });\n      expect(saveDocument).toStrictEqual(documents[0]);\n    });\n\n    it(\"should throw a ConflictException when document already exists.\", async() => {\n      jest.spyOn(service[\"firestore\"].collection(collection).doc(documents[0]._id), \"create\").mockImplementation().mockRejectedValue(Object.assign(new Error(), { code: FirestoreErrorCode.ALREADY_EXISTS }));\n      const error: ConflictException = await getError(async() => service.saveDocument(collection, documents[0]));\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(ConflictException);\n    });\n\n    it(\"should throw an InternalServerError when database fails.\", async() => {\n      jest.spyOn(service[\"firestore\"].collection(collection).doc(documents[0]._id), \"create\").mockImplementation().mockRejectedValue(new InternalServerErrorException());\n      const error: InternalServerErrorException = await getError(async() => service.saveDocument(collection, documents[0]));\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(InternalServerErrorException);\n    });\n  });\n\n  describe(\"updateDocument\", () => {\n    it(\"should update when updateDocument is called.\", async() => {\n      const updateDocument = await service.updateDocument(collection, documents[0]._id, documents[0]);\n      expect(updateDocument).toStrictEqual(documents[0]);\n    });\n\n    it(\"should throw an InternalServerError when database fails.\", async() => {\n      jest.spyOn(service[\"firestore\"].collection(collection).doc(documents[0]._id), \"update\").mockImplementation().mockRejectedValue(new InternalServerErrorException());\n      const error: InternalServerErrorException = await getError(async() => service.updateDocument(collection, documents[0]._id, documents[0]));\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(InternalServerErrorException);\n    });\n  });\n\n  describe(\"deleteDocument\", () => {\n    it(\"should delete when deleteDocument is called.\", async() => {\n      const spy = jest.spyOn(service[\"firestore\"].collection(collection).doc(documents[0]._id), \"delete\");\n      await service.deleteDocument(collection, documents[0]._id);\n      expect(spy).toHaveBeenCalledTimes(1);\n    });\n\n    it(\"should throw an InternalServerError when database fails.\", async() => {\n      jest.spyOn(service[\"firestore\"].collection(collection).doc(documents[0]._id), \"delete\").mockImplementation().mockRejectedValue(new InternalServerErrorException());\n      const error: InternalServerErrorException = await getError(async() => service.deleteDocument(collection, documents[0]._id));\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(InternalServerErrorException);\n    });\n  });\n\n  describe(\"deleteRecursive\", () => {\n    it(\"should delete when deleteRecursive is called.\", async() => {\n      const spy = jest.spyOn(service[\"firestore\"], \"recursiveDelete\");\n      await service.deleteRecursive({} as DocumentReference);\n      expect(spy).toHaveBeenCalledTimes(1);\n    });\n\n    it(\"should throw an InternalServerError when database fails.\", async() => {\n      jest.spyOn(service[\"firestore\"], \"recursiveDelete\").mockRejectedValue(new InternalServerErrorException());\n      const error: InternalServerErrorException = await getError(async() => service.deleteRecursive({} as DocumentReference));\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(InternalServerErrorException);\n    });\n  });\n\n  describe(\"updateManyDocuments\", () => {\n    it(\"should update many documents when updateManyDocuments is called.\", async() => {\n      const spy = jest.spyOn(service[\"firestore\"].batch(), \"update\");\n      await service.updateManyDocuments(collection, { test: \"1\" }, { test: \"2\" });\n      expect(spy).toHaveBeenCalledTimes(documents.length);\n    });\n\n    it(\"should throw an InternalServerError when database fails.\", async() => {\n      jest.spyOn(service[\"firestore\"].collection(collection), \"get\").mockImplementation().mockRejectedValue(new InternalServerErrorException());\n      const error: InternalServerErrorException = await getError(async() => service.updateManyDocuments(collection, { test: \"1\" }, { test: \"2\" }));\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(InternalServerErrorException);\n    });\n  });\n});"
    },
    "tests/unit/modules/quiz/quiz.service.spec.ts": {
      "tests": [
        {
          "id": "53",
          "name": "QuizService create should return documentId when create is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 78
            }
          }
        },
        {
          "id": "54",
          "name": "QuizService create should throw when create and quiz already exists (409).",
          "location": {
            "start": {
              "column": 6,
              "line": 83
            }
          }
        },
        {
          "id": "55",
          "name": "QuizService create should throw when create is called and database fails (500).",
          "location": {
            "start": {
              "column": 6,
              "line": 91
            }
          }
        },
        {
          "id": "56",
          "name": "QuizService findAll should return the list of quizzes when findAll is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 101
            }
          }
        },
        {
          "id": "57",
          "name": "QuizService findAll should throw when findAll fails (500).",
          "location": {
            "start": {
              "column": 6,
              "line": 106
            }
          }
        },
        {
          "id": "58",
          "name": "QuizService findOne should return a quiz object when findOne is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 116
            }
          }
        },
        {
          "id": "59",
          "name": "QuizService findOne should throw when the quiz doesn't exists (404).",
          "location": {
            "start": {
              "column": 6,
              "line": 121
            }
          }
        },
        {
          "id": "60",
          "name": "QuizService findOne should throw when database fails (500).",
          "location": {
            "start": {
              "column": 6,
              "line": 129
            }
          }
        },
        {
          "id": "61",
          "name": "QuizService remove should remove when remove is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 139
            }
          }
        },
        {
          "id": "62",
          "name": "QuizService remove should throw when database fails (500).",
          "location": {
            "start": {
              "column": 6,
              "line": 143
            }
          }
        },
        {
          "id": "63",
          "name": "QuizService update should update when update is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 153
            }
          }
        },
        {
          "id": "64",
          "name": "QuizService update should throw when the quiz doesn't exists (404).",
          "location": {
            "start": {
              "column": 6,
              "line": 158
            }
          }
        },
        {
          "id": "65",
          "name": "QuizService update should throw when database fails (500).",
          "location": {
            "start": {
              "column": 6,
              "line": 166
            }
          }
        },
        {
          "id": "66",
          "name": "QuizService checkCorrectness should returns intersection of correct and given answers (all corrects).",
          "location": {
            "start": {
              "column": 6,
              "line": 176
            }
          }
        },
        {
          "id": "67",
          "name": "QuizService checkCorrectness should returns intersection of correct and given answers (some corrects).",
          "location": {
            "start": {
              "column": 6,
              "line": 181
            }
          }
        },
        {
          "id": "68",
          "name": "QuizService checkCorrectness should returns intersection of correct and given answers (all incorrects).",
          "location": {
            "start": {
              "column": 6,
              "line": 186
            }
          }
        },
        {
          "id": "69",
          "name": "QuizService checkCorrectness should throw when the quiz doesn't exists (404).",
          "location": {
            "start": {
              "column": 6,
              "line": 191
            }
          }
        },
        {
          "id": "70",
          "name": "QuizService checkCorrectness should throw when database fails (500).",
          "location": {
            "start": {
              "column": 6,
              "line": 200
            }
          }
        }
      ],
      "source": "import type { HttpException } from \"@nestjs/common\";\nimport { ConflictException, InternalServerErrorException, Logger, NotFoundException } from \"@nestjs/common\";\nimport type { TestingModule } from \"@nestjs/testing\";\nimport { Test } from \"@nestjs/testing\";\nimport { QuizService } from \"@modules/quiz/quiz.service\";\nimport type { Quiz } from \"@modules/quiz/entities/quiz.entity\";\nimport { FirestoreService } from \"@src/services/firestore/firestore.service\";\nimport { NoErrorThrownError, getError } from \"@tests/unit/utils\";\n\nconst quizEntityMock: Quiz = {\n  _id: \"mockedId\",\n  questions: [\n    {\n      label: \"How many are 1 + 1 ?\",\n      answers: [\n        {\n          label: \"0\",\n          isCorrect: false,\n        },\n        {\n          label: \"1\",\n          isCorrect: false,\n        },\n        {\n          label: \"2\",\n          isCorrect: true,\n        },\n        {\n          label: \"3\",\n          isCorrect: false,\n        },\n        {\n          label: \"4/2\",\n          isCorrect: true,\n        },\n      ],\n    },\n  ],\n};\nconst quizCorrectAnswers: Parameters<QuizService[\"checkCorrectness\"]>[2] = [2, 4];\nconst quizSomeCorrectAnswers: Parameters<QuizService[\"checkCorrectness\"]>[2] = [0, 2];\nconst serviceMock = {\n  FirestoreService: (): Partial<FirestoreService> => ({\n    getAllDocuments: jest.fn().mockResolvedValue([quizEntityMock]),\n    getDocument: jest.fn().mockResolvedValue(quizEntityMock),\n    saveDocument: jest.fn().mockResolvedValue(quizEntityMock),\n    updateDocument: jest.fn().mockResolvedValue(quizEntityMock),\n    deleteDocument: jest.fn().mockResolvedValue(undefined),\n  }),\n};\n\ndescribe(\"QuizService\", () => {\n  let service: QuizService;\n\n  beforeEach(async() => {\n    const module: TestingModule = await Test.createTestingModule({\n      providers: [\n        QuizService,\n        {\n          provide: FirestoreService,\n          useFactory: serviceMock.FirestoreService,\n        },\n        {\n          provide: Logger,\n          useFactory: jest.fn,\n        },\n      ],\n    }).compile();\n\n    service = module.get<QuizService>(QuizService);\n  });\n\n  afterEach(() => {\n    jest.resetAllMocks();\n  });\n\n  describe(\"create\", () => {\n    it(\"should return documentId when create is called.\", async() => {\n      const create = await service.create(quizEntityMock);\n      expect(create).toStrictEqual(quizEntityMock);\n    });\n\n    it(\"should throw when create and quiz already exists (409).\", async() => {\n      jest.spyOn(service[\"firestoreService\"], \"saveDocument\").mockImplementation().mockRejectedValue(new ConflictException());\n      const error: HttpException = await getError(async() => service.create(quizEntityMock));\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(ConflictException);\n      expect(error.getStatus()).toBe(409);\n    });\n\n    it(\"should throw when create is called and database fails (500).\", async() => {\n      jest.spyOn(service[\"firestoreService\"], \"saveDocument\").mockImplementation().mockRejectedValue(new InternalServerErrorException());\n      const error: InternalServerErrorException = await getError(async() => service.create(quizEntityMock));\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(InternalServerErrorException);\n      expect(error.getStatus()).toBe(500);\n    });\n  });\n\n  describe(\"findAll\", () => {\n    it(\"should return the list of quizzes when findAll is called.\", async() => {\n      const findAll = await service.findAll();\n      expect(findAll).toStrictEqual([quizEntityMock]);\n    });\n\n    it(\"should throw when findAll fails (500).\", async() => {\n      jest.spyOn(service[\"firestoreService\"], \"getAllDocuments\").mockImplementation().mockRejectedValue(new InternalServerErrorException());\n      const error: InternalServerErrorException = await getError(async() => service.findAll());\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(InternalServerErrorException);\n      expect(error.getStatus()).toBe(500);\n    });\n  });\n\n  describe(\"findOne\", () => {\n    it(\"should return a quiz object when findOne is called.\", async() => {\n      const findOne = await service.findOne(quizEntityMock._id);\n      expect(findOne).toStrictEqual(quizEntityMock);\n    });\n\n    it(\"should throw when the quiz doesn't exists (404).\", async() => {\n      jest.spyOn(service[\"firestoreService\"], \"getDocument\").mockImplementation().mockRejectedValue(new NotFoundException());\n      const error: HttpException = await getError(async() => service.findOne(quizEntityMock._id));\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(NotFoundException);\n      expect(error.getStatus()).toBe(404);\n    });\n\n    it(\"should throw when database fails (500).\", async() => {\n      jest.spyOn(service[\"firestoreService\"], \"getDocument\").mockImplementation().mockRejectedValue(new InternalServerErrorException());\n      const error: InternalServerErrorException = await getError(async() => service.findOne(quizEntityMock._id));\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(InternalServerErrorException);\n      expect(error.getStatus()).toBe(500);\n    });\n  });\n\n  describe(\"remove\", () => {\n    it(\"should remove when remove is called.\", async() => {\n      await expect(service.remove(quizEntityMock._id)).resolves.toBeUndefined();\n    });\n\n    it(\"should throw when database fails (500).\", async() => {\n      jest.spyOn(service[\"firestoreService\"], \"deleteDocument\").mockImplementation().mockRejectedValue(new InternalServerErrorException());\n      const error: InternalServerErrorException = await getError(async() => service.remove(quizEntityMock._id));\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(InternalServerErrorException);\n      expect(error.getStatus()).toBe(500);\n    });\n  });\n\n  describe(\"update\", () => {\n    it(\"should update when update is called.\", async() => {\n      const update = await service.update(quizEntityMock._id, quizEntityMock);\n      expect(update).toStrictEqual(quizEntityMock);\n    });\n\n    it(\"should throw when the quiz doesn't exists (404).\", async() => {\n      jest.spyOn(service[\"firestoreService\"], \"updateDocument\").mockImplementation().mockRejectedValue(new NotFoundException());\n      const error: HttpException = await getError(async() => service.update(quizEntityMock._id, quizEntityMock));\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(NotFoundException);\n      expect(error.getStatus()).toBe(404);\n    });\n\n    it(\"should throw when database fails (500).\", async() => {\n      jest.spyOn(service[\"firestoreService\"], \"updateDocument\").mockImplementation().mockRejectedValue(new InternalServerErrorException());\n      const error: InternalServerErrorException = await getError(async() => service.update(quizEntityMock._id, quizEntityMock));\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(InternalServerErrorException);\n      expect(error.getStatus()).toBe(500);\n    });\n  });\n\n  describe(\"checkCorrectness\", () => {\n    it(\"should returns intersection of correct and given answers (all corrects).\", async() => {\n      const checkCorrectness = await service.checkCorrectness(quizEntityMock._id, 0, quizCorrectAnswers);\n      expect(checkCorrectness).toStrictEqual(quizCorrectAnswers);\n    });\n\n    it(\"should returns intersection of correct and given answers (some corrects).\", async() => {\n      const checkCorrectness = await service.checkCorrectness(quizEntityMock._id, 0, quizSomeCorrectAnswers);\n      expect(checkCorrectness).toStrictEqual(quizSomeCorrectAnswers.filter(value => quizCorrectAnswers.includes(value)));\n    });\n\n    it(\"should returns intersection of correct and given answers (all incorrects).\", async() => {\n      const checkCorrectness = await service.checkCorrectness(quizEntityMock._id, 0, [-1]);\n      expect(checkCorrectness).toStrictEqual([]);\n    });\n\n    it(\"should throw when the quiz doesn't exists (404).\", async() => {\n      jest.spyOn(service[\"firestoreService\"], \"getDocument\").mockImplementation()\n        .mockRejectedValue(new NotFoundException());\n      const error: HttpException = await getError(async() => service.checkCorrectness(quizEntityMock._id, 0, quizCorrectAnswers));\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(NotFoundException);\n      expect(error.getStatus()).toBe(404);\n    });\n\n    it(\"should throw when database fails (500).\", async() => {\n      jest.spyOn(service[\"firestoreService\"], \"getDocument\").mockImplementation().mockRejectedValue(new InternalServerErrorException());\n      const error: InternalServerErrorException = await getError(async() => service.checkCorrectness(quizEntityMock._id, 0, quizCorrectAnswers));\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(InternalServerErrorException);\n      expect(error.getStatus()).toBe(500);\n    });\n  });\n});"
    },
    "tests/unit/modules/welcome/welcome.controller.spec.ts": {
      "tests": [
        {
          "id": "71",
          "name": "Welcome controller create should create an user when create is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 148
            }
          }
        },
        {
          "id": "72",
          "name": "Welcome controller findAll should return an array when findAll is called without filters.",
          "location": {
            "start": {
              "column": 6,
              "line": 155
            }
          }
        },
        {
          "id": "73",
          "name": "Welcome controller findAll should return an array when findAll is called with filters.",
          "location": {
            "start": {
              "column": 6,
              "line": 160
            }
          }
        },
        {
          "id": "74",
          "name": "Welcome controller findOne should return an user when findOne is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 167
            }
          }
        },
        {
          "id": "75",
          "name": "Welcome controller remove should delete an user when remove is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 174
            }
          }
        },
        {
          "id": "76",
          "name": "Welcome controller update should update an user when update is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 182
            }
          }
        },
        {
          "id": "77",
          "name": "Welcome controller run should launch the task and return the result when run is called (OK).",
          "location": {
            "start": {
              "column": 6,
              "line": 189
            }
          }
        },
        {
          "id": "78",
          "name": "Welcome controller run should launch the task and return the result when run is called (KO).",
          "location": {
            "start": {
              "column": 6,
              "line": 195
            }
          }
        },
        {
          "id": "79",
          "name": "Welcome controller updateMySubStep should update the user step when updateMySubStep is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 205
            }
          }
        },
        {
          "id": "80",
          "name": "Welcome controller updateSubStep should update the user step when updateSubStep is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 213
            }
          }
        }
      ],
      "source": "import { WelcomeController } from \"@modules/welcome/welcome.controller\";\nimport { WelcomeService } from \"@modules/welcome/welcome.service\";\nimport { ConfigService } from \"@nestjs/config\";\nimport { Test } from \"@nestjs/testing\";\nimport { ApiKeyGuard } from \"@src/guards/api-key.guard\";\nimport type { Response } from \"express\";\nimport { plainToInstance } from \"class-transformer\";\nimport { Timestamp } from \"@google-cloud/firestore\";\nimport { Practice } from \"@src/modules/welcome/types/user.enum\";\nimport type { CreateUserDto } from \"@src/modules/welcome/dto/input/create-user.dto\";\nimport { WelcomeUserDto } from \"@src/modules/welcome/dto/output/welcome-user.dto\";\nimport type { WelcomeUser } from \"@src/modules/welcome/entities/user.entity\";\nimport { Role } from \"@src/decorators/role\";\nimport type { UserRequest } from \"@src/guards/jwt.guard\";\n\nconst userReq: UserRequest = {\n  user: {\n    id: \"1\",\n    email: \"\",\n    role: Role.USER,\n  },\n};\nconst user: WelcomeUser = {\n  _id: \"1\",\n  note: \"\",\n  email: \"john.doe@127.0.0.1\",\n  signupDate: \"2022-04-24 22:00:00\",\n  firstName: \"John\",\n  lastName: \"Doe\",\n  agency: \"Any\",\n  creationDate: Timestamp.fromDate(new Date(\"2022-04-25 13:24:06.627\")),\n  hrReferent: {\n    firstName: \"Joe\",\n    lastName: \"Bloggs\",\n    email: \"joe.bloggs@127.0.0.1\",\n  },\n  arrivalDate: \"2023-02-01 22:00:00\",\n  lastUpdate: Timestamp.fromDate(new Date(\"2023-02-01 22:00:00\")),\n  practices: [Practice.PRODUCT],\n  steps: [\n    {\n      _id: \"1\",\n      unlockDate: Timestamp.fromDate(new Date(2022, 4, 25, 13, 24, 6)),\n      subStepsCompleted: 1,\n    },\n    {\n      _id: \"2\",\n      unlockDate: Timestamp.fromDate(new Date(2022, 4, 25, 13, 24, 6)),\n      subStepsCompleted: 0,\n    },\n    {\n      _id: \"3\",\n      unlockDate: Timestamp.fromDate(new Date(2022, 4, 25, 13, 24, 6)),\n      subStepsCompleted: 0,\n    },\n  ],\n};\nconst userDto = plainToInstance(WelcomeUserDto, {\n  _id: \"1\",\n  note: \"\",\n  email: \"john.doe@127.0.0.1\",\n  signupDate: \"2022-04-24 22:00:00\",\n  firstName: \"John\",\n  lastName: \"Doe\",\n  agency: \"Any\",\n  creationDate: new Date(\"2022-04-25 13:24:06.627\"),\n  hrReferent: {\n    firstName: \"Joe\",\n    lastName: \"Bloggs\",\n    email: \"joe.bloggs@127.0.0.1\",\n  },\n  arrivalDate: \"2023-02-01 22:00:00\",\n  lastUpdate: new Date(\"2023-02-01 22:00:00\"),\n  practices: [Practice.PRODUCT],\n  steps: [\n    {\n      _id: \"1\",\n      unlockDate: new Date(2022, 4, 25, 13, 24, 6),\n      subStepsCompleted: 1,\n    },\n    {\n      _id: \"2\",\n      unlockDate: new Date(2022, 4, 25, 13, 24, 6),\n      subStepsCompleted: 0,\n    },\n    {\n      _id: \"3\",\n      unlockDate: new Date(2022, 4, 25, 13, 24, 6),\n      subStepsCompleted: 0,\n    },\n  ],\n});\nconst createUserDto: CreateUserDto = {\n  note: \"\",\n  email: \"john.doe@127.0.0.1\",\n  signupDate: \"2022-04-24 22:00:00\",\n  firstName: \"John\",\n  lastName: \"Doe\",\n  agency: \"Any\",\n  hrReferent: {\n    firstName: \"Joe\",\n    lastName: \"Bloggs\",\n    email: \"joe.bloggs@127.0.0.1\",\n  },\n  arrivalDate: \"2023-02-01 22:00:00\",\n  practices: [Practice.PRODUCT],\n};\n\ndescribe(\"Welcome controller\", () => {\n  let controller: WelcomeController;\n  const response = {\n    get statusCode() {\n      return this._status;\n    },\n    status(s: number) {\n      this._status = s;\n\n      return this;\n    },\n    _status: 201,\n  } as unknown as Response;\n\n  beforeEach(async() => {\n    const module = await Test.createTestingModule({\n      controllers: [WelcomeController],\n      providers: [\n        {\n          provide: WelcomeService,\n          useValue: {\n            createUser: jest.fn().mockResolvedValue(user),\n            findAll: jest.fn().mockResolvedValue([user]),\n            findOne: jest.fn().mockResolvedValue(user),\n            remove: jest.fn().mockResolvedValue(undefined),\n            update: jest.fn().mockResolvedValue(user),\n            run: jest.fn().mockResolvedValue([{ status: \"fulfilled\", value: { _id: \"1\" } }]),\n            updateSubStep: jest.fn().mockResolvedValue(user.steps),\n          },\n        },\n        ConfigService,\n        ApiKeyGuard,\n      ],\n    }).compile();\n\n    controller = module.get<WelcomeController>(WelcomeController);\n  });\n\n  describe(\"create\", () => {\n    it(\"should create an user when create is called.\", async() => {\n      const create = await controller.create(createUserDto);\n      expect(create).toStrictEqual(userDto);\n    });\n  });\n\n  describe(\"findAll\", () => {\n    it(\"should return an array when findAll is called without filters.\", async() => {\n      const findAll = await controller.findAll();\n      expect(findAll).toStrictEqual([userDto]);\n    });\n\n    it(\"should return an array when findAll is called with filters.\", async() => {\n      const findAll = await controller.findAll(new Date(), new Date());\n      expect(findAll).toStrictEqual([userDto]);\n    });\n  });\n\n  describe(\"findOne\", () => {\n    it(\"should return an user when findOne is called.\", async() => {\n      const findOne = await controller.findOne(user._id);\n      expect(findOne).toStrictEqual(userDto);\n    });\n  });\n\n  describe(\"remove\", () => {\n    it(\"should delete an user when remove is called.\", async() => {\n      const spy = jest.spyOn(controller[\"welcomeService\"], \"remove\");\n      await controller.remove(user._id);\n      expect(spy).toHaveBeenCalledTimes(1);\n    });\n  });\n\n  describe(\"update\", () => {\n    it(\"should update an user when update is called.\", async() => {\n      const update = await controller.update(user._id, createUserDto);\n      expect(update).toStrictEqual(userDto);\n    });\n  });\n\n  describe(\"run\", () => {\n    it(\"should launch the task and return the result when run is called (OK).\", async() => {\n      const run = await controller.run(response);\n      expect(response.statusCode).toBe(201);\n      expect(run).toStrictEqual([{ status: \"fulfilled\", value: { _id: \"1\" } }]);\n    });\n\n    it(\"should launch the task and return the result when run is called (KO).\", async() => {\n      jest.spyOn(controller[\"welcomeService\"], \"run\").mockImplementation()\n        .mockResolvedValue([{ status: \"rejected\", reason: { _id: \"1\", error: \"unknown\" } }]);\n      const run = await controller.run(response);\n      expect(response.statusCode).toBe(500);\n      expect(run).toStrictEqual([{ status: \"rejected\", reason: { _id: \"1\", error: \"unknown\" } }]);\n    });\n  });\n\n  describe(\"updateMySubStep\", () => {\n    it(\"should update the user step when updateMySubStep is called.\", async() => {\n      const spy = jest.spyOn(controller[\"welcomeService\"], \"updateSubStep\");\n      await controller.updateMySubStep(userReq, \"1\", 2);\n      expect(spy).toHaveBeenCalledTimes(1);\n    });\n  });\n\n  describe(\"updateSubStep\", () => {\n    it(\"should update the user step when updateSubStep is called.\", async() => {\n      const spy = jest.spyOn(controller[\"welcomeService\"], \"updateSubStep\");\n      await controller.updateSubStep(user._id, \"1\", 2);\n      expect(spy).toHaveBeenCalledTimes(1);\n    });\n  });\n});"
    },
    "tests/unit/modules/feedback-question/feedback-question.service.spec.ts": {
      "tests": [
        {
          "id": "81",
          "name": "FeedbackQuestionService create should create a feedback question when createUser is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 56
            }
          }
        },
        {
          "id": "82",
          "name": "FeedbackQuestionService create should throw an InternalServerError when database fails.",
          "location": {
            "start": {
              "column": 6,
              "line": 61
            }
          }
        },
        {
          "id": "83",
          "name": "FeedbackQuestionService findAll should return a feedback question array when findAll is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 70
            }
          }
        },
        {
          "id": "84",
          "name": "FeedbackQuestionService findAll should throw an InternalServerError when database fails.",
          "location": {
            "start": {
              "column": 6,
              "line": 75
            }
          }
        },
        {
          "id": "85",
          "name": "FeedbackQuestionService findOne should return a feedback question when findOne is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 84
            }
          }
        },
        {
          "id": "86",
          "name": "FeedbackQuestionService findOne should throw a NotFound when feedback question does not exists.",
          "location": {
            "start": {
              "column": 6,
              "line": 89
            }
          }
        },
        {
          "id": "87",
          "name": "FeedbackQuestionService findOne should throw an InternalServerError when database fails.",
          "location": {
            "start": {
              "column": 6,
              "line": 96
            }
          }
        },
        {
          "id": "88",
          "name": "FeedbackQuestionService remove should delete a feedback question when remove is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 105
            }
          }
        },
        {
          "id": "89",
          "name": "FeedbackQuestionService remove should throw an InternalServerError when database fails.",
          "location": {
            "start": {
              "column": 6,
              "line": 111
            }
          }
        },
        {
          "id": "90",
          "name": "FeedbackQuestionService update should update a feedback question when update is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 120
            }
          }
        },
        {
          "id": "91",
          "name": "FeedbackQuestionService update should throw an InternalServerError when database fails.",
          "location": {
            "start": {
              "column": 6,
              "line": 125
            }
          }
        }
      ],
      "source": "import { InternalServerErrorException, NotFoundException } from \"@nestjs/common\";\nimport { Test } from \"@nestjs/testing\";\nimport { NoErrorThrownError, getError } from \"@tests/unit/utils\";\nimport { FeedbackQuestionService } from \"@modules/feedback-question/feedback-question.service\";\nimport { FirestoreService } from \"@src/services/firestore/firestore.service\";\nimport type { CreateFeedbackQuestionDto } from \"@modules/feedback-question/dto/create-feedback-question.dto\";\nimport type { FeedbackQuestion } from \"@modules/feedback-question/entities/feedback-question.entity\";\nimport { QuestionType } from \"@modules/feedback-question/types/question-type.enum\";\n\nconst feedbackId = \"1\";\nconst feedbackQuestion: FeedbackQuestion = {\n  _id: \"1\",\n  label: \"Test\",\n  type: QuestionType.FREE,\n  answers: [],\n  minNumberOfAnswers: 1,\n  maxNumberOfAnswers: 1,\n};\nconst createFeedbackQuestionDto: CreateFeedbackQuestionDto = {\n  label: \"Test\",\n  type: QuestionType.FREE,\n  answers: [],\n  minNumberOfAnswers: 1,\n  maxNumberOfAnswers: 1,\n};\n\ndescribe(\"FeedbackQuestionService\", () => {\n  let service: FeedbackQuestionService;\n\n  beforeEach(async() => {\n    const module = await Test.createTestingModule({\n      providers: [\n        FeedbackQuestionService,\n        {\n          provide: FirestoreService,\n          useValue: {\n            getDoc: jest.fn().mockReturnValue(undefined),\n            getAllDocuments: jest.fn().mockResolvedValue([feedbackQuestion]),\n            getDocument: jest.fn().mockResolvedValue(feedbackQuestion),\n            saveDocument: jest.fn().mockResolvedValue(feedbackQuestion),\n            updateDocument: jest.fn().mockResolvedValue(feedbackQuestion),\n            deleteRecursive: jest.fn().mockResolvedValue(undefined),\n          },\n        },\n      ],\n    }).compile();\n\n    service = module.get<FeedbackQuestionService>(FeedbackQuestionService);\n  });\n\n  afterEach(() => {\n    jest.resetAllMocks();\n  });\n\n  describe(\"create\", () => {\n    it(\"should create a feedback question when createUser is called.\", async() => {\n      const create = await service.create(feedbackId, createFeedbackQuestionDto);\n      expect(create).toStrictEqual(feedbackQuestion);\n    });\n\n    it(\"should throw an InternalServerError when database fails.\", async() => {\n      jest.spyOn(service[\"firestoreService\"], \"saveDocument\").mockImplementation().mockRejectedValue(new InternalServerErrorException());\n      const error: InternalServerErrorException = await getError(async() => service.create(feedbackId, createFeedbackQuestionDto));\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(InternalServerErrorException);\n    });\n  });\n\n  describe(\"findAll\", () => {\n    it(\"should return a feedback question array when findAll is called.\", async() => {\n      const findAll = await service.findAll(feedbackId);\n      expect(findAll).toStrictEqual([feedbackQuestion]);\n    });\n\n    it(\"should throw an InternalServerError when database fails.\", async() => {\n      jest.spyOn(service[\"firestoreService\"], \"getAllDocuments\").mockImplementation().mockRejectedValue(new InternalServerErrorException());\n      const error: InternalServerErrorException = await getError(async() => service.findAll(feedbackId));\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(InternalServerErrorException);\n    });\n  });\n\n  describe(\"findOne\", () => {\n    it(\"should return a feedback question when findOne is called.\", async() => {\n      const findOne = await service.findOne(feedbackId, feedbackQuestion._id);\n      expect(findOne).toStrictEqual(feedbackQuestion);\n    });\n\n    it(\"should throw a NotFound when feedback question does not exists.\", async() => {\n      jest.spyOn(service[\"firestoreService\"], \"getDocument\").mockImplementation().mockRejectedValue(new NotFoundException());\n      const error: InternalServerErrorException = await getError(async() => service.findOne(feedbackId, feedbackQuestion._id));\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(NotFoundException);\n    });\n\n    it(\"should throw an InternalServerError when database fails.\", async() => {\n      jest.spyOn(service[\"firestoreService\"], \"getDocument\").mockImplementation().mockRejectedValue(new InternalServerErrorException());\n      const error: InternalServerErrorException = await getError(async() => service.findOne(feedbackId, feedbackQuestion._id));\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(InternalServerErrorException);\n    });\n  });\n\n  describe(\"remove\", () => {\n    it(\"should delete a feedback question when remove is called.\", async() => {\n      const spy = jest.spyOn(service[\"firestoreService\"], \"deleteRecursive\");\n      await service.remove(feedbackId, feedbackQuestion._id);\n      expect(spy).toHaveBeenCalledTimes(1);\n    });\n\n    it(\"should throw an InternalServerError when database fails.\", async() => {\n      jest.spyOn(service[\"firestoreService\"], \"deleteRecursive\").mockImplementation().mockRejectedValue(new InternalServerErrorException());\n      const error: InternalServerErrorException = await getError(async() => service.remove(feedbackId, feedbackQuestion._id));\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(InternalServerErrorException);\n    });\n  });\n\n  describe(\"update\", () => {\n    it(\"should update a feedback question when update is called.\", async() => {\n      const update = await service.update(feedbackId, feedbackQuestion._id, createFeedbackQuestionDto);\n      expect(update).toStrictEqual(feedbackQuestion);\n    });\n\n    it(\"should throw an InternalServerError when database fails.\", async() => {\n      jest.spyOn(service[\"firestoreService\"], \"updateDocument\").mockImplementation().mockRejectedValue(new InternalServerErrorException());\n      const error: InternalServerErrorException = await getError(async() => service.update(feedbackId, feedbackQuestion._id, createFeedbackQuestionDto));\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(InternalServerErrorException);\n    });\n  });\n});"
    },
    "tests/unit/modules/feedback-answer/feedback-answer.service.spec.ts": {
      "tests": [
        {
          "id": "92",
          "name": "FeedbackAnswerService create should create a feedback answer when createUser is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 46
            }
          }
        },
        {
          "id": "93",
          "name": "FeedbackAnswerService create should throw an InternalServerError when database fails.",
          "location": {
            "start": {
              "column": 6,
              "line": 51
            }
          }
        },
        {
          "id": "94",
          "name": "FeedbackAnswerService findAll should return a feedback answer array when findAll is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 60
            }
          }
        },
        {
          "id": "95",
          "name": "FeedbackAnswerService findAll should throw an InternalServerError when database fails.",
          "location": {
            "start": {
              "column": 6,
              "line": 65
            }
          }
        },
        {
          "id": "96",
          "name": "FeedbackAnswerService findOne should return a feedback answer when findOne is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 74
            }
          }
        },
        {
          "id": "97",
          "name": "FeedbackAnswerService findOne should throw a NotFound when feedback answer does not exists.",
          "location": {
            "start": {
              "column": 6,
              "line": 79
            }
          }
        },
        {
          "id": "98",
          "name": "FeedbackAnswerService findOne should throw an InternalServerError when database fails.",
          "location": {
            "start": {
              "column": 6,
              "line": 86
            }
          }
        },
        {
          "id": "99",
          "name": "FeedbackAnswerService remove should delete a feedback answer when remove is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 95
            }
          }
        },
        {
          "id": "100",
          "name": "FeedbackAnswerService remove should throw an InternalServerError when database fails.",
          "location": {
            "start": {
              "column": 6,
              "line": 101
            }
          }
        },
        {
          "id": "101",
          "name": "FeedbackAnswerService update should update a feedback answer when update is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 110
            }
          }
        },
        {
          "id": "102",
          "name": "FeedbackAnswerService update should throw an InternalServerError when database fails.",
          "location": {
            "start": {
              "column": 6,
              "line": 115
            }
          }
        }
      ],
      "source": "import { InternalServerErrorException, NotFoundException } from \"@nestjs/common\";\nimport { Test } from \"@nestjs/testing\";\nimport { NoErrorThrownError, getError } from \"@tests/unit/utils\";\nimport { FeedbackAnswerService } from \"@modules/feedback-answer/feedback-answer.service\";\nimport { FirestoreService } from \"@src/services/firestore/firestore.service\";\nimport type { FeedbackAnswer } from \"@modules/feedback-answer/entities/feedback-answer.entity\";\n\nconst feedbackId = \"1\";\nconst feedbackQuestionId = \"1\";\nconst feedbackAnswer: FeedbackAnswer = {\n  _id: \"1\",\n  answers: [],\n};\nconst createFeedbackAnswerDto: string[] = [\"a\", \"b\"];\n\ndescribe(\"FeedbackAnswerService\", () => {\n  let service: FeedbackAnswerService;\n\n  beforeEach(async() => {\n    const module = await Test.createTestingModule({\n      providers: [\n        FeedbackAnswerService,\n        {\n          provide: FirestoreService,\n          useValue: {\n            getDoc: jest.fn().mockReturnValue(undefined),\n            getAllDocuments: jest.fn().mockResolvedValue([feedbackAnswer]),\n            getDocument: jest.fn().mockResolvedValue(feedbackAnswer),\n            saveDocument: jest.fn().mockResolvedValue(feedbackAnswer),\n            updateDocument: jest.fn().mockResolvedValue(feedbackAnswer),\n            deleteDocument: jest.fn().mockResolvedValue(undefined),\n            deleteCollection: jest.fn().mockResolvedValue(undefined),\n          },\n        },\n      ],\n    }).compile();\n\n    service = module.get<FeedbackAnswerService>(FeedbackAnswerService);\n  });\n\n  afterEach(() => {\n    jest.resetAllMocks();\n  });\n\n  describe(\"create\", () => {\n    it(\"should create a feedback answer when createUser is called.\", async() => {\n      const create = await service.create(feedbackId, feedbackQuestionId, feedbackAnswer._id, createFeedbackAnswerDto);\n      expect(create).toStrictEqual(feedbackAnswer);\n    });\n\n    it(\"should throw an InternalServerError when database fails.\", async() => {\n      jest.spyOn(service[\"firestoreService\"], \"saveDocument\").mockImplementation().mockRejectedValue(new InternalServerErrorException());\n      const error: InternalServerErrorException = await getError(async() => service.create(feedbackId, feedbackQuestionId, feedbackAnswer._id, createFeedbackAnswerDto));\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(InternalServerErrorException);\n    });\n  });\n\n  describe(\"findAll\", () => {\n    it(\"should return a feedback answer array when findAll is called.\", async() => {\n      const findAll = await service.findAll(feedbackId, feedbackQuestionId);\n      expect(findAll).toStrictEqual([feedbackAnswer]);\n    });\n\n    it(\"should throw an InternalServerError when database fails.\", async() => {\n      jest.spyOn(service[\"firestoreService\"], \"getAllDocuments\").mockImplementation().mockRejectedValue(new InternalServerErrorException());\n      const error: InternalServerErrorException = await getError(async() => service.findAll(feedbackId, feedbackQuestionId));\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(InternalServerErrorException);\n    });\n  });\n\n  describe(\"findOne\", () => {\n    it(\"should return a feedback answer when findOne is called.\", async() => {\n      const findOne = await service.findOne(feedbackId, feedbackQuestionId, feedbackAnswer._id);\n      expect(findOne).toStrictEqual(feedbackAnswer);\n    });\n\n    it(\"should throw a NotFound when feedback answer does not exists.\", async() => {\n      jest.spyOn(service[\"firestoreService\"], \"getDocument\").mockImplementation().mockRejectedValue(new NotFoundException());\n      const error: InternalServerErrorException = await getError(async() => service.findOne(feedbackId, feedbackQuestionId, feedbackAnswer._id));\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(NotFoundException);\n    });\n\n    it(\"should throw an InternalServerError when database fails.\", async() => {\n      jest.spyOn(service[\"firestoreService\"], \"getDocument\").mockImplementation().mockRejectedValue(new InternalServerErrorException());\n      const error: InternalServerErrorException = await getError(async() => service.findOne(feedbackId, feedbackQuestionId, feedbackAnswer._id));\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(InternalServerErrorException);\n    });\n  });\n\n  describe(\"remove\", () => {\n    it(\"should delete a feedback answer when remove is called.\", async() => {\n      const spy = jest.spyOn(service[\"firestoreService\"], \"deleteDocument\");\n      await service.remove(feedbackId, feedbackQuestionId, feedbackAnswer._id);\n      expect(spy).toHaveBeenCalledTimes(1);\n    });\n\n    it(\"should throw an InternalServerError when database fails.\", async() => {\n      jest.spyOn(service[\"firestoreService\"], \"deleteDocument\").mockImplementation().mockRejectedValue(new InternalServerErrorException());\n      const error: InternalServerErrorException = await getError(async() => service.remove(feedbackId, feedbackQuestionId, feedbackAnswer._id));\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(InternalServerErrorException);\n    });\n  });\n\n  describe(\"update\", () => {\n    it(\"should update a feedback answer when update is called.\", async() => {\n      const update = await service.update(feedbackId, feedbackQuestionId, feedbackAnswer._id, createFeedbackAnswerDto);\n      expect(update).toStrictEqual(feedbackAnswer);\n    });\n\n    it(\"should throw an InternalServerError when database fails.\", async() => {\n      jest.spyOn(service[\"firestoreService\"], \"updateDocument\").mockImplementation().mockRejectedValue(new InternalServerErrorException());\n      const error: InternalServerErrorException = await getError(async() => service.update(feedbackId, feedbackQuestionId, feedbackAnswer._id, createFeedbackAnswerDto));\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(InternalServerErrorException);\n    });\n  });\n});"
    },
    "tests/unit/modules/step/step.service.spec.ts": {
      "tests": [
        {
          "id": "103",
          "name": "StepService create should create a step when create is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 60
            }
          }
        },
        {
          "id": "104",
          "name": "StepService create should throw an InternalServerError when database fails.",
          "location": {
            "start": {
              "column": 6,
              "line": 65
            }
          }
        },
        {
          "id": "105",
          "name": "StepService findAll should return an array of steps when findAll is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 74
            }
          }
        },
        {
          "id": "106",
          "name": "StepService findAll should throw an InternalServerError when database fails.",
          "location": {
            "start": {
              "column": 6,
              "line": 79
            }
          }
        },
        {
          "id": "107",
          "name": "StepService findOne should return a step when findOne is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 88
            }
          }
        },
        {
          "id": "108",
          "name": "StepService findOne should throw an InternalServerError when database fails.",
          "location": {
            "start": {
              "column": 6,
              "line": 93
            }
          }
        },
        {
          "id": "109",
          "name": "StepService delete should delete a step when remove is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 102
            }
          }
        },
        {
          "id": "110",
          "name": "StepService delete should throw an InternalServerError when database fails.",
          "location": {
            "start": {
              "column": 6,
              "line": 108
            }
          }
        },
        {
          "id": "111",
          "name": "StepService update should update a step when update is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 117
            }
          }
        },
        {
          "id": "112",
          "name": "StepService update should throw an InternalServerError when database fails.",
          "location": {
            "start": {
              "column": 6,
              "line": 122
            }
          }
        },
        {
          "id": "113",
          "name": "StepService generateSteps should generate steps when generateSteps is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 131
            }
          }
        },
        {
          "id": "114",
          "name": "StepService generateSteps should throw an InternalServerError when database fails.",
          "location": {
            "start": {
              "column": 6,
              "line": 136
            }
          }
        }
      ],
      "source": "import { Test } from \"@nestjs/testing\";\nimport { InternalServerErrorException, Logger } from \"@nestjs/common\";\nimport { StepService } from \"@modules/step/step.service\";\nimport { FirestoreService } from \"@src/services/firestore/firestore.service\";\nimport type { Step } from \"@src/modules/step/entities/step.entity\";\nimport { NoErrorThrownError, getError } from \"@tests/unit/utils\";\n\nconst step: Step = {\n  _id: \"1\",\n  cutAt: 0,\n  minDays: 30,\n  maxDays: 90,\n  unlockEmail: {\n    subject: \"Test\",\n    body: \"1234\",\n  },\n  subSteps: 1,\n};\n\ndescribe(\"StepService\", () => {\n  let service: StepService;\n\n  beforeEach(async() => {\n    const module = await Test.createTestingModule({\n      providers: [\n        StepService,\n        {\n          provide: FirestoreService,\n          useValue: {\n            getAllDocuments: jest.fn().mockResolvedValue([step]),\n            getDocument: jest.fn().mockResolvedValue(step),\n            saveDocument: jest.fn().mockResolvedValue(step),\n            updateDocument: jest.fn().mockResolvedValue(step),\n            deleteDocument: jest.fn().mockResolvedValue(undefined),\n          },\n        },\n        {\n          provide: Logger,\n          useValue: {\n            log: jest.fn(),\n            error: jest.fn(),\n            debug: jest.fn(),\n            warn: jest.fn(),\n            info: jest.fn(),\n            secure: jest.fn(),\n            isLevelEnabled: jest.fn(() => false),\n          },\n        },\n      ],\n    }).compile();\n\n    service = module.get<StepService>(StepService);\n  });\n\n  afterEach(() => {\n    jest.resetAllMocks();\n  });\n\n  describe(\"create\", () => {\n    it(\"should create a step when create is called.\", async() => {\n      const create = await service.create(step);\n      expect(create).toStrictEqual(step);\n    });\n\n    it(\"should throw an InternalServerError when database fails.\", async() => {\n      jest.spyOn(service[\"firestoreService\"], \"saveDocument\").mockImplementation().mockRejectedValue(new InternalServerErrorException());\n      const error: InternalServerErrorException = await getError(async() => service.create(step));\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(InternalServerErrorException);\n    });\n  });\n\n  describe(\"findAll\", () => {\n    it(\"should return an array of steps when findAll is called.\", async() => {\n      const findAll = await service.findAll();\n      expect(findAll).toStrictEqual([step]);\n    });\n\n    it(\"should throw an InternalServerError when database fails.\", async() => {\n      jest.spyOn(service[\"firestoreService\"], \"getAllDocuments\").mockImplementation().mockRejectedValue(new InternalServerErrorException());\n      const error: InternalServerErrorException = await getError(async() => service.findAll());\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(InternalServerErrorException);\n    });\n  });\n\n  describe(\"findOne\", () => {\n    it(\"should return a step when findOne is called.\", async() => {\n      const findOne = await service.findOne(step._id);\n      expect(findOne).toStrictEqual(step);\n    });\n\n    it(\"should throw an InternalServerError when database fails.\", async() => {\n      jest.spyOn(service[\"firestoreService\"], \"getDocument\").mockImplementation().mockRejectedValue(new InternalServerErrorException());\n      const error: InternalServerErrorException = await getError(async() => service.findOne(step._id));\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(InternalServerErrorException);\n    });\n  });\n\n  describe(\"delete\", () => {\n    it(\"should delete a step when remove is called.\", async() => {\n      const spy = jest.spyOn(service[\"firestoreService\"], \"deleteDocument\");\n      await service.remove(step._id);\n      expect(spy).toHaveBeenCalledTimes(1);\n    });\n\n    it(\"should throw an InternalServerError when database fails.\", async() => {\n      jest.spyOn(service[\"firestoreService\"], \"deleteDocument\").mockImplementation().mockRejectedValue(new InternalServerErrorException());\n      const error: InternalServerErrorException = await getError(async() => service.remove(step._id));\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(InternalServerErrorException);\n    });\n  });\n\n  describe(\"update\", () => {\n    it(\"should update a step when update is called.\", async() => {\n      const update = await service.update(step._id, step);\n      expect(update).toStrictEqual(step);\n    });\n\n    it(\"should throw an InternalServerError when database fails.\", async() => {\n      jest.spyOn(service[\"firestoreService\"], \"updateDocument\").mockImplementation().mockRejectedValue(new InternalServerErrorException());\n      const error: InternalServerErrorException = await getError(async() => service.update(step._id, step));\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(InternalServerErrorException);\n    });\n  });\n\n  describe(\"generateSteps\", () => {\n    it(\"should generate steps when generateSteps is called.\", async() => {\n      const generateSteps = await service.generateSteps(new Date(2024, 0, 2), new Date(2024, 1, 15));\n      expect(generateSteps).toStrictEqual([{ step, dt: new Date(2024, 0, 2) }]);\n    });\n\n    it(\"should throw an InternalServerError when database fails.\", async() => {\n      jest.spyOn(service[\"firestoreService\"], \"getAllDocuments\").mockImplementation().mockRejectedValue(new InternalServerErrorException());\n      const error: InternalServerErrorException = await getError(async() => service.generateSteps(new Date(2024, 0, 2), new Date(2024, 1, 15)));\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(InternalServerErrorException);\n    });\n  });\n});"
    },
    "tests/unit/modules/feedback/feedback.service.spec.ts": {
      "tests": [
        {
          "id": "115",
          "name": "FeedbackService create should create a feedback when createUser is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 45
            }
          }
        },
        {
          "id": "116",
          "name": "FeedbackService create should throw an InternalServerError when database fails.",
          "location": {
            "start": {
              "column": 6,
              "line": 50
            }
          }
        },
        {
          "id": "117",
          "name": "FeedbackService findAll should return a feedback array when findAll is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 59
            }
          }
        },
        {
          "id": "118",
          "name": "FeedbackService findAll should throw an InternalServerError when database fails.",
          "location": {
            "start": {
              "column": 6,
              "line": 64
            }
          }
        },
        {
          "id": "119",
          "name": "FeedbackService findOne should return a feedback when findOne is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 73
            }
          }
        },
        {
          "id": "120",
          "name": "FeedbackService findOne should throw a NotFound when feedback does not exists.",
          "location": {
            "start": {
              "column": 6,
              "line": 78
            }
          }
        },
        {
          "id": "121",
          "name": "FeedbackService findOne should throw an InternalServerError when database fails.",
          "location": {
            "start": {
              "column": 6,
              "line": 85
            }
          }
        },
        {
          "id": "122",
          "name": "FeedbackService remove should delete a feedback when remove is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 94
            }
          }
        },
        {
          "id": "123",
          "name": "FeedbackService remove should throw an InternalServerError when database fails.",
          "location": {
            "start": {
              "column": 6,
              "line": 100
            }
          }
        },
        {
          "id": "124",
          "name": "FeedbackService update should update a feedback when update is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 109
            }
          }
        },
        {
          "id": "125",
          "name": "FeedbackService update should throw an InternalServerError when database fails.",
          "location": {
            "start": {
              "column": 6,
              "line": 114
            }
          }
        }
      ],
      "source": "import { InternalServerErrorException, NotFoundException } from \"@nestjs/common\";\nimport { Test } from \"@nestjs/testing\";\nimport { NoErrorThrownError, getError } from \"@tests/unit/utils\";\nimport { FeedbackService } from \"@modules/feedback/feedback.service\";\nimport { FirestoreService } from \"@src/services/firestore/firestore.service\";\nimport type { CreateFeedbackDto } from \"@modules/feedback/dto/create-feedback.dto\";\nimport type { Feedback } from \"@modules/feedback/entities/feedback.entity\";\n\nconst feedback: Feedback = {\n  _id: \"1\",\n};\nconst createFeedbackDto: CreateFeedbackDto = {\n  _id: \"1\",\n};\n\ndescribe(\"FeedbackService\", () => {\n  let service: FeedbackService;\n\n  beforeEach(async() => {\n    const module = await Test.createTestingModule({\n      providers: [\n        FeedbackService,\n        {\n          provide: FirestoreService,\n          useValue: {\n            getDoc: jest.fn().mockReturnValue(undefined),\n            getAllDocuments: jest.fn().mockResolvedValue([feedback]),\n            getDocument: jest.fn().mockResolvedValue(feedback),\n            saveDocument: jest.fn().mockResolvedValue(feedback),\n            updateDocument: jest.fn().mockResolvedValue(feedback),\n            deleteRecursive: jest.fn().mockResolvedValue(undefined),\n          },\n        },\n      ],\n    }).compile();\n\n    service = module.get<FeedbackService>(FeedbackService);\n  });\n\n  afterEach(() => {\n    jest.resetAllMocks();\n  });\n\n  describe(\"create\", () => {\n    it(\"should create a feedback when createUser is called.\", async() => {\n      const create = await service.create(createFeedbackDto);\n      expect(create).toStrictEqual(feedback);\n    });\n\n    it(\"should throw an InternalServerError when database fails.\", async() => {\n      jest.spyOn(service[\"firestoreService\"], \"saveDocument\").mockImplementation().mockRejectedValue(new InternalServerErrorException());\n      const error: InternalServerErrorException = await getError(async() => service.create(createFeedbackDto));\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(InternalServerErrorException);\n    });\n  });\n\n  describe(\"findAll\", () => {\n    it(\"should return a feedback array when findAll is called.\", async() => {\n      const findAll = await service.findAll();\n      expect(findAll).toStrictEqual([feedback]);\n    });\n\n    it(\"should throw an InternalServerError when database fails.\", async() => {\n      jest.spyOn(service[\"firestoreService\"], \"getAllDocuments\").mockImplementation().mockRejectedValue(new InternalServerErrorException());\n      const error: InternalServerErrorException = await getError(async() => service.findAll());\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(InternalServerErrorException);\n    });\n  });\n\n  describe(\"findOne\", () => {\n    it(\"should return a feedback when findOne is called.\", async() => {\n      const findOne = await service.findOne(feedback._id);\n      expect(findOne).toStrictEqual(feedback);\n    });\n\n    it(\"should throw a NotFound when feedback does not exists.\", async() => {\n      jest.spyOn(service[\"firestoreService\"], \"getDocument\").mockImplementation().mockRejectedValue(new NotFoundException());\n      const error: InternalServerErrorException = await getError(async() => service.findOne(feedback._id));\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(NotFoundException);\n    });\n\n    it(\"should throw an InternalServerError when database fails.\", async() => {\n      jest.spyOn(service[\"firestoreService\"], \"getDocument\").mockImplementation().mockRejectedValue(new InternalServerErrorException());\n      const error: InternalServerErrorException = await getError(async() => service.findOne(feedback._id));\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(InternalServerErrorException);\n    });\n  });\n\n  describe(\"remove\", () => {\n    it(\"should delete a feedback when remove is called.\", async() => {\n      const spy = jest.spyOn(service[\"firestoreService\"], \"deleteRecursive\");\n      await service.remove(feedback._id);\n      expect(spy).toHaveBeenCalledTimes(1);\n    });\n\n    it(\"should throw an InternalServerError when database fails.\", async() => {\n      jest.spyOn(service[\"firestoreService\"], \"deleteRecursive\").mockImplementation().mockRejectedValue(new InternalServerErrorException());\n      const error: InternalServerErrorException = await getError(async() => service.remove(feedback._id));\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(InternalServerErrorException);\n    });\n  });\n\n  describe(\"update\", () => {\n    it(\"should update a feedback when update is called.\", async() => {\n      const update = await service.update(feedback._id, createFeedbackDto);\n      expect(update).toStrictEqual(feedback);\n    });\n\n    it(\"should throw an InternalServerError when database fails.\", async() => {\n      jest.spyOn(service[\"firestoreService\"], \"updateDocument\").mockImplementation().mockRejectedValue(new InternalServerErrorException());\n      const error: InternalServerErrorException = await getError(async() => service.update(feedback._id, createFeedbackDto));\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(InternalServerErrorException);\n    });\n  });\n});"
    },
    "tests/unit/modules/practice/practice.service.spec.ts": {
      "tests": [
        {
          "id": "126",
          "name": "PracticeService create should create a practice when create is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 40
            }
          }
        },
        {
          "id": "127",
          "name": "PracticeService create should throw an InternalServerError when database fails.",
          "location": {
            "start": {
              "column": 6,
              "line": 45
            }
          }
        },
        {
          "id": "128",
          "name": "PracticeService findAll should return a practice array when findAll is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 54
            }
          }
        },
        {
          "id": "129",
          "name": "PracticeService findAll should throw an InternalServerError when database fails.",
          "location": {
            "start": {
              "column": 6,
              "line": 59
            }
          }
        },
        {
          "id": "130",
          "name": "PracticeService findOne should return a practice when findOne is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 68
            }
          }
        },
        {
          "id": "131",
          "name": "PracticeService findOne should throw a NotFound when practice does not exists.",
          "location": {
            "start": {
              "column": 6,
              "line": 73
            }
          }
        },
        {
          "id": "132",
          "name": "PracticeService findOne should throw an InternalServerError when database fails.",
          "location": {
            "start": {
              "column": 6,
              "line": 80
            }
          }
        },
        {
          "id": "133",
          "name": "PracticeService remove should delete a practice when remove is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 89
            }
          }
        },
        {
          "id": "134",
          "name": "PracticeService remove should throw an InternalServerError when database fails.",
          "location": {
            "start": {
              "column": 6,
              "line": 95
            }
          }
        },
        {
          "id": "135",
          "name": "PracticeService update should update a practice when update is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 104
            }
          }
        },
        {
          "id": "136",
          "name": "PracticeService update should throw an InternalServerError when database fails.",
          "location": {
            "start": {
              "column": 6,
              "line": 109
            }
          }
        }
      ],
      "source": "import { InternalServerErrorException, NotFoundException } from \"@nestjs/common\";\nimport { Test } from \"@nestjs/testing\";\nimport { NoErrorThrownError, getError } from \"@tests/unit/utils\";\nimport { PracticeService } from \"@modules/practice/practice.service\";\nimport { FirestoreService } from \"@src/services/firestore/firestore.service\";\nimport { createFakeCreatePracticeDto } from \"@tests/unit/factories/dtos/create-practice.dto.factory\";\nimport { createFakePractice } from \"@tests/unit/factories/entities/practice.entity.factory\";\n\nconst practice = createFakePractice();\nconst createPracticeDto = createFakeCreatePracticeDto();\n\ndescribe(\"PracticeService\", () => {\n  let service: PracticeService;\n\n  beforeEach(async() => {\n    const module = await Test.createTestingModule({\n      providers: [\n        PracticeService,\n        {\n          provide: FirestoreService,\n          useValue: {\n            getAllDocuments: jest.fn().mockResolvedValue([practice]),\n            getDocument: jest.fn().mockResolvedValue(practice),\n            saveDocument: jest.fn().mockResolvedValue(practice),\n            updateDocument: jest.fn().mockResolvedValue(practice),\n            deleteDocument: jest.fn().mockResolvedValue(undefined),\n          },\n        },\n      ],\n    }).compile();\n\n    service = module.get<PracticeService>(PracticeService);\n  });\n\n  afterEach(() => {\n    jest.resetAllMocks();\n  });\n\n  describe(\"create\", () => {\n    it(\"should create a practice when create is called.\", async() => {\n      const create = await service.create(createPracticeDto);\n      expect(create).toStrictEqual(practice);\n    });\n\n    it(\"should throw an InternalServerError when database fails.\", async() => {\n      jest.spyOn(service[\"firestoreService\"], \"saveDocument\").mockImplementation().mockRejectedValue(new InternalServerErrorException());\n      const error: InternalServerErrorException = await getError(async() => service.create(createPracticeDto));\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(InternalServerErrorException);\n    });\n  });\n\n  describe(\"findAll\", () => {\n    it(\"should return a practice array when findAll is called.\", async() => {\n      const findAll = await service.findAll();\n      expect(findAll).toStrictEqual([practice]);\n    });\n\n    it(\"should throw an InternalServerError when database fails.\", async() => {\n      jest.spyOn(service[\"firestoreService\"], \"getAllDocuments\").mockImplementation().mockRejectedValue(new InternalServerErrorException());\n      const error: InternalServerErrorException = await getError(async() => service.findAll());\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(InternalServerErrorException);\n    });\n  });\n\n  describe(\"findOne\", () => {\n    it(\"should return a practice when findOne is called.\", async() => {\n      const findOne = await service.findOne(practice._id);\n      expect(findOne).toStrictEqual(practice);\n    });\n\n    it(\"should throw a NotFound when practice does not exists.\", async() => {\n      jest.spyOn(service[\"firestoreService\"], \"getDocument\").mockImplementation().mockRejectedValue(new NotFoundException());\n      const error: InternalServerErrorException = await getError(async() => service.findOne(practice._id));\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(NotFoundException);\n    });\n\n    it(\"should throw an InternalServerError when database fails.\", async() => {\n      jest.spyOn(service[\"firestoreService\"], \"getDocument\").mockImplementation().mockRejectedValue(new InternalServerErrorException());\n      const error: InternalServerErrorException = await getError(async() => service.findOne(practice._id));\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(InternalServerErrorException);\n    });\n  });\n\n  describe(\"remove\", () => {\n    it(\"should delete a practice when remove is called.\", async() => {\n      const spy = jest.spyOn(service[\"firestoreService\"], \"deleteDocument\");\n      await service.remove(practice._id);\n      expect(spy).toHaveBeenCalledTimes(1);\n    });\n\n    it(\"should throw an InternalServerError when database fails.\", async() => {\n      jest.spyOn(service[\"firestoreService\"], \"deleteDocument\").mockImplementation().mockRejectedValue(new InternalServerErrorException());\n      const error: InternalServerErrorException = await getError(async() => service.remove(practice._id));\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(InternalServerErrorException);\n    });\n  });\n\n  describe(\"update\", () => {\n    it(\"should update a practice when update is called.\", async() => {\n      const update = await service.update(practice._id, createPracticeDto);\n      expect(update).toStrictEqual(practice);\n    });\n\n    it(\"should throw an InternalServerError when database fails.\", async() => {\n      jest.spyOn(service[\"firestoreService\"], \"updateDocument\").mockImplementation().mockRejectedValue(new InternalServerErrorException());\n      const error: InternalServerErrorException = await getError(async() => service.update(practice._id, createPracticeDto));\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(InternalServerErrorException);\n    });\n  });\n});"
    },
    "tests/unit/modules/client/client.service.spec.ts": {
      "tests": [
        {
          "id": "137",
          "name": "ClientService create should create a client when create is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 40
            }
          }
        },
        {
          "id": "138",
          "name": "ClientService create should throw an InternalServerError when database fails.",
          "location": {
            "start": {
              "column": 6,
              "line": 45
            }
          }
        },
        {
          "id": "139",
          "name": "ClientService findAll should return a client array when findAll is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 54
            }
          }
        },
        {
          "id": "140",
          "name": "ClientService findAll should throw an InternalServerError when database fails.",
          "location": {
            "start": {
              "column": 6,
              "line": 59
            }
          }
        },
        {
          "id": "141",
          "name": "ClientService findOne should return a client when findOne is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 68
            }
          }
        },
        {
          "id": "142",
          "name": "ClientService findOne should throw a NotFound when client does not exists.",
          "location": {
            "start": {
              "column": 6,
              "line": 73
            }
          }
        },
        {
          "id": "143",
          "name": "ClientService findOne should throw an InternalServerError when database fails.",
          "location": {
            "start": {
              "column": 6,
              "line": 80
            }
          }
        },
        {
          "id": "144",
          "name": "ClientService remove should delete a client when remove is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 89
            }
          }
        },
        {
          "id": "145",
          "name": "ClientService remove should throw an InternalServerError when database fails.",
          "location": {
            "start": {
              "column": 6,
              "line": 95
            }
          }
        },
        {
          "id": "146",
          "name": "ClientService update should update a client when update is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 104
            }
          }
        },
        {
          "id": "147",
          "name": "ClientService update should throw an InternalServerError when database fails.",
          "location": {
            "start": {
              "column": 6,
              "line": 109
            }
          }
        }
      ],
      "source": "import { InternalServerErrorException, NotFoundException } from \"@nestjs/common\";\nimport { Test } from \"@nestjs/testing\";\nimport { NoErrorThrownError, getError } from \"@tests/unit/utils\";\nimport { ClientService } from \"@modules/client/client.service\";\nimport { FirestoreService } from \"@src/services/firestore/firestore.service\";\nimport { createFakeCreateClientDto } from \"@tests/unit/factories/dtos/create-client.dto.factory\";\nimport { createFakeClient } from \"@tests/unit/factories/entities/client.entity.factory\";\n\nconst client = createFakeClient();\nconst createClientDto = createFakeCreateClientDto();\n\ndescribe(\"ClientService\", () => {\n  let service: ClientService;\n\n  beforeEach(async() => {\n    const module = await Test.createTestingModule({\n      providers: [\n        ClientService,\n        {\n          provide: FirestoreService,\n          useValue: {\n            getAllDocuments: jest.fn().mockResolvedValue([client]),\n            getDocument: jest.fn().mockResolvedValue(client),\n            saveDocument: jest.fn().mockResolvedValue(client),\n            updateDocument: jest.fn().mockResolvedValue(client),\n            deleteDocument: jest.fn().mockResolvedValue(undefined),\n          },\n        },\n      ],\n    }).compile();\n\n    service = module.get<ClientService>(ClientService);\n  });\n\n  afterEach(() => {\n    jest.resetAllMocks();\n  });\n\n  describe(\"create\", () => {\n    it(\"should create a client when create is called.\", async() => {\n      const create = await service.create(createClientDto);\n      expect(create).toStrictEqual(client);\n    });\n\n    it(\"should throw an InternalServerError when database fails.\", async() => {\n      jest.spyOn(service[\"firestoreService\"], \"saveDocument\").mockImplementation().mockRejectedValue(new InternalServerErrorException());\n      const error: InternalServerErrorException = await getError(async() => service.create(createClientDto));\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(InternalServerErrorException);\n    });\n  });\n\n  describe(\"findAll\", () => {\n    it(\"should return a client array when findAll is called.\", async() => {\n      const findAll = await service.findAll();\n      expect(findAll).toStrictEqual([client]);\n    });\n\n    it(\"should throw an InternalServerError when database fails.\", async() => {\n      jest.spyOn(service[\"firestoreService\"], \"getAllDocuments\").mockImplementation().mockRejectedValue(new InternalServerErrorException());\n      const error: InternalServerErrorException = await getError(async() => service.findAll());\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(InternalServerErrorException);\n    });\n  });\n\n  describe(\"findOne\", () => {\n    it(\"should return a client when findOne is called.\", async() => {\n      const findOne = await service.findOne(client._id);\n      expect(findOne).toStrictEqual(client);\n    });\n\n    it(\"should throw a NotFound when client does not exists.\", async() => {\n      jest.spyOn(service[\"firestoreService\"], \"getDocument\").mockImplementation().mockRejectedValue(new NotFoundException());\n      const error: InternalServerErrorException = await getError(async() => service.findOne(client._id));\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(NotFoundException);\n    });\n\n    it(\"should throw an InternalServerError when database fails.\", async() => {\n      jest.spyOn(service[\"firestoreService\"], \"getDocument\").mockImplementation().mockRejectedValue(new InternalServerErrorException());\n      const error: InternalServerErrorException = await getError(async() => service.findOne(client._id));\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(InternalServerErrorException);\n    });\n  });\n\n  describe(\"remove\", () => {\n    it(\"should delete a client when remove is called.\", async() => {\n      const spy = jest.spyOn(service[\"firestoreService\"], \"deleteDocument\");\n      await service.remove(client._id);\n      expect(spy).toHaveBeenCalledTimes(1);\n    });\n\n    it(\"should throw an InternalServerError when database fails.\", async() => {\n      jest.spyOn(service[\"firestoreService\"], \"deleteDocument\").mockImplementation().mockRejectedValue(new InternalServerErrorException());\n      const error: InternalServerErrorException = await getError(async() => service.remove(client._id));\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(InternalServerErrorException);\n    });\n  });\n\n  describe(\"update\", () => {\n    it(\"should update a client when update is called.\", async() => {\n      const update = await service.update(client._id, createClientDto);\n      expect(update).toStrictEqual(client);\n    });\n\n    it(\"should throw an InternalServerError when database fails.\", async() => {\n      jest.spyOn(service[\"firestoreService\"], \"updateDocument\").mockImplementation().mockRejectedValue(new InternalServerErrorException());\n      const error: InternalServerErrorException = await getError(async() => service.update(client._id, createClientDto));\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(InternalServerErrorException);\n    });\n  });\n});"
    },
    "tests/unit/guards/jwt.guard.spec.ts": {
      "tests": [
        {
          "id": "148",
          "name": "JwtGuard canActivate should throw UnauthorizedException when token is missing.",
          "location": {
            "start": {
              "column": 6,
              "line": 67
            }
          }
        },
        {
          "id": "149",
          "name": "JwtGuard canActivate should return true when decorator public is set.",
          "location": {
            "start": {
              "column": 6,
              "line": 73
            }
          }
        },
        {
          "id": "150",
          "name": "JwtGuard canActivate should return true when Gip token is valid.",
          "location": {
            "start": {
              "column": 6,
              "line": 79
            }
          }
        },
        {
          "id": "151",
          "name": "JwtGuard canActivate should return true when Cognito token is valid.",
          "location": {
            "start": {
              "column": 6,
              "line": 86
            }
          }
        },
        {
          "id": "152",
          "name": "JwtGuard canActivate should throw UnauthorizedException when token is invalid.",
          "location": {
            "start": {
              "column": 6,
              "line": 93
            }
          }
        },
        {
          "id": "153",
          "name": "JwtGuard canActivate should throw UnauthorizedException when token is valid but has unknown issuer.",
          "location": {
            "start": {
              "column": 6,
              "line": 100
            }
          }
        },
        {
          "id": "154",
          "name": "JwtGuard canActivate should return true when BYPASS_GUARD is set.",
          "location": {
            "start": {
              "column": 6,
              "line": 107
            }
          }
        }
      ],
      "source": "import { Test } from \"@nestjs/testing\";\nimport { GipService } from \"@src/services/gip/gip.service\";\nimport { NoErrorThrownError, getError } from \"@tests/unit/utils\";\nimport { JwtGuard } from \"@src/guards/jwt.guard\";\nimport { Reflector } from \"@nestjs/core\";\nimport { ConfigService } from \"@nestjs/config\";\nimport type { ExecutionContextHost } from \"@nestjs/core/helpers/execution-context-host\";\nimport { CognitoService } from \"@src/services/cognito/cognito.service\";\nimport { IS_PUBLIC_METADATA_SYMBOL } from \"@src/decorators/isPublic\";\nimport { UnauthorizedException } from \"@nestjs/common\";\nimport type { DecodedIdToken } from \"firebase-admin/auth\";\n\nconst authorizationGip = \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwiZW1haWwiOiJqb2huLmRvZUBsb2NhbGhvc3QiLCJpc3MiOiJnaXAifQ.9-Hb_aZdm2xA_CBqm4r_YczADyvKeSyQHRIQl8g8sgQ\";\nconst tokenResultGip = { sub: \"1\", email: \"john.doe@localhost\", iss: \"gip\" };\nconst authorizationCognito = \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwiZW1haWwiOiJqb2huLmRvZUBsb2NhbGhvc3QiLCJpc3MiOiJjb2duaXRvIn0.5YzAwPZPiiLowXoHaoIeC-qgRpyHMFRjMww7120aSp0\";\nconst tokenResultCognito = { sub: \"1\", email: \"john.doe@localhost\", iss: \"cognito\" };\nconst authorizationUnknown = \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwiZW1haWwiOiJqb2huLmRvZUBsb2NhbGhvc3QiLCJpc3MiOiJ1bmtub3duIn0.YNL0upufTr9LYOkcaEuriSM2MgJXeYzJxFAS1iWkUUw\";\n\ndescribe(\"JwtGuard\", () => {\n  let guard: JwtGuard;\n  let context: ExecutionContextHost;\n\n  beforeEach(async() => {\n    const module = await Test.createTestingModule({\n      providers: [\n        JwtGuard,\n        ConfigService,\n        {\n          provide: Reflector,\n          useValue: {\n            get: jest.fn().mockReturnValue(undefined),\n          },\n        },\n        {\n          provide: GipService,\n          useValue: {\n            verifyIdToken: jest.fn().mockRejectedValue(new Error()),\n            issuerUrl: \"gip\",\n          },\n        },\n        {\n          provide: CognitoService,\n          useValue: {\n            verifyIdToken: jest.fn().mockRejectedValue(new Error()),\n            issuerUrl: \"cognito\",\n          },\n        },\n      ],\n    }).compile();\n\n    context = {\n      getHandler: jest.fn(),\n      switchToHttp: jest.fn().mockReturnValue({\n        getRequest: jest.fn().mockReturnValue({\n          headers: { authorization: undefined },\n        }),\n      }),\n    } as unknown as ExecutionContextHost;\n    guard = module.get<JwtGuard>(JwtGuard);\n  });\n\n  afterEach(() => {\n    jest.resetAllMocks();\n  });\n\n  describe(\"canActivate\", () => {\n    it(\"should throw UnauthorizedException when token is missing.\", async() => {\n      const error: UnauthorizedException = await getError(async() => guard.canActivate(context));\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(UnauthorizedException);\n    });\n\n    it(\"should return true when decorator public is set.\", async() => {\n      jest.spyOn(guard[\"reflector\"], \"get\").mockImplementation((key: string) => key === IS_PUBLIC_METADATA_SYMBOL);\n      const canActivate = await guard.canActivate(context);\n      expect(canActivate).toBe(true);\n    });\n\n    it(\"should return true when Gip token is valid.\", async() => {\n      jest.spyOn(context.switchToHttp(), \"getRequest\").mockReturnValue({ headers: { authorization: authorizationGip } });\n      jest.spyOn(guard[\"gipService\"], \"verifyIdToken\").mockResolvedValue(tokenResultGip as DecodedIdToken);\n      const canActivate = await guard.canActivate(context);\n      expect(canActivate).toBe(true);\n    });\n\n    it(\"should return true when Cognito token is valid.\", async() => {\n      jest.spyOn(context.switchToHttp(), \"getRequest\").mockReturnValue({ headers: { authorization: authorizationCognito } });\n      jest.spyOn(guard[\"cognitoService\"], \"verifyIdToken\").mockResolvedValue(tokenResultCognito as unknown as ReturnType<typeof guard[\"cognitoService\"][\"verifyIdToken\"]>);\n      const canActivate = await guard.canActivate(context);\n      expect(canActivate).toBe(true);\n    });\n\n    it(\"should throw UnauthorizedException when token is invalid.\", async() => {\n      jest.spyOn(context.switchToHttp(), \"getRequest\").mockReturnValue({ headers: { authorization: \"test\" } });\n      const error: UnauthorizedException = await getError(async() => guard.canActivate(context));\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(UnauthorizedException);\n    });\n\n    it(\"should throw UnauthorizedException when token is valid but has unknown issuer.\", async() => {\n      jest.spyOn(context.switchToHttp(), \"getRequest\").mockReturnValue({ headers: { authorization: authorizationUnknown } });\n      const error: UnauthorizedException = await getError(async() => guard.canActivate(context));\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(UnauthorizedException);\n    });\n\n    it(\"should return true when BYPASS_GUARD is set.\", async() => {\n      jest.spyOn(guard[\"configService\"], \"get\").mockImplementation((key: string) => (key === \"BYPASS_GUARD\" ? \"true\" : \"\"));\n      const canActivate = await guard.canActivate(context);\n      expect(canActivate).toBe(true);\n    });\n  });\n});"
    },
    "tests/unit/modules/quiz/quiz.controller.spec.ts": {
      "tests": [
        {
          "id": "155",
          "name": "QuizController create should return documentId when create is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 128
            }
          }
        },
        {
          "id": "156",
          "name": "QuizController findAll should return the list of quizzes when findAll is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 135
            }
          }
        },
        {
          "id": "157",
          "name": "QuizController findOne should return a quiz object when findOne is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 142
            }
          }
        },
        {
          "id": "158",
          "name": "QuizController findOneSafe should return a safe quiz object when findOneSafe is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 149
            }
          }
        },
        {
          "id": "159",
          "name": "QuizController remove should remove when remove is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 156
            }
          }
        },
        {
          "id": "160",
          "name": "QuizController update should update when update is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 162
            }
          }
        },
        {
          "id": "161",
          "name": "QuizController checkCorrectness should check answer correctness when checkCorrectness is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 169
            }
          }
        }
      ],
      "source": "import type { TestingModule } from \"@nestjs/testing\";\nimport { Test } from \"@nestjs/testing\";\nimport { Logger } from \"@nestjs/common\";\nimport { ConfigService } from \"@nestjs/config\";\nimport { JwtService } from \"@nestjs/jwt\";\nimport { QuizController } from \"@modules/quiz/quiz.controller\";\nimport { QuizService } from \"@modules/quiz/quiz.service\";\nimport type { CreateQuizDto } from \"@src/modules/quiz/dto/create-quiz.dto\";\nimport type { UpdateQuizDto } from \"@src/modules/quiz/dto/update-quiz.dto\";\nimport { OutputSafeQuizDto } from \"@src/modules/quiz/dto/output-safe-quiz.dto\";\nimport { plainToInstance } from \"class-transformer\";\n\nconst createQuizMock: CreateQuizDto = {\n  _id: \"mockedId\",\n  questions: [\n    {\n      label: \"How many are 1 + 1 ?\",\n      answers: [\n        {\n          label: \"0\",\n          isCorrect: false,\n        },\n        {\n          label: \"1\",\n          isCorrect: false,\n        },\n        {\n          label: \"2\",\n          isCorrect: true,\n        },\n        {\n          label: \"3\",\n          isCorrect: false,\n        },\n        {\n          label: \"4/2\",\n          isCorrect: true,\n        },\n      ],\n    },\n  ],\n};\nconst updateQuizMock: UpdateQuizDto = {\n  questions: [\n    {\n      label: \"How many are 1 - 1 ?\",\n      answers: [\n        {\n          label: \"0\",\n          isCorrect: true,\n        },\n        {\n          label: \"1\",\n          isCorrect: false,\n        },\n        {\n          label: \"2\",\n          isCorrect: false,\n        },\n        {\n          label: \"3\",\n          isCorrect: false,\n        },\n        {\n          label: \"4/2\",\n          isCorrect: false,\n        },\n      ],\n    },\n  ],\n};\nconst safeQuiz = plainToInstance(OutputSafeQuizDto, {\n  _id: \"mockedId\",\n  questions: [\n    {\n      label: \"How many are 1 + 1 ?\",\n      answers: [\n        {\n          label: \"0\",\n        },\n        {\n          label: \"1\",\n        },\n        {\n          label: \"2\",\n        },\n        {\n          label: \"3\",\n        },\n        {\n          label: \"4/2\",\n        },\n      ],\n      numberOfCorrectAnswers: 2,\n    },\n  ],\n});\nconst quizCorrectAnswers: Parameters<QuizController[\"checkCorrectness\"]>[2] = [2, 4];\nconst serviceMock = {\n  QuizService: (): Partial<QuizService> => ({\n    create: jest.fn().mockResolvedValue(createQuizMock),\n    findAll: jest.fn().mockResolvedValue([createQuizMock]),\n    findOne: jest.fn().mockResolvedValue(createQuizMock),\n    update: jest.fn().mockResolvedValue(updateQuizMock),\n    remove: jest.fn().mockResolvedValue(undefined),\n    checkCorrectness: jest.fn().mockResolvedValue(quizCorrectAnswers),\n  }),\n};\n\ndescribe(\"QuizController\", () => {\n  let controller: QuizController;\n\n  beforeEach(async() => {\n    const module: TestingModule = await Test.createTestingModule({\n      controllers: [QuizController],\n      providers: [\n        JwtService,\n        ConfigService,\n        { provide: QuizService, useFactory: serviceMock.QuizService },\n        { provide: Logger, useFactory: jest.fn },\n      ],\n    }).compile();\n\n    controller = module.get<QuizController>(QuizController);\n  });\n\n  describe(\"create\", () => {\n    it(\"should return documentId when create is called.\", async() => {\n      const create = await controller.create(createQuizMock);\n      expect(create).toStrictEqual(createQuizMock);\n    });\n  });\n\n  describe(\"findAll\", () => {\n    it(\"should return the list of quizzes when findAll is called.\", async() => {\n      const findAll = await controller.findAll();\n      expect(findAll).toStrictEqual([createQuizMock]);\n    });\n  });\n\n  describe(\"findOne\", () => {\n    it(\"should return a quiz object when findOne is called.\", async() => {\n      const findOne = await controller.findOne(createQuizMock._id);\n      expect(findOne).toStrictEqual(createQuizMock);\n    });\n  });\n\n  describe(\"findOneSafe\", () => {\n    it(\"should return a safe quiz object when findOneSafe is called.\", async() => {\n      const findOneSafe = await controller.findOneSafe(createQuizMock._id);\n      expect(findOneSafe).toStrictEqual(safeQuiz);\n    });\n  });\n\n  describe(\"remove\", () => {\n    it(\"should remove when remove is called.\", async() => {\n      await expect(controller.remove(createQuizMock._id)).resolves.toBeUndefined();\n    });\n  });\n\n  describe(\"update\", () => {\n    it(\"should update when update is called.\", async() => {\n      const update = await controller.update(createQuizMock._id, updateQuizMock);\n      expect(update).toStrictEqual(updateQuizMock);\n    });\n  });\n\n  describe(\"checkCorrectness\", () => {\n    it(\"should check answer correctness when checkCorrectness is called.\", async() => {\n      const checkCorrectness = await controller.checkCorrectness(createQuizMock._id, 0, quizCorrectAnswers);\n      expect(checkCorrectness).toBe(quizCorrectAnswers);\n    });\n  });\n});"
    },
    "tests/unit/modules/content/content.service.spec.ts": {
      "tests": [
        {
          "id": "162",
          "name": "ContentService should create a content",
          "location": {
            "start": {
              "column": 4,
              "line": 22
            }
          }
        },
        {
          "id": "163",
          "name": "ContentService should create a content with a empty object",
          "location": {
            "start": {
              "column": 4,
              "line": 30
            }
          }
        },
        {
          "id": "164",
          "name": "ContentService should create a content with a undefined object",
          "location": {
            "start": {
              "column": 4,
              "line": 43
            }
          }
        },
        {
          "id": "165",
          "name": "ContentService should create a content with a null object",
          "location": {
            "start": {
              "column": 4,
              "line": 56
            }
          }
        },
        {
          "id": "166",
          "name": "ContentService should create a content with a 0 value",
          "location": {
            "start": {
              "column": 4,
              "line": 69
            }
          }
        },
        {
          "id": "167",
          "name": "ContentService should create a content with a false value",
          "location": {
            "start": {
              "column": 4,
              "line": 82
            }
          }
        },
        {
          "id": "168",
          "name": "ContentService should create a content with a NaN value",
          "location": {
            "start": {
              "column": 4,
              "line": 95
            }
          }
        },
        {
          "id": "169",
          "name": "ContentService should find one content",
          "location": {
            "start": {
              "column": 4,
              "line": 108
            }
          }
        },
        {
          "id": "170",
          "name": "ContentService should update a content",
          "location": {
            "start": {
              "column": 4,
              "line": 114
            }
          }
        }
      ],
      "source": "import { createContentDtoMock } from \"@tests/unit/__mocks__/content/content.entities.mock\";\nimport { FirestoreServiceMock } from \"@tests/unit/__mocks__/firestore.service\";\nimport { BadRequestException, InternalServerErrorException } from \"@nestjs/common\";\nimport type { TestingModule } from \"@nestjs/testing\";\nimport { Test } from \"@nestjs/testing\";\nimport { ContentService } from \"@src/modules/content/content.service\";\nimport type { CreateContentDto } from \"@src/modules/content/dto/create-content.dto\";\nimport type { ContentEntity } from \"@src/modules/content/entities/content.entity\";\nimport { FirestoreService } from \"@src/services/firestore/firestore.service\";\n\ndescribe(\"ContentService\", () => {\n  let service: ContentService;\n\n  beforeEach(async() => {\n    const module: TestingModule = await Test.createTestingModule({\n      providers: [ContentService, { provide: FirestoreService, useClass: FirestoreServiceMock }],\n    }).compile();\n\n    service = module.get<ContentService>(ContentService);\n  });\n\n  it(\"should create a content\", async() => {\n    const res: ContentEntity = await service.create(createContentDtoMock);\n    expect(res.id).toBeDefined();\n    expect(res.data).toBeDefined();\n    expect(res).not.toBeInstanceOf(BadRequestException);\n    expect(res).not.toBeInstanceOf(InternalServerErrorException);\n  });\n\n  it(\"should create a content with a empty object\", async() => {\n    const createContentDto: CreateContentDto = {};\n    let res: ContentEntity;\n    try {\n      res = await service.create(createContentDto);\n      expect(res).not.toHaveProperty(\"id\");\n      expect(res).not.toHaveProperty(\"data\");\n    } catch (error) {\n      expect(error).toBeInstanceOf(BadRequestException);\n      expect(error.message).toBe(\"This content is empty\");\n    }\n  });\n\n  it(\"should create a content with a undefined object\", async() => {\n    const createContentDto: CreateContentDto = undefined;\n    let res: ContentEntity;\n    try {\n      res = await service.create(createContentDto);\n      expect(res).not.toHaveProperty(\"id\");\n      expect(res).not.toHaveProperty(\"data\");\n    } catch (error) {\n      expect(error).toBeInstanceOf(BadRequestException);\n      expect(error.message).toBe(\"This content is empty\");\n    }\n  });\n\n  it(\"should create a content with a null object\", async() => {\n    const createContentDto: CreateContentDto = null;\n    let res: ContentEntity;\n    try {\n      res = await service.create(createContentDto);\n      expect(res).not.toHaveProperty(\"id\");\n      expect(res).not.toHaveProperty(\"data\");\n    } catch (error) {\n      expect(error).toBeInstanceOf(BadRequestException);\n      expect(error.message).toBe(\"This content is empty\");\n    }\n  });\n\n  it(\"should create a content with a 0 value\", async() => {\n    const createContentDto: CreateContentDto = 0;\n    let res: ContentEntity;\n    try {\n      res = await service.create(createContentDto);\n      expect(res).not.toHaveProperty(\"id\");\n      expect(res).not.toHaveProperty(\"data\");\n    } catch (error) {\n      expect(error).toBeInstanceOf(BadRequestException);\n      expect(error.message).toBe(\"This content is empty\");\n    }\n  });\n\n  it(\"should create a content with a false value\", async() => {\n    const createContentDto: CreateContentDto = false;\n    let res: ContentEntity;\n    try {\n      res = await service.create(createContentDto);\n      expect(res).not.toHaveProperty(\"id\");\n      expect(res).not.toHaveProperty(\"data\");\n    } catch (error) {\n      expect(error).toBeInstanceOf(BadRequestException);\n      expect(error.message).toBe(\"This content is empty\");\n    }\n  });\n\n  it(\"should create a content with a NaN value\", async() => {\n    const createContentDto: CreateContentDto = NaN;\n    let res: ContentEntity;\n    try {\n      res = await service.create(createContentDto);\n      expect(res).not.toHaveProperty(\"id\");\n      expect(res).not.toHaveProperty(\"data\");\n    } catch (error) {\n      expect(error).toBeInstanceOf(BadRequestException);\n      expect(error.message).toBe(\"This content is empty\");\n    }\n  });\n\n  it(\"should find one content\", async() => {\n    const res: ContentEntity = await service.findOne(\"azerty\");\n    expect(res.id).toBe(\"azerty\");\n    expect(res.data).toBeDefined();\n  });\n\n  it(\"should update a content\", async() => {\n    const res: ContentEntity = await service.update(\"azerty\", {});\n    expect(res.id).toBe(\"azerty\");\n    expect(res.data).toBeDefined();\n  });\n});"
    },
    "tests/unit/modules/feedback-answer/feedback-answer.controller.spec.ts": {
      "tests": [
        {
          "id": "171",
          "name": "FeedbackAnswerController createForMe should create a feedback answer when createForMe is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 47
            }
          }
        },
        {
          "id": "172",
          "name": "FeedbackAnswerController create should create a feedback answer when create is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 54
            }
          }
        },
        {
          "id": "173",
          "name": "FeedbackAnswerController findAll should return a feedback answer array when findAll is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 61
            }
          }
        },
        {
          "id": "174",
          "name": "FeedbackAnswerController findMine should return a feedback answer when findMine is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 68
            }
          }
        },
        {
          "id": "175",
          "name": "FeedbackAnswerController findOne should return a feedback answer when findOne is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 75
            }
          }
        },
        {
          "id": "176",
          "name": "FeedbackAnswerController remove should delete a feedback answer when remove is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 82
            }
          }
        },
        {
          "id": "177",
          "name": "FeedbackAnswerController update should update a feedback answer when update is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 90
            }
          }
        }
      ],
      "source": "import { Test } from \"@nestjs/testing\";\nimport { FeedbackAnswerController } from \"@src/modules/feedback-answer/feedback-answer.controller\";\nimport { FeedbackAnswerService } from \"@src/modules/feedback-answer/feedback-answer.service\";\nimport type { FeedbackAnswer } from \"@src/modules/feedback-answer/entities/feedback-answer.entity\";\nimport type { UserRequest } from \"@src/guards/jwt.guard\";\nimport { Role } from \"@src/decorators/role\";\n\nconst user: UserRequest = {\n  user: {\n    id: \"1\",\n    email: \"\",\n    role: Role.USER,\n  },\n};\nconst feedbackId = \"1\";\nconst feedbackQuestionId = \"1\";\nconst feedbackAnswer: FeedbackAnswer = {\n  _id: \"1\",\n  answers: [],\n};\nconst createFeedbackAnswerDto: string[] = [\"a\", \"b\"];\n\ndescribe(\"FeedbackAnswerController\", () => {\n  let controller: FeedbackAnswerController;\n\n  beforeEach(async() => {\n    const module = await Test.createTestingModule({\n      controllers: [FeedbackAnswerController],\n      providers: [\n        {\n          provide: FeedbackAnswerService,\n          useValue: {\n            create: jest.fn().mockResolvedValue(feedbackAnswer),\n            findAll: jest.fn().mockResolvedValue([feedbackAnswer]),\n            findOne: jest.fn().mockResolvedValue(feedbackAnswer),\n            remove: jest.fn().mockResolvedValue(undefined),\n            update: jest.fn().mockResolvedValue(feedbackAnswer),\n          },\n        },\n      ],\n    }).compile();\n\n    controller = module.get<FeedbackAnswerController>(FeedbackAnswerController);\n  });\n\n  describe(\"createForMe\", () => {\n    it(\"should create a feedback answer when createForMe is called.\", async() => {\n      const createForMe = await controller.createForMe(feedbackId, feedbackQuestionId, user, createFeedbackAnswerDto);\n      expect(createForMe).toStrictEqual(feedbackAnswer);\n    });\n  });\n\n  describe(\"create\", () => {\n    it(\"should create a feedback answer when create is called.\", async() => {\n      const create = await controller.create(feedbackId, feedbackQuestionId, feedbackAnswer._id, createFeedbackAnswerDto);\n      expect(create).toStrictEqual(feedbackAnswer);\n    });\n  });\n\n  describe(\"findAll\", () => {\n    it(\"should return a feedback answer array when findAll is called.\", async() => {\n      const findAll = await controller.findAll(feedbackId, feedbackQuestionId);\n      expect(findAll).toStrictEqual([feedbackAnswer]);\n    });\n  });\n\n  describe(\"findMine\", () => {\n    it(\"should return a feedback answer when findMine is called.\", async() => {\n      const findMine = await controller.findMine(feedbackId, feedbackQuestionId, user);\n      expect(findMine).toStrictEqual(feedbackAnswer);\n    });\n  });\n\n  describe(\"findOne\", () => {\n    it(\"should return a feedback answer when findOne is called.\", async() => {\n      const findOne = await controller.findOne(feedbackId, feedbackQuestionId, feedbackAnswer._id);\n      expect(findOne).toStrictEqual(feedbackAnswer);\n    });\n  });\n\n  describe(\"remove\", () => {\n    it(\"should delete a feedback answer when remove is called.\", async() => {\n      const spy = jest.spyOn(controller[\"feedbackAnswerService\"], \"remove\");\n      await controller.remove(feedbackId, feedbackQuestionId, feedbackAnswer._id);\n      expect(spy).toHaveBeenCalledTimes(1);\n    });\n  });\n\n  describe(\"update\", () => {\n    it(\"should update a feedback answer when update is called.\", async() => {\n      const update = await controller.update(feedbackId, feedbackQuestionId, feedbackAnswer._id, createFeedbackAnswerDto);\n      expect(update).toStrictEqual(feedbackAnswer);\n    });\n  });\n});"
    },
    "tests/unit/services/gip.service.spec.ts": {
      "tests": [
        {
          "id": "178",
          "name": "GipService verifyIdToken should return decoded token when verifyIdToken success.",
          "location": {
            "start": {
              "column": 6,
              "line": 50
            }
          }
        },
        {
          "id": "179",
          "name": "GipService verifyIdToken should throw when verifyIdToken fails.",
          "location": {
            "start": {
              "column": 6,
              "line": 55
            }
          }
        },
        {
          "id": "180",
          "name": "GipService createUser should return user when createUser.",
          "location": {
            "start": {
              "column": 6,
              "line": 64
            }
          }
        },
        {
          "id": "181",
          "name": "GipService createUser should throw when createUser fails.",
          "location": {
            "start": {
              "column": 6,
              "line": 69
            }
          }
        },
        {
          "id": "182",
          "name": "GipService deleteUser should return void when deleteUser.",
          "location": {
            "start": {
              "column": 6,
              "line": 78
            }
          }
        },
        {
          "id": "183",
          "name": "GipService deleteUser should throw when deleteUser fails.",
          "location": {
            "start": {
              "column": 6,
              "line": 85
            }
          }
        }
      ],
      "source": "import { InternalServerErrorException, Logger } from \"@nestjs/common\";\nimport { Test } from \"@nestjs/testing\";\nimport { ConfigService } from \"@nestjs/config\";\nimport { Auth } from \"firebase-admin/auth\";\nimport { GipService } from \"@src/services/gip/gip.service\";\nimport { NoErrorThrownError, getError } from \"@tests/unit/utils\";\n\nconst tokenPayload = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIn0.rTCH8cLoGxAm_xw68z-zXVKi9ie6xJn9tnVWjd_9ftE\";\nconst createUserPayload = {\n  email: \"test@test.fr\",\n  password: \"Azerty@123\",\n};\nconst userResult = { uid: \"1\" };\nconst tokenResult = { sub: \"1\" };\n\ndescribe(\"GipService\", () => {\n  let service: GipService;\n\n  beforeEach(async() => {\n    const module = await Test.createTestingModule({\n      providers: [\n        GipService,\n        ConfigService,\n        {\n          provide: Auth,\n          useValue: {\n            verifyIdToken: jest.fn().mockResolvedValue(tokenResult),\n            createUser: jest.fn().mockResolvedValue(userResult),\n            deleteUser: jest.fn().mockResolvedValue(undefined),\n          },\n        },\n        {\n          provide: Logger,\n          useValue: {\n            log: jest.fn(),\n            error: jest.fn(),\n          },\n        },\n      ],\n    }).compile();\n\n    service = module.get<GipService>(GipService);\n  });\n\n  afterEach(() => {\n    jest.resetAllMocks();\n  });\n\n  describe(\"verifyIdToken\", () => {\n    it(\"should return decoded token when verifyIdToken success.\", async() => {\n      const verifyIdToken = await service.verifyIdToken(tokenPayload);\n      expect(verifyIdToken).toStrictEqual(tokenResult);\n    });\n\n    it(\"should throw when verifyIdToken fails.\", async() => {\n      jest.spyOn(service[\"auth\"], \"verifyIdToken\").mockImplementation().mockRejectedValue(new InternalServerErrorException());\n      const error: InternalServerErrorException = await getError(async() => service.verifyIdToken(tokenPayload));\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(InternalServerErrorException);\n    });\n  });\n\n  describe(\"createUser\", () => {\n    it(\"should return user when createUser.\", async() => {\n      const createUser = await service.createUser(createUserPayload);\n      expect(createUser).toStrictEqual(userResult);\n    });\n\n    it(\"should throw when createUser fails.\", async() => {\n      jest.spyOn(service[\"auth\"], \"createUser\").mockImplementation().mockRejectedValue(new InternalServerErrorException());\n      const error: InternalServerErrorException = await getError(async() => service.createUser(createUserPayload));\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(InternalServerErrorException);\n    });\n  });\n\n  describe(\"deleteUser\", () => {\n    it(\"should return void when deleteUser.\", async() => {\n      const spy = jest.spyOn(service[\"auth\"], \"deleteUser\");\n      await service.deleteUser(userResult.uid);\n      expect(spy).toHaveBeenCalledTimes(1);\n      expect(spy).toHaveBeenCalledWith(userResult.uid);\n    });\n\n    it(\"should throw when deleteUser fails.\", async() => {\n      jest.spyOn(service[\"auth\"], \"deleteUser\").mockImplementation().mockRejectedValue(new InternalServerErrorException());\n      const error: InternalServerErrorException = await getError(async() => service.deleteUser(userResult.uid));\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(InternalServerErrorException);\n    });\n  });\n});"
    },
    "tests/unit/modules/step/step.utils.spec.ts": {
      "tests": [
        {
          "id": "184",
          "name": "calculateEmailDate should throw an error for start date > end date",
          "location": {
            "start": {
              "column": 4,
              "line": 7
            }
          }
        },
        {
          "id": "185",
          "name": "calculateEmailDate should handle number of steps",
          "location": {
            "start": {
              "column": 4,
              "line": 14
            }
          }
        },
        {
          "id": "186",
          "name": "calculateEmailDate should handle cutAt correctly",
          "location": {
            "start": {
              "column": 4,
              "line": 25
            }
          }
        },
        {
          "id": "187",
          "name": "calculateEmailDate should handle minimal interval correctly",
          "location": {
            "start": {
              "column": 4,
              "line": 43
            }
          }
        },
        {
          "id": "188",
          "name": "calculateEmailDate should handle maximal interval correctly",
          "location": {
            "start": {
              "column": 4,
              "line": 58
            }
          }
        },
        {
          "id": "189",
          "name": "calculateEmailDate should handle multiple consecutive holidays",
          "location": {
            "start": {
              "column": 4,
              "line": 75
            }
          }
        }
      ],
      "source": "import { generateStepDates } from \"@modules/step/step.utils\";\nimport { Step } from \"@modules/step/entities/step.entity\";\n\nconst COUNTRY = \"FR\";\n\ndescribe(\"calculateEmailDate\", () => {\n  it(\"should throw an error for start date > end date\", () => {\n    const startDate = new Date(\"2024-01-01\");\n    const endDate = new Date(\"2023-12-31\");\n\n    expect(() => generateStepDates(startDate, endDate, [new Step()], COUNTRY)).toThrow();\n  });\n\n  it(\"should handle number of steps\", () => {\n    const startDate = new Date(\"2024-01-01\");\n    const endDate = new Date(\"2024-01-30\");\n\n    const result1 = generateStepDates(startDate, endDate, [new Step()], COUNTRY);\n    const result2 = generateStepDates(startDate, endDate, [new Step(), new Step(), new Step(), new Step()], COUNTRY);\n\n    expect(result1).toHaveLength(1);\n    expect(result2).toHaveLength(4);\n  });\n\n  it(\"should handle cutAt correctly\", () => {\n    const step1 = new Step();\n    step1.cutAt = 0;\n    const step2 = new Step();\n    step2.cutAt = 0.5;\n    const step3 = new Step();\n    step3.cutAt = 1;\n\n    const startDate = new Date(\"2024-01-02\");\n    const endDate = new Date(\"2024-01-04\");\n\n    expect(generateStepDates(startDate, endDate, [step1, step2, step3], COUNTRY)).toStrictEqual([\n      { step: step1, dt: new Date(\"2024-01-02\") },\n      { step: step2, dt: new Date(\"2024-01-03\") },\n      { step: step3, dt: new Date(\"2024-01-04\") },\n    ]);\n  });\n\n  it(\"should handle minimal interval correctly\", () => {\n    const startDate = new Date(\"2024-01-02\");\n    const endDate = new Date(\"2024-01-15\");\n    const step1 = new Step();\n    step1.cutAt = 0.5;\n    const step2 = new Step();\n    step2.cutAt = 0.5;\n    step2.minDays = 30;\n\n    const result = generateStepDates(startDate, endDate, [step1, step2], COUNTRY);\n\n    expect(result[0].dt.getTime() - startDate.getTime()).toBeGreaterThan(0);\n    expect(result[1].dt.getTime() - startDate.getTime()).toBe(0);\n  });\n\n  it(\"should handle maximal interval correctly\", () => {\n    const startDate = new Date(\"2024-01-02\");\n    const endDate = new Date(\"2024-12-31\");\n    const step1 = new Step();\n    step1.cutAt = 0.5;\n    const step2 = new Step();\n    step2.cutAt = 0.5;\n    step2.maxDays = 90;\n\n    const result = generateStepDates(startDate, endDate, [step1, step2], COUNTRY);\n\n    const ninetyDaysMs = 90 * 24 * 60 * 60 * 1000;\n\n    expect(endDate.getTime() - result[0].dt.getTime()).toBeGreaterThan(ninetyDaysMs);\n    expect(endDate.getTime() - result[1].dt.getTime()).toBeLessThanOrEqual(ninetyDaysMs);\n  });\n\n  it(\"should handle multiple consecutive holidays\", () => {\n    const step1 = new Step();\n    step1.cutAt = 0;\n    const step2 = new Step();\n    step2.cutAt = 1;\n\n    const startDate1 = new Date(\"2024-05-08\");\n    const endDate1 = new Date(\"2024-05-09\");\n\n    expect(generateStepDates(startDate1, endDate1, [step1, step2], COUNTRY)).toStrictEqual([\n      { step: step1, dt: new Date(\"2024-05-10\") },\n      { step: step2, dt: new Date(\"2024-05-10\") },\n    ]);\n\n    const startDate2 = new Date(\"2043-05-07\");\n    const endDate2 = new Date(\"2043-05-10\");\n\n    expect(generateStepDates(startDate2, endDate2, [step1, step2], COUNTRY)).toStrictEqual([\n      { step: step1, dt: new Date(\"2043-05-11\") },\n      { step: step2, dt: new Date(\"2043-05-11\") },\n    ]);\n  });\n});"
    },
    "tests/unit/modules/auth/auth.service.spec.ts": {
      "tests": [
        {
          "id": "190",
          "name": "AuthService getAuthorizationUrl should return authorization url object when getAuthorizationUrl is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 63
            }
          }
        },
        {
          "id": "191",
          "name": "AuthService handleCallback should return TokenSet object when handleCallback is called with correct params.",
          "location": {
            "start": {
              "column": 6,
              "line": 70
            }
          }
        },
        {
          "id": "192",
          "name": "AuthService handleCallback should throw when handleCallback fails.",
          "location": {
            "start": {
              "column": 6,
              "line": 75
            }
          }
        },
        {
          "id": "193",
          "name": "AuthService refresh should return TokenSet object when refresh is called with correct token.",
          "location": {
            "start": {
              "column": 6,
              "line": 84
            }
          }
        },
        {
          "id": "194",
          "name": "AuthService refresh should throw when refresh fails.",
          "location": {
            "start": {
              "column": 6,
              "line": 89
            }
          }
        }
      ],
      "source": "import type { TestingModule } from \"@nestjs/testing\";\nimport { Test } from \"@nestjs/testing\";\nimport { AuthService } from \"@modules/auth/auth.service\";\nimport { ConfigService } from \"@nestjs/config\";\nimport type { TokenSet } from \"openid-client\";\nimport { BadRequestException } from \"@nestjs/common\";\nimport { NoErrorThrownError, getError } from \"@tests/unit/utils\";\n\nconst AUTHORIZATION_URL = \"localhost\";\nconst NONCE = \"nonce\";\nconst STATE = \"state\";\nconst TOKEN_SET: TokenSet = { expired: () => false, claims: () => ({ aud: \"\", exp: 0, iat: 0, iss: \"test\", sub: \"\" }) };\n\nclass OpenIdClientMock {\n  private readonly _authorizationUrl = AUTHORIZATION_URL;\n\n  private readonly _tokenSet = TOKEN_SET;\n\n  public authorizationUrl(): string {\n    return this._authorizationUrl;\n  }\n\n  public async callback(): Promise<TokenSet> {\n    return Promise.resolve(this._tokenSet);\n  }\n\n  public async refresh(): Promise<TokenSet> {\n    return Promise.resolve(this._tokenSet);\n  }\n}\n\njest.mock(\"openid-client\", (): unknown => ({\n  Issuer: {\n    discover: () => ({\n      Client: OpenIdClientMock,\n    }),\n  },\n  generators: {\n    nonce: () => NONCE,\n    state: () => STATE,\n  },\n}));\n\ndescribe(\"AuthService\", () => {\n  let service: AuthService;\n\n  beforeEach(async() => {\n    const module: TestingModule = await Test.createTestingModule({\n      providers: [\n        AuthService,\n        ConfigService,\n      ],\n    }).compile();\n\n    service = module.get<AuthService>(AuthService);\n  });\n\n  afterEach(() => {\n    jest.resetAllMocks();\n  });\n\n  describe(\"getAuthorizationUrl\", () => {\n    it(\"should return authorization url object when getAuthorizationUrl is called.\", async() => {\n      const getAuthorizationUrl = await service.getAuthorizationUrl();\n      expect(getAuthorizationUrl).toStrictEqual({ authorizationUrl: AUTHORIZATION_URL, nonce: NONCE, state: STATE });\n    });\n  });\n\n  describe(\"handleCallback\", () => {\n    it(\"should return TokenSet object when handleCallback is called with correct params.\", async() => {\n      const handleCallback = await service.handleCallback(\"\", \"\", \"\");\n      expect(handleCallback).toStrictEqual(TOKEN_SET);\n    });\n\n    it(\"should throw when handleCallback fails.\", async() => {\n      jest.spyOn(OpenIdClientMock.prototype, \"callback\").mockRejectedValue(new Error());\n      const error: BadRequestException = await getError(async() => service.handleCallback(\"\", \"\", \"\"));\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(BadRequestException);\n    });\n  });\n\n  describe(\"refresh\", () => {\n    it(\"should return TokenSet object when refresh is called with correct token.\", async() => {\n      const refresh = await service.refresh(\"\");\n      expect(refresh).toStrictEqual(TOKEN_SET);\n    });\n\n    it(\"should throw when refresh fails.\", async() => {\n      jest.spyOn(OpenIdClientMock.prototype, \"refresh\").mockRejectedValue(new Error());\n      const error: BadRequestException = await getError(async() => service.refresh(\"\"));\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(BadRequestException);\n    });\n  });\n});"
    },
    "tests/unit/modules/feedback-question/feedback-question.controller.spec.ts": {
      "tests": [
        {
          "id": "195",
          "name": "FeedbackQuestionController create should create a feedback question when create is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 49
            }
          }
        },
        {
          "id": "196",
          "name": "FeedbackQuestionController findAll should return a feedback question array when findAll is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 56
            }
          }
        },
        {
          "id": "197",
          "name": "FeedbackQuestionController findOne should return a feedback question when findOne is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 63
            }
          }
        },
        {
          "id": "198",
          "name": "FeedbackQuestionController remove should delete a feedback question when remove is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 70
            }
          }
        },
        {
          "id": "199",
          "name": "FeedbackQuestionController update should update a feedback question when update is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 78
            }
          }
        }
      ],
      "source": "import { Test } from \"@nestjs/testing\";\nimport { FeedbackQuestionController } from \"@modules/feedback-question/feedback-question.controller\";\nimport { FeedbackQuestionService } from \"@modules/feedback-question/feedback-question.service\";\nimport type { CreateFeedbackQuestionDto } from \"@modules/feedback-question/dto/create-feedback-question.dto\";\nimport type { FeedbackQuestion } from \"@modules/feedback-question/entities/feedback-question.entity\";\nimport { QuestionType } from \"@modules/feedback-question/types/question-type.enum\";\n\nconst feedbackId = \"1\";\nconst feedbackQuestion: FeedbackQuestion = {\n  _id: \"1\",\n  label: \"Test\",\n  type: QuestionType.FREE,\n  answers: [],\n  minNumberOfAnswers: 1,\n  maxNumberOfAnswers: 1,\n};\nconst createFeedbackQuestionDto: CreateFeedbackQuestionDto = {\n  label: \"Test\",\n  type: QuestionType.FREE,\n  answers: [],\n  minNumberOfAnswers: 1,\n  maxNumberOfAnswers: 1,\n};\n\ndescribe(\"FeedbackQuestionController\", () => {\n  let controller: FeedbackQuestionController;\n\n  beforeEach(async() => {\n    const module = await Test.createTestingModule({\n      controllers: [FeedbackQuestionController],\n      providers: [\n        {\n          provide: FeedbackQuestionService,\n          useValue: {\n            create: jest.fn().mockResolvedValue(feedbackQuestion),\n            findAll: jest.fn().mockResolvedValue([feedbackQuestion]),\n            findOne: jest.fn().mockResolvedValue(feedbackQuestion),\n            remove: jest.fn().mockResolvedValue(undefined),\n            update: jest.fn().mockResolvedValue(feedbackQuestion),\n          },\n        },\n      ],\n    }).compile();\n\n    controller = module.get<FeedbackQuestionController>(FeedbackQuestionController);\n  });\n\n  describe(\"create\", () => {\n    it(\"should create a feedback question when create is called.\", async() => {\n      const create = await controller.create(feedbackId, createFeedbackQuestionDto);\n      expect(create).toStrictEqual(feedbackQuestion);\n    });\n  });\n\n  describe(\"findAll\", () => {\n    it(\"should return a feedback question array when findAll is called.\", async() => {\n      const findAll = await controller.findAll(feedbackId);\n      expect(findAll).toStrictEqual([feedbackQuestion]);\n    });\n  });\n\n  describe(\"findOne\", () => {\n    it(\"should return a feedback question when findOne is called.\", async() => {\n      const findOne = await controller.findOne(feedbackId, feedbackQuestion._id);\n      expect(findOne).toStrictEqual(feedbackQuestion);\n    });\n  });\n\n  describe(\"remove\", () => {\n    it(\"should delete a feedback question when remove is called.\", async() => {\n      const spy = jest.spyOn(controller[\"feedbackQuestionService\"], \"remove\");\n      await controller.remove(feedbackId, feedbackQuestion._id);\n      expect(spy).toHaveBeenCalledTimes(1);\n    });\n  });\n\n  describe(\"update\", () => {\n    it(\"should update a feedback question when update is called.\", async() => {\n      const update = await controller.update(feedbackId, feedbackQuestion._id, createFeedbackQuestionDto);\n      expect(update).toStrictEqual(feedbackQuestion);\n    });\n  });\n});"
    },
    "tests/unit/modules/cloud-storage/cloud-storage.service.spec.ts": {
      "tests": [
        {
          "id": "200",
          "name": "CloudStorageService getContent should return file content",
          "location": {
            "start": {
              "column": 6,
              "line": 37
            }
          }
        },
        {
          "id": "201",
          "name": "CloudStorageService getContent should return an error",
          "location": {
            "start": {
              "column": 6,
              "line": 55
            }
          }
        },
        {
          "id": "202",
          "name": "CloudStorageService getExtension should return correct content type for jpg",
          "location": {
            "start": {
              "column": 6,
              "line": 74
            }
          }
        },
        {
          "id": "203",
          "name": "CloudStorageService getExtension should return correct content type for svg",
          "location": {
            "start": {
              "column": 6,
              "line": 79
            }
          }
        }
      ],
      "source": "import type { TestingModule } from \"@nestjs/testing\";\nimport { Test } from \"@nestjs/testing\";\nimport { CloudStorageService } from \"@src/modules/cloud-storage/cloud-storage.service\";\nimport type { Storage } from \"@google-cloud/storage\";\nimport { ConfigService } from \"@nestjs/config\";\nimport { BadRequestException } from \"@nestjs/common\";\n\njest.mock(\"@google-cloud/storage\");\n\ndescribe(\"CloudStorageService\", () => {\n  let service: CloudStorageService;\n  let mockStorage: jest.Mocked<Storage>;\n\n  beforeEach(async() => {\n    const module: TestingModule = await Test.createTestingModule({\n      providers: [\n        CloudStorageService,\n        {\n          provide: ConfigService,\n          useValue: {\n            get: (key: string) => {\n              if (key === \"NAME_BUCKET_STATIC_CONTENT\") {\n                return \"name-bucket\";\n              }\n              return null;\n            },\n          },\n        },\n      ],\n    }).compile();\n\n    service = module.get<CloudStorageService>(CloudStorageService);\n    mockStorage = service[\"storage\"] as jest.Mocked<Storage>;\n  });\n\n  describe(\"getContent\", () => {\n    it(\"should return file content\", async() => {\n      const filename = \"test.jpg\";\n      const mockFileContent = Buffer.from(\"mock file content\");\n      const mockFile = {\n        download: jest.fn().mockResolvedValue([mockFileContent]),\n      };\n      const mockBucket = {\n        file: jest.fn().mockReturnValue(mockFile),\n      };\n      mockStorage.bucket.mockReturnValue(mockBucket as any);\n\n      const result = await service.getContent(filename);\n\n      expect(result).toEqual(mockFileContent);\n      expect(mockStorage.bucket).toHaveBeenCalledWith(\"name-bucket\");\n      expect(mockBucket.file).toHaveBeenCalledWith(filename);\n      expect(mockFile.download).toHaveBeenCalled();\n    });\n    it(\"should return an error\", async() => {\n      const filename = \"test.jpg\";\n      const mockFile = {\n        download: jest.fn().mockRejectedValue(new Error(\"error\")),\n      };\n      const mockBucket = {\n        file: jest.fn().mockReturnValue(mockFile),\n      };\n      mockStorage.bucket.mockReturnValue(mockBucket as any);\n      try {\n        await service.getContent(filename);\n      } catch (error) {\n        expect(error).toBeInstanceOf(BadRequestException);\n        expect(error.message).toBe(\"error\");\n      }\n    });\n  });\n\n  describe(\"getExtension\", () => {\n    it(\"should return correct content type for jpg\", () => {\n      const result = service.getExtension(\"test.jpg\");\n      expect(result).toBe(\"image/jpg\");\n    });\n\n    it(\"should return correct content type for svg\", () => {\n      const result = service.getExtension(\"test.svg\");\n      expect(result).toBe(\"image/svg+xml\");\n    });\n  });\n});"
    },
    "tests/unit/guards/api-key.guard.spec.ts": {
      "tests": [
        {
          "id": "204",
          "name": "Api Key Guard canActivate should return false when api key is invalid.",
          "location": {
            "start": {
              "column": 6,
              "line": 62
            }
          }
        },
        {
          "id": "205",
          "name": "Api Key Guard canActivate should return true when api key is valid.",
          "location": {
            "start": {
              "column": 6,
              "line": 68
            }
          }
        },
        {
          "id": "206",
          "name": "Api Key Guard canActivate should call isApiKeyValid with the api key from the request when called.",
          "location": {
            "start": {
              "column": 6,
              "line": 74
            }
          }
        },
        {
          "id": "207",
          "name": "Api Key Guard isApiKeyValid should return false when api key is invalid.",
          "location": {
            "start": {
              "column": 6,
              "line": 83
            }
          }
        },
        {
          "id": "208",
          "name": "Api Key Guard isApiKeyValid should return true when api key is valid.",
          "location": {
            "start": {
              "column": 6,
              "line": 89
            }
          }
        }
      ],
      "source": "import type { ExecutionContext } from \"@nestjs/common\";\nimport { ConfigService } from \"@nestjs/config\";\nimport type { TestingModule } from \"@nestjs/testing\";\nimport { Test } from \"@nestjs/testing\";\nimport { ApiKeyGuard } from \"@src/guards/api-key.guard\";\n\ndescribe(\"Api Key Guard\", () => {\n  let guards: { apiKey: ApiKeyGuard };\n  let mocks: {\n    guards: {\n      apiKey: {\n        isApiKeyValid: jest.SpyInstance;\n      };\n    };\n    services: {\n      config: {\n        get: jest.Mock;\n      };\n    };\n  };\n\n  beforeEach(async() => {\n    mocks = {\n      guards: {\n        apiKey: {\n          isApiKeyValid: jest.fn(),\n        },\n      },\n      services: {\n        config: {\n          get: jest.fn().mockReturnValue(\"api-key\"),\n        },\n      },\n    };\n    const module: TestingModule = await Test.createTestingModule({\n      providers: [\n        {\n          provide: ConfigService,\n          useValue: mocks.services.config,\n        },\n        ApiKeyGuard,\n      ],\n    }).compile();\n\n    guards = { apiKey: module.get<ApiKeyGuard>(ApiKeyGuard) };\n  });\n\n  describe(\"canActivate\", () => {\n    const context = {\n      switchToHttp: jest.fn().mockReturnValue({\n        getRequest: jest.fn().mockReturnValue({\n          headers: {\n            \"X-API-KEY\": \"api-key\",\n          },\n        }),\n      }),\n    } as unknown as ExecutionContext;\n    beforeEach(() => {\n      mocks.guards.apiKey.isApiKeyValid = jest.spyOn(guards.apiKey as unknown as { isApiKeyValid }, \"isApiKeyValid\").mockReturnValue(false);\n    });\n\n    it(\"should return false when api key is invalid.\", () => {\n      mocks.guards.apiKey.isApiKeyValid.mockReturnValue(false);\n\n      expect(guards.apiKey.canActivate(context)).toBe(false);\n    });\n\n    it(\"should return true when api key is valid.\", () => {\n      mocks.guards.apiKey.isApiKeyValid.mockReturnValue(true);\n\n      expect(guards.apiKey.canActivate(context)).toBe(true);\n    });\n\n    it(\"should call isApiKeyValid with the api key from the request when called.\", () => {\n      guards.apiKey.canActivate(context);\n\n      expect(mocks.guards.apiKey.isApiKeyValid).toHaveBeenCalledTimes(1);\n      expect(mocks.guards.apiKey.isApiKeyValid).toHaveBeenCalledWith(\"api-key\");\n    });\n  });\n\n  describe(\"isApiKeyValid\", () => {\n    it(\"should return false when api key is invalid.\", () => {\n      const apiKey = \"invalid-api-key\";\n\n      expect(guards.apiKey[\"isApiKeyValid\"](apiKey)).toBe(false);\n    });\n\n    it(\"should return true when api key is valid.\", () => {\n      const apiKey = \"api-key\";\n\n      expect(guards.apiKey[\"isApiKeyValid\"](apiKey)).toBe(true);\n    });\n  });\n});"
    },
    "tests/unit/modules/members/members.controller.spec.ts": {
      "tests": [
        {
          "id": "209",
          "name": "MembersController create should create a member, and return an OutputMembers",
          "location": {
            "start": {
              "column": 6,
              "line": 32
            }
          }
        },
        {
          "id": "210",
          "name": "MembersController createMany should create many members",
          "location": {
            "start": {
              "column": 6,
              "line": 40
            }
          }
        },
        {
          "id": "211",
          "name": "MembersController findAll should return an array of OutputMembers",
          "location": {
            "start": {
              "column": 6,
              "line": 47
            }
          }
        },
        {
          "id": "212",
          "name": "MembersController remove should delete 1 member",
          "location": {
            "start": {
              "column": 6,
              "line": 55
            }
          }
        },
        {
          "id": "213",
          "name": "MembersController update should update 1 member",
          "location": {
            "start": {
              "column": 6,
              "line": 63
            }
          }
        }
      ],
      "source": "import type { TestingModule } from \"@nestjs/testing\";\nimport { Test } from \"@nestjs/testing\";\nimport { MembersController } from \"@src/modules/members/members.controller\";\nimport { MembersService } from \"@src/modules/members/members.service\";\nimport type { OutputMembersDto } from \"@src/modules/members/dto/output-member.dto\";\nimport { createMemberMock, OutputMembersDtoMock } from \"@tests/unit/__mocks__/members/members.entity.mock\";\n\ndescribe(\"MembersController\", () => {\n  let controller: MembersController;\n\n  beforeEach(async() => {\n    const module: TestingModule = await Test.createTestingModule({\n      controllers: [MembersController],\n      providers: [\n        {\n          provide: MembersService,\n          useValue: {\n            findAll: jest.fn().mockResolvedValue([OutputMembersDtoMock]),\n            createMany: jest.fn().mockResolvedValue(undefined),\n            create: jest.fn().mockResolvedValue(OutputMembersDtoMock),\n            remove: jest.fn().mockResolvedValue(undefined),\n            update: jest.fn().mockResolvedValue(OutputMembersDtoMock),\n          },\n        },\n      ],\n    }).compile();\n\n    controller = module.get<MembersController>(MembersController);\n  });\n\n  describe(\"create\", () => {\n    it(\"should create a member, and return an OutputMembers\", async() => {\n      const data = await controller.create(createMemberMock);\n      expect(data).toBeDefined();\n      expect(data).toEqual(OutputMembersDtoMock);\n    });\n  });\n\n  describe(\"createMany\", () => {\n    it(\"should create many members\", async() => {\n      const res = await controller.createMany([createMemberMock]);\n      expect(res).toBeUndefined();\n    });\n  });\n\n  describe(\"findAll\", () => {\n    it(\"should return an array of OutputMembers\", async() => {\n      const outputUsers: OutputMembersDto[] = await controller.findAll();\n      expect(outputUsers).toBeDefined();\n      expect(outputUsers).toEqual([OutputMembersDtoMock]);\n    });\n  });\n\n  describe(\"remove\", () => {\n    it(\"should delete 1 member\", async() => {\n      const documentId = \"789QSD123\";\n      const res = await controller.remove(documentId);\n      expect(res).toBeUndefined();\n    });\n  });\n\n  describe(\"update\", () => {\n    it(\"should update 1 member\", async() => {\n      const documentId = \"789QSD123\";\n      const res = await controller.update(documentId, createMemberMock);\n      expect(res).toBeDefined();\n      expect(res).toEqual(OutputMembersDtoMock);\n    });\n  });\n});"
    },
    "tests/unit/modules/agencies/agencies.controller.spec.ts": {
      "tests": [
        {
          "id": "214",
          "name": "agencyController create should create an agency, and return an OutputAgency",
          "location": {
            "start": {
              "column": 6,
              "line": 32
            }
          }
        },
        {
          "id": "215",
          "name": "agencyController createMany should create many agencies",
          "location": {
            "start": {
              "column": 6,
              "line": 40
            }
          }
        },
        {
          "id": "216",
          "name": "agencyController findAll should return an array of Outputagencies",
          "location": {
            "start": {
              "column": 6,
              "line": 47
            }
          }
        },
        {
          "id": "217",
          "name": "agencyController remove should delete 1 agency",
          "location": {
            "start": {
              "column": 6,
              "line": 55
            }
          }
        },
        {
          "id": "218",
          "name": "agencyController update should update 1 agency",
          "location": {
            "start": {
              "column": 6,
              "line": 63
            }
          }
        }
      ],
      "source": "import type { TestingModule } from \"@nestjs/testing\";\nimport { Test } from \"@nestjs/testing\";\nimport { AgenciesController } from \"@src/modules/agencies/agencies.controller\";\nimport { AgenciesService } from \"@src/modules/agencies/agencies.service\";\nimport type { OutputAgencyDto } from \"@src/modules/agencies/dto/output-agency.dto\";\nimport { createAgencyMock, outputAgencyMock } from \"@tests/unit/__mocks__/agencies/agencies.entity.mock\";\n\ndescribe(\"agencyController\", () => {\n  let controller: AgenciesController;\n\n  beforeEach(async() => {\n    const module: TestingModule = await Test.createTestingModule({\n      controllers: [AgenciesController],\n      providers: [\n        {\n          provide: AgenciesService,\n          useValue: {\n            findAll: jest.fn().mockResolvedValue([outputAgencyMock]),\n            createMany: jest.fn().mockResolvedValue(undefined),\n            create: jest.fn().mockResolvedValue(outputAgencyMock),\n            remove: jest.fn().mockResolvedValue(undefined),\n            update: jest.fn().mockResolvedValue(outputAgencyMock),\n          },\n        },\n      ],\n    }).compile();\n\n    controller = module.get<AgenciesController>(AgenciesController);\n  });\n\n  describe(\"create\", () => {\n    it(\"should create an agency, and return an OutputAgency\", async() => {\n      const data = await controller.create(createAgencyMock);\n      expect(data).toBeDefined();\n      expect(data).toEqual(outputAgencyMock);\n    });\n  });\n\n  describe(\"createMany\", () => {\n    it(\"should create many agencies\", async() => {\n      const res = await controller.createMany([createAgencyMock]);\n      expect(res).toBeUndefined();\n    });\n  });\n\n  describe(\"findAll\", () => {\n    it(\"should return an array of Outputagencies\", async() => {\n      const outputUsers: OutputAgencyDto[] = await controller.findAll();\n      expect(outputUsers).toBeDefined();\n      expect(outputUsers).toEqual([outputAgencyMock]);\n    });\n  });\n\n  describe(\"remove\", () => {\n    it(\"should delete 1 agency\", async() => {\n      const documentId = \"789QSD123\";\n      const res = await controller.remove(documentId);\n      expect(res).toBeUndefined();\n    });\n  });\n\n  describe(\"update\", () => {\n    it(\"should update 1 agency\", async() => {\n      const documentId = \"789QSD123\";\n      const res = await controller.update(documentId, createAgencyMock);\n      expect(res).toBeDefined();\n      expect(res).toEqual(outputAgencyMock);\n    });\n  });\n});"
    },
    "tests/unit/modules/agencies/agencies.service.spec.ts": {
      "tests": [
        {
          "id": "219",
          "name": "MembersService create should create a agency",
          "location": {
            "start": {
              "column": 6,
              "line": 26
            }
          }
        },
        {
          "id": "220",
          "name": "MembersService createMany should create many agencies",
          "location": {
            "start": {
              "column": 6,
              "line": 35
            }
          }
        },
        {
          "id": "221",
          "name": "MembersService findAll should return a agency array",
          "location": {
            "start": {
              "column": 6,
              "line": 42
            }
          }
        },
        {
          "id": "222",
          "name": "MembersService update should update a agency",
          "location": {
            "start": {
              "column": 6,
              "line": 50
            }
          }
        },
        {
          "id": "223",
          "name": "MembersService remove should remove a agency",
          "location": {
            "start": {
              "column": 6,
              "line": 60
            }
          }
        }
      ],
      "source": "import type { TestingModule } from \"@nestjs/testing\";\nimport { Test } from \"@nestjs/testing\";\nimport { AgenciesService } from \"@src/modules/agencies/agencies.service\";\nimport { FirestoreService } from \"@src/services/firestore/firestore.service\";\nimport { agencyMock, createAgencyMock } from \"@tests/unit/__mocks__/agencies/agencies.entity.mock\";\nimport { FirestoreServiceMock } from \"@tests/unit/__mocks__/firestore.service\";\n\ndescribe(\"MembersService\", () => {\n  let service: AgenciesService;\n\n  beforeEach(async() => {\n    const module: TestingModule = await Test.createTestingModule({\n      providers: [\n        AgenciesService,\n        {\n          provide: FirestoreService,\n          useClass: FirestoreServiceMock,\n        },\n      ],\n    }).compile();\n\n    service = module.get<AgenciesService>(AgenciesService);\n  });\n\n  describe(\"create\", () => {\n    it(\"should create a agency\", async() => {\n      jest.spyOn(service[\"firestoreService\"], \"saveDocument\").mockImplementation().mockResolvedValue(agencyMock);\n      const create = await service.create(createAgencyMock);\n      expect(create).toBeDefined();\n      expect(create).toEqual(agencyMock);\n    });\n  });\n\n  describe(\"createMany\", () => {\n    it(\"should create many agencies\", async() => {\n      const create = await service.createMany([createAgencyMock]);\n      expect(create).toBeUndefined();\n    });\n  });\n\n  describe(\"findAll\", () => {\n    it(\"should return a agency array\", async() => {\n      jest.spyOn(service[\"firestoreService\"], \"getAllDocuments\").mockImplementation().mockResolvedValue([agencyMock]);\n      const users = await service.findAll();\n      expect(users).toEqual([agencyMock]);\n    });\n  });\n\n  describe(\"update\", () => {\n    it(\"should update a agency\", async() => {\n      const documentId = \"789QSD123\";\n      jest.spyOn(service[\"firestoreService\"], \"updateDocument\").mockImplementation().mockResolvedValue(agencyMock);\n      const updated = await service.update(documentId, createAgencyMock);\n      expect(updated).toBeDefined();\n      expect(updated).toEqual(agencyMock);\n    });\n  });\n\n  describe(\"remove\", () => {\n    it(\"should remove a agency\", async() => {\n      const documentId = \"789QSD123\";\n      jest.spyOn(service[\"firestoreService\"], \"deleteDocument\").mockImplementation().mockResolvedValue(undefined);\n      const res = await service.remove(documentId);\n      expect(res).toBeUndefined();\n    });\n  });\n});"
    },
    "tests/unit/modules/members/members.service.spec.ts": {
      "tests": [
        {
          "id": "224",
          "name": "MembersService create should create a member",
          "location": {
            "start": {
              "column": 6,
              "line": 26
            }
          }
        },
        {
          "id": "225",
          "name": "MembersService createMany should create many members",
          "location": {
            "start": {
              "column": 6,
              "line": 35
            }
          }
        },
        {
          "id": "226",
          "name": "MembersService findAll should return a Member array",
          "location": {
            "start": {
              "column": 6,
              "line": 42
            }
          }
        },
        {
          "id": "227",
          "name": "MembersService update should update a member",
          "location": {
            "start": {
              "column": 6,
              "line": 50
            }
          }
        },
        {
          "id": "228",
          "name": "MembersService remove should remove a member",
          "location": {
            "start": {
              "column": 6,
              "line": 60
            }
          }
        }
      ],
      "source": "import type { TestingModule } from \"@nestjs/testing\";\nimport { Test } from \"@nestjs/testing\";\nimport { MembersService } from \"@src/modules/members/members.service\";\nimport { FirestoreService } from \"@src/services/firestore/firestore.service\";\nimport { FirestoreServiceMock } from \"@tests/unit/__mocks__/firestore.service\";\nimport { createMemberMock, MemberMock } from \"@tests/unit/__mocks__/members/members.entity.mock\";\n\ndescribe(\"MembersService\", () => {\n  let service: MembersService;\n\n  beforeEach(async() => {\n    const module: TestingModule = await Test.createTestingModule({\n      providers: [\n        MembersService,\n        {\n          provide: FirestoreService,\n          useClass: FirestoreServiceMock,\n        },\n      ],\n    }).compile();\n\n    service = module.get<MembersService>(MembersService);\n  });\n\n  describe(\"create\", () => {\n    it(\"should create a member\", async() => {\n      jest.spyOn(service[\"firestoreService\"], \"saveDocument\").mockImplementation().mockResolvedValue(MemberMock);\n      const create = await service.create(createMemberMock);\n      expect(create).toBeDefined();\n      expect(create).toEqual(MemberMock);\n    });\n  });\n\n  describe(\"createMany\", () => {\n    it(\"should create many members\", async() => {\n      const create = await service.createMany([createMemberMock]);\n      expect(create).toBeUndefined();\n    });\n  });\n\n  describe(\"findAll\", () => {\n    it(\"should return a Member array\", async() => {\n      jest.spyOn(service[\"firestoreService\"], \"getAllDocuments\").mockImplementation().mockResolvedValue([MemberMock]);\n      const users = await service.findAll();\n      expect(users).toEqual([MemberMock]);\n    });\n  });\n\n  describe(\"update\", () => {\n    it(\"should update a member\", async() => {\n      const documentId = \"789QSD123\";\n      jest.spyOn(service[\"firestoreService\"], \"updateDocument\").mockImplementation().mockResolvedValue(MemberMock);\n      const updated = await service.update(documentId, createMemberMock);\n      expect(updated).toBeDefined();\n      expect(updated).toEqual(MemberMock);\n    });\n  });\n\n  describe(\"remove\", () => {\n    it(\"should remove a member\", async() => {\n      const documentId = \"789QSD123\";\n      jest.spyOn(service[\"firestoreService\"], \"deleteDocument\").mockImplementation().mockResolvedValue(undefined);\n      const res = await service.remove(documentId);\n      expect(res).toBeUndefined();\n    });\n  });\n});"
    },
    "tests/unit/modules/feedback/feedback.controller.spec.ts": {
      "tests": [
        {
          "id": "229",
          "name": "FeedbackController create should create a feedback when create is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 38
            }
          }
        },
        {
          "id": "230",
          "name": "FeedbackController findAll should return a feedback array when findAll is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 45
            }
          }
        },
        {
          "id": "231",
          "name": "FeedbackController findOne should return a feedback when findOne is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 52
            }
          }
        },
        {
          "id": "232",
          "name": "FeedbackController remove should delete a feedback when remove is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 59
            }
          }
        },
        {
          "id": "233",
          "name": "FeedbackController update should update a feedback when update is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 67
            }
          }
        }
      ],
      "source": "import { Test } from \"@nestjs/testing\";\nimport { FeedbackController } from \"@modules/feedback/feedback.controller\";\nimport { FeedbackService } from \"@modules/feedback/feedback.service\";\nimport type { Feedback } from \"@src/modules/feedback/entities/feedback.entity\";\nimport type { CreateFeedbackDto } from \"@src/modules/feedback/dto/create-feedback.dto\";\n\nconst feedback: Feedback = {\n  _id: \"1\",\n};\nconst createFeedbackDto: CreateFeedbackDto = {\n  _id: \"1\",\n};\n\ndescribe(\"FeedbackController\", () => {\n  let controller: FeedbackController;\n\n  beforeEach(async() => {\n    const module = await Test.createTestingModule({\n      controllers: [FeedbackController],\n      providers: [\n        {\n          provide: FeedbackService,\n          useValue: {\n            create: jest.fn().mockResolvedValue(feedback),\n            findAll: jest.fn().mockResolvedValue([feedback]),\n            findOne: jest.fn().mockResolvedValue(feedback),\n            remove: jest.fn().mockResolvedValue(undefined),\n            update: jest.fn().mockResolvedValue(feedback),\n          },\n        },\n      ],\n    }).compile();\n\n    controller = module.get<FeedbackController>(FeedbackController);\n  });\n\n  describe(\"create\", () => {\n    it(\"should create a feedback when create is called.\", async() => {\n      const create = await controller.create(createFeedbackDto);\n      expect(create).toStrictEqual(feedback);\n    });\n  });\n\n  describe(\"findAll\", () => {\n    it(\"should return a feedback array when findAll is called.\", async() => {\n      const findAll = await controller.findAll();\n      expect(findAll).toStrictEqual([feedback]);\n    });\n  });\n\n  describe(\"findOne\", () => {\n    it(\"should return a feedback when findOne is called.\", async() => {\n      const findOne = await controller.findOne(feedback._id);\n      expect(findOne).toStrictEqual(feedback);\n    });\n  });\n\n  describe(\"remove\", () => {\n    it(\"should delete a feedback when remove is called.\", async() => {\n      const spy = jest.spyOn(controller[\"feedbackService\"], \"remove\");\n      await controller.remove(feedback._id);\n      expect(spy).toHaveBeenCalledTimes(1);\n    });\n  });\n\n  describe(\"update\", () => {\n    it(\"should update a feedback when update is called.\", async() => {\n      const update = await controller.update(feedback._id, createFeedbackDto);\n      expect(update).toStrictEqual(feedback);\n    });\n  });\n});"
    },
    "tests/unit/modules/step/step.controller.spec.ts": {
      "tests": [
        {
          "id": "234",
          "name": "StepController create should create a step when create is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 45
            }
          }
        },
        {
          "id": "235",
          "name": "StepController findAll should return an array of step when findAll is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 52
            }
          }
        },
        {
          "id": "236",
          "name": "StepController findOne should return a step when findOne is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 59
            }
          }
        },
        {
          "id": "237",
          "name": "StepController update should update a step when update is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 66
            }
          }
        },
        {
          "id": "238",
          "name": "StepController remove should delete a step when remove is called.",
          "location": {
            "start": {
              "column": 6,
              "line": 73
            }
          }
        }
      ],
      "source": "import type { TestingModule } from \"@nestjs/testing\";\nimport { Test } from \"@nestjs/testing\";\nimport { ConfigService } from \"@nestjs/config\";\nimport { StepController } from \"@modules/step/step.controller\";\nimport { StepService } from \"@modules/step/step.service\";\nimport type { Step } from \"@src/modules/step/entities/step.entity\";\n\nconst step: Step = {\n  _id: \"1\",\n  cutAt: 0,\n  minDays: 30,\n  maxDays: 90,\n  unlockEmail: {\n    subject: \"Test\",\n    body: \"1234\",\n  },\n  subSteps: 1,\n};\n\ndescribe(\"StepController\", () => {\n  let controller: StepController;\n\n  beforeEach(async() => {\n    const module: TestingModule = await Test.createTestingModule({\n      controllers: [StepController],\n      providers: [\n        ConfigService,\n        {\n          provide: StepService,\n          useValue: {\n            create: jest.fn().mockResolvedValue(step),\n            findAll: jest.fn().mockResolvedValue([step]),\n            findOne: jest.fn().mockResolvedValue(step),\n            update: jest.fn().mockResolvedValue(step),\n            remove: jest.fn().mockResolvedValue(undefined),\n          },\n        },\n      ],\n    }).compile();\n\n    controller = module.get<StepController>(StepController);\n  });\n\n  describe(\"create\", () => {\n    it(\"should create a step when create is called.\", async() => {\n      const create = await controller.create(step);\n      expect(create).toStrictEqual(step);\n    });\n  });\n\n  describe(\"findAll\", () => {\n    it(\"should return an array of step when findAll is called.\", async() => {\n      const findAll = await controller.findAll();\n      expect(findAll).toStrictEqual([step]);\n    });\n  });\n\n  describe(\"findOne\", () => {\n    it(\"should return a step when findOne is called.\", async() => {\n      const findOne = await controller.findOne(step._id);\n      expect(findOne).toStrictEqual(step);\n    });\n  });\n\n  describe(\"update\", () => {\n    it(\"should update a step when update is called.\", async() => {\n      const update = await controller.update(step._id, step);\n      expect(update).toStrictEqual(step);\n    });\n  });\n\n  describe(\"remove\", () => {\n    it(\"should delete a step when remove is called.\", async() => {\n      const spy = jest.spyOn(controller[\"stepService\"], \"remove\");\n      await controller.remove(step._id);\n      expect(spy).toHaveBeenCalledTimes(1);\n    });\n  });\n});"
    },
    "tests/unit/guards/role.guard.spec.ts": {
      "tests": [
        {
          "id": "239",
          "name": "RoleGuard canActivate should return true when no role required is set.",
          "location": {
            "start": {
              "column": 6,
              "line": 44
            }
          }
        },
        {
          "id": "240",
          "name": "RoleGuard canActivate should return false when role required is not in user role.",
          "location": {
            "start": {
              "column": 6,
              "line": 49
            }
          }
        },
        {
          "id": "241",
          "name": "RoleGuard canActivate should return true when role required is in user role.",
          "location": {
            "start": {
              "column": 6,
              "line": 55
            }
          }
        },
        {
          "id": "242",
          "name": "RoleGuard canActivate should return true when BYPASS_GUARD is set.",
          "location": {
            "start": {
              "column": 6,
              "line": 62
            }
          }
        }
      ],
      "source": "import { Test } from \"@nestjs/testing\";\nimport { Reflector } from \"@nestjs/core\";\nimport { ConfigService } from \"@nestjs/config\";\nimport type { ExecutionContextHost } from \"@nestjs/core/helpers/execution-context-host\";\nimport { RoleGuard } from \"@src/guards/role.guard\";\nimport { ROLE_KEY, Role } from \"@src/decorators/role\";\n\nconst role = Role.ADMIN;\n\ndescribe(\"RoleGuard\", () => {\n  let guard: RoleGuard;\n  let context: ExecutionContextHost;\n\n  beforeEach(async() => {\n    const module = await Test.createTestingModule({\n      providers: [\n        RoleGuard,\n        ConfigService,\n        {\n          provide: Reflector,\n          useValue: {\n            get: jest.fn().mockReturnValue(undefined),\n          },\n        },\n      ],\n    }).compile();\n\n    context = {\n      getHandler: jest.fn(),\n      switchToHttp: jest.fn().mockReturnValue({\n        getRequest: jest.fn().mockReturnValue({\n          user: { role: undefined },\n        }),\n      }),\n    } as unknown as ExecutionContextHost;\n    guard = module.get<RoleGuard>(RoleGuard);\n  });\n\n  afterEach(() => {\n    jest.resetAllMocks();\n  });\n\n  describe(\"canActivate\", () => {\n    it(\"should return true when no role required is set.\", () => {\n      const canActivate = guard.canActivate(context);\n      expect(canActivate).toBe(true);\n    });\n\n    it(\"should return false when role required is not in user role.\", () => {\n      jest.spyOn(guard[\"reflector\"], \"get\").mockImplementation((key: string) => (key === ROLE_KEY ? [role] : undefined));\n      const canActivate = guard.canActivate(context);\n      expect(canActivate).toBe(false);\n    });\n\n    it(\"should return true when role required is in user role.\", () => {\n      jest.spyOn(context.switchToHttp(), \"getRequest\").mockReturnValue({ user: { role } });\n      jest.spyOn(guard[\"reflector\"], \"get\").mockImplementation((key: string) => (key === ROLE_KEY ? [role] : undefined));\n      const canActivate = guard.canActivate(context);\n      expect(canActivate).toBe(true);\n    });\n\n    it(\"should return true when BYPASS_GUARD is set.\", () => {\n      jest.spyOn(guard[\"configService\"], \"get\").mockImplementation((key: string) => (key === \"BYPASS_GUARD\" ? \"true\" : \"\"));\n      const canActivate = guard.canActivate(context);\n      expect(canActivate).toBe(true);\n    });\n  });\n});"
    },
    "tests/unit/modules/cloud-storage/cloud-storage.controller.spec.ts": {
      "tests": [
        {
          "id": "243",
          "name": "CloudStorageController getFile should return a StreamableFile",
          "location": {
            "start": {
              "column": 6,
              "line": 31
            }
          }
        }
      ],
      "source": "import type { TestingModule } from \"@nestjs/testing\";\nimport { Test } from \"@nestjs/testing\";\nimport { CloudStorageController } from \"@src/modules/cloud-storage/cloud-storage.controller\";\nimport { CloudStorageService } from \"@src/modules/cloud-storage/cloud-storage.service\";\nimport { StreamableFile } from \"@nestjs/common\";\nimport type { Response } from \"express\";\n\ndescribe(\"CloudStorageController\", () => {\n  let controller: CloudStorageController;\n  let service: CloudStorageService;\n\n  beforeEach(async() => {\n    const module: TestingModule = await Test.createTestingModule({\n      controllers: [CloudStorageController],\n      providers: [\n        {\n          provide: CloudStorageService,\n          useValue: {\n            getContent: jest.fn(),\n            getExtension: jest.fn(),\n          },\n        },\n      ],\n    }).compile();\n\n    controller = module.get<CloudStorageController>(CloudStorageController);\n    service = module.get<CloudStorageService>(CloudStorageService);\n  });\n\n  describe(\"getFile\", () => {\n    it(\"should return a StreamableFile\", async() => {\n      const filename = \"test.jpg\";\n      const mockFile = Buffer.from(\"mock file content\");\n      const mockContentType = \"image/jpeg\";\n\n      jest.spyOn(service, \"getContent\").mockResolvedValue(mockFile);\n      jest.spyOn(service, \"getExtension\").mockReturnValue(mockContentType);\n\n      const mockResponse = {\n        set: jest.fn(),\n      } as unknown as Response;\n\n      const result = await controller.getFile(filename, mockResponse);\n\n      expect(result).toBeInstanceOf(StreamableFile);\n      expect(service.getContent).toHaveBeenCalledWith(filename);\n      expect(service.getExtension).toHaveBeenCalledWith(filename);\n      expect(mockResponse.set).toHaveBeenCalledWith(\"Content-Type\", mockContentType);\n    });\n  });\n});"
    },
    "tests/unit/services/cognito.service.spec.ts": {
      "tests": [
        {
          "id": "244",
          "name": "CognitoService verifyIdToken should return decoded token when verifyIdToken success.",
          "location": {
            "start": {
              "column": 6,
              "line": 32
            }
          }
        },
        {
          "id": "245",
          "name": "CognitoService verifyIdToken should throw when verifyIdToken fails.",
          "location": {
            "start": {
              "column": 6,
              "line": 38
            }
          }
        }
      ],
      "source": "import { ConfigService } from \"@nestjs/config\";\nimport { Test } from \"@nestjs/testing\";\nimport { UnauthorizedException } from \"@nestjs/common\";\nimport type { InternalServerErrorException } from \"@nestjs/common\";\nimport { NoErrorThrownError, getError } from \"@tests/unit/utils\";\nimport { CognitoService } from \"src/services/cognito/cognito.service\";\n\njest.mock(\"aws-jwt-verify\", (): unknown => ({ CognitoJwtVerifier: { create: () => ({ verify: jest.fn() }) } }));\n\nconst tokenPayload = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIn0.rTCH8cLoGxAm_xw68z-zXVKi9ie6xJn9tnVWjd_9ftE\";\nconst tokenResult = { sub: \"1\" } as Awaited<ReturnType<CognitoService[\"verifyIdToken\"]>>;\n\ndescribe(\"CognitoService\", () => {\n  let service: CognitoService;\n\n  beforeEach(async() => {\n    const module = await Test.createTestingModule({\n      providers: [\n        CognitoService,\n        ConfigService,\n      ],\n    }).compile();\n\n    service = module.get<CognitoService>(CognitoService);\n  });\n\n  afterEach(() => {\n    jest.resetAllMocks();\n  });\n\n  describe(\"verifyIdToken\", () => {\n    it(\"should return decoded token when verifyIdToken success.\", async() => {\n      jest.spyOn(service[\"verifier\"], \"verify\").mockResolvedValue(tokenResult);\n      const verifyIdToken = await service.verifyIdToken(tokenPayload);\n      expect(verifyIdToken).toStrictEqual(tokenResult);\n    });\n\n    it(\"should throw when verifyIdToken fails.\", async() => {\n      jest.spyOn(service[\"verifier\"], \"verify\").mockRejectedValue(new Error());\n      const error: InternalServerErrorException = await getError(async() => service.verifyIdToken(tokenPayload));\n      expect(error).not.toBeInstanceOf(NoErrorThrownError);\n      expect(error).toBeInstanceOf(UnauthorizedException);\n    });\n  });\n});"
    },
    "tests/unit/modules/content/content.controller.spec.ts": {
      "tests": [
        {
          "id": "246",
          "name": "ContentController should create a content",
          "location": {
            "start": {
              "column": 4,
              "line": 20
            }
          }
        },
        {
          "id": "247",
          "name": "ContentController should find one content",
          "location": {
            "start": {
              "column": 4,
              "line": 26
            }
          }
        },
        {
          "id": "248",
          "name": "ContentController should update a content",
          "location": {
            "start": {
              "column": 4,
              "line": 32
            }
          }
        }
      ],
      "source": "import { ContentServiceMock } from \"@tests/unit/__mocks__/content/content.service.mock\";\nimport type { TestingModule } from \"@nestjs/testing\";\nimport { Test } from \"@nestjs/testing\";\nimport { ContentController } from \"@src/modules/content/content.controller\";\nimport { ContentService } from \"@src/modules/content/content.service\";\nimport type { ContentEntity } from \"@src/modules/content/entities/content.entity\";\n\ndescribe(\"ContentController\", () => {\n  let controller: ContentController;\n\n  beforeEach(async() => {\n    const module: TestingModule = await Test.createTestingModule({\n      controllers: [ContentController],\n      providers: [{ provide: ContentService, useClass: ContentServiceMock }],\n    }).compile();\n\n    controller = module.get<ContentController>(ContentController);\n  });\n\n  it(\"should create a content\", async() => {\n    const res: ContentEntity = (await controller.create({})) as ContentEntity;\n    expect(res.id).toBe(\"test-id\");\n    expect(res.data).toBeDefined();\n  });\n\n  it(\"should find one content\", async() => {\n    const res: ContentEntity = (await controller.findOne(\"azerty\")) as ContentEntity;\n    expect(res.id).toBe(\"test-id\");\n    expect(res.data).toBeDefined();\n  });\n\n  it(\"should update a content\", async() => {\n    const res: ContentEntity = (await controller.update(\"azerty\", {})) as ContentEntity;\n    expect(res.id).toBe(\"test-id\");\n    expect(res.data).toBeDefined();\n  });\n});"
    },
    "tests/unit/app.controller.spec.ts": {
      "tests": [
        {
          "id": "249",
          "name": "AuthentificationController AppController should return a webApp version",
          "location": {
            "start": {
              "column": 6,
              "line": 20
            }
          }
        }
      ],
      "source": "import type { TestingModule } from \"@nestjs/testing\";\nimport { Test } from \"@nestjs/testing\";\nimport { AppController } from \"@src/app.controller\";\nimport { AppService } from \"@src/app.service\";\nimport { version } from \"../../package.json\";\n\ndescribe(\"AuthentificationController\", () => {\n  let controller: AppController;\n\n  beforeEach(async() => {\n    const module: TestingModule = await Test.createTestingModule({\n      controllers: [AppController],\n      providers: [AppService],\n    }).compile();\n\n    controller = module.get<AppController>(AppController);\n  });\n\n  describe(\"AppController\", () => {\n    it(\"should return a webApp version\", () => {\n      const res = controller.getHealth();\n      expect(res).toBe(`Welcome back version: ${version}`);\n    });\n  });\n});"
    },
    "tests/unit/app.service.spec.ts": {
      "tests": [
        {
          "id": "250",
          "name": "AppService should return a webApp version",
          "location": {
            "start": {
              "column": 4,
              "line": 16
            }
          }
        }
      ],
      "source": "import type { TestingModule } from \"@nestjs/testing\";\nimport { Test } from \"@nestjs/testing\";\nimport { AppService } from \"@src/app.service\";\nimport { version } from \"../../package.json\";\n\ndescribe(\"AppService\", () => {\n  let service: AppService;\n  beforeEach(async() => {\n    const module: TestingModule = await Test.createTestingModule({\n      providers: [AppService],\n    }).compile();\n\n    service = module.get<AppService>(AppService);\n  });\n\n  it(\"should return a webApp version\", () => {\n    const res = service.getHealth();\n    expect(res).toBe(`Welcome back version: ${version}`);\n  });\n});"
    }
  },
  "projectRoot": "/Users/antoinezanardi/WebstormProjects/welcome-hub-back",
  "config": {
    "cleanTempDir": "always",
    "incremental": true,
    "incrementalFile": "tests/stryker/incremental.json",
    "checkers": [
      "typescript"
    ],
    "tsconfigFile": "tsconfig.json",
    "testRunner": "jest",
    "ignoreStatic": true,
    "mutate": [
      "src/**/*.ts",
      "!src/**/*.dto.ts",
      "!src/**/*.controller.ts",
      "!src/**/*.module.ts",
      "!src/**/*.types.ts",
      "!src/**/*.entity.ts",
      "!src/**/*.constants.ts"
    ],
    "plugins": [
      "@stryker-mutator/jest-runner",
      "@stryker-mutator/typescript-checker"
    ],
    "ignorePatterns": [
      ".github/",
      ".husky/",
      ".output/",
      ".run/",
      ".idea/",
      "configs/stryker/",
      "configs/docker/",
      "tests/stryker/",
      "scripts/",
      ".editorconfig",
      ".npmrc",
      ".nvmrc",
      ".DS_Store",
      ".validate-branch-namerc.json",
      "CHANGELOG.md",
      "LICENSE",
      "package-lock.json",
      "README.md"
    ],
    "jest": {
      "configFile": "configs/jest/jest-unit.config.ts",
      "projectType": "custom",
      "enableFindRelatedTests": true
    },
    "reporters": [
      "clear-text",
      "progress",
      "html",
      "json"
    ],
    "htmlReporter": {
      "fileName": "tests/stryker/coverage/index.html"
    },
    "jsonReporter": {
      "fileName": "tests/stryker/coverage/mutation.json"
    },
    "disableTypeChecks": "{tests,src,lib}/**/*.{js,ts,jsx,tsx,html}",
    "thresholds": {
      "high": 100,
      "low": 45,
      "break": 45
    },
    "configFile": "configs/stryker/stryker.conf.js",
    "allowConsoleColors": true,
    "checkerNodeArgs": [],
    "commandRunner": {
      "command": "npm test"
    },
    "coverageAnalysis": "perTest",
    "clearTextReporter": {
      "allowColor": true,
      "allowEmojis": false,
      "logTests": true,
      "maxTestsToLog": 3,
      "reportTests": true,
      "reportMutants": true,
      "reportScoreTable": true,
      "skipFull": false
    },
    "dashboard": {
      "baseUrl": "https://dashboard.stryker-mutator.io/api/reports",
      "reportType": "full"
    },
    "dryRunOnly": false,
    "eventReporter": {
      "baseDir": "reports/mutation/events"
    },
    "force": false,
    "fileLogLevel": "off",
    "inPlace": false,
    "logLevel": "info",
    "maxConcurrentTestRunners": 9007199254740991,
    "maxTestRunnerReuse": 0,
    "mutator": {
      "plugins": null,
      "excludedMutations": []
    },
    "appendPlugins": [],
    "symlinkNodeModules": true,
    "tempDirName": ".stryker-tmp",
    "testRunnerNodeArgs": [],
    "timeoutFactor": 1.5,
    "timeoutMS": 5000,
    "dryRunTimeoutMinutes": 5,
    "warnings": true,
    "disableBail": false,
    "allowEmpty": false,
    "ignorers": [],
    "typescriptChecker": {
      "prioritizePerformanceOverAccuracy": true
    }
  },
  "framework": {
    "name": "StrykerJS",
    "version": "8.5.0",
    "branding": {
      "homepageUrl": "https://stryker-mutator.io",
      "imageUrl": "data:image/svg+xml;utf8,%3Csvg viewBox='0 0 1458 1458' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd' clip-rule='evenodd' stroke-linejoin='round' stroke-miterlimit='2'%3E%3Cpath fill='none' d='M0 0h1458v1458H0z'/%3E%3CclipPath id='a'%3E%3Cpath d='M0 0h1458v1458H0z'/%3E%3C/clipPath%3E%3Cg clip-path='url(%23a)'%3E%3Cpath d='M1458 729c0 402.655-326.345 729-729 729S0 1131.655 0 729C0 326.445 326.345 0 729 0s729 326.345 729 729' fill='%23e74c3c' fill-rule='nonzero'/%3E%3Cpath d='M778.349 1456.15L576.6 1254.401l233-105 85-78.668v-64.332l-257-257-44-187-50-208 251.806-82.793L1076.6 389.401l380.14 379.15c-19.681 367.728-311.914 663.049-678.391 687.599z' fill-opacity='.3'/%3E%3Cpath d='M753.4 329.503c41.79 0 74.579 7.83 97.925 25.444 23.571 18.015 41.69 43.956 55.167 77.097l11.662 28.679 165.733-58.183-14.137-32.13c-26.688-60.655-64.896-108.61-114.191-144.011-49.329-35.423-117.458-54.302-204.859-54.302-50.78 0-95.646 7.376-134.767 21.542-40.093 14.671-74.09 34.79-102.239 60.259-28.84 26.207-50.646 57.06-65.496 92.701-14.718 35.052-22.101 72.538-22.101 112.401 0 72.536 20.667 133.294 61.165 182.704 38.624 47.255 98.346 88.037 179.861 121.291 42.257 17.475 78.715 33.125 109.227 46.994 27.193 12.361 49.294 26.124 66.157 41.751 15.309 14.186 26.497 30.584 33.63 49.258 7.721 20.214 11.16 45.69 11.16 76.402 0 28.021-4.251 51.787-13.591 71.219-8.832 18.374-20.171 33.178-34.523 44.219-14.787 11.374-31.193 19.591-49.393 24.466-19.68 5.359-39.14 7.993-58.69 7.993-29.359 0-54.387-3.407-75.182-10.747-20.112-7.013-37.144-16.144-51.259-27.486-13.618-11.009-24.971-23.766-33.744-38.279-9.64-15.8-17.272-31.924-23.032-48.408l-10.965-31.376-161.669 60.585 10.734 30.124c10.191 28.601 24.197 56.228 42.059 82.748 18.208 27.144 41.322 51.369 69.525 72.745 27.695 21.075 60.904 38.218 99.481 51.041 37.777 12.664 82.004 19.159 132.552 19.159 49.998 0 95.818-8.321 137.611-24.622 42.228-16.471 78.436-38.992 108.835-67.291 30.719-28.597 54.631-62.103 71.834-100.642 17.263-38.56 25.923-79.392 25.923-122.248 0-54.339-8.368-100.37-24.208-138.32-16.29-38.759-38.252-71.661-65.948-98.797-26.965-26.418-58.269-48.835-93.858-67.175-33.655-17.241-69.196-33.11-106.593-47.533-35.934-13.429-65.822-26.601-89.948-39.525-22.153-11.868-40.009-24.21-53.547-37.309-11.429-11.13-19.83-23.678-24.718-37.664-5.413-15.49-7.98-33.423-7.98-53.577 0-40.883 11.293-71.522 37.086-90.539 28.443-20.825 64.985-30.658 109.311-30.658z' fill='%23f1c40f' fill-rule='nonzero'/%3E%3Cpath d='M720 0h18v113h-18zM1458 738v-18h-113v18h113zM720 1345h18v113h-18zM113 738v-18H0v18h113z'/%3E%3C/g%3E%3C/svg%3E"
    },
    "dependencies": {
      "@stryker-mutator/jest-runner": "8.5.0",
      "@stryker-mutator/typescript-checker": "8.5.0",
      "jest": "29.7.0",
      "typescript": "5.6.3",
      "webpack": "5.96.1",
      "ts-jest": "29.1.4"
    }
  }
}